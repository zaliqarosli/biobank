(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=101)})([function(module,exports){module.exports=React},function(module,exports,__webpack_require__){if(false){var throwOnDirectAccess,ReactIs}else{module.exports=__webpack_require__(13)()}},function(module,exports){function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}module.exports=_assertThisInitialized;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports){function _getPrototypeOf(o){module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};module.exports["default"]=module.exports,module.exports.__esModule=true;return _getPrototypeOf(o)}module.exports=_getPrototypeOf;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}module.exports=_classCallCheck;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}module.exports=_createClass;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports,__webpack_require__){var setPrototypeOf=__webpack_require__(11);function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)setPrototypeOf(subClass,superClass)}module.exports=_inherits;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(8)["default"];var assertThisInitialized=__webpack_require__(2);function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return assertThisInitialized(self)}module.exports=_possibleConstructorReturn;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports){function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){module.exports=_typeof=function _typeof(obj){return typeof obj};module.exports["default"]=module.exports,module.exports.__esModule=true}else{module.exports=_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports["default"]=module.exports,module.exports.__esModule=true}return _typeof(obj)}module.exports=_typeof;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return Tabs});__webpack_require__.d(__webpack_exports__,"c",function(){return VerticalTabs});__webpack_require__.d(__webpack_exports__,"a",function(){return TabPane});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);var react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);var prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1);var prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var Tabs=function(_Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Tabs,_Component);var _super=_createSuper(Tabs);function Tabs(props){var _this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Tabs);_this=_super.call(this,props);var hash=window.location.hash;var activeTab="";if(_this.props.updateURL&&hash){activeTab=hash.substr(1)}else if(_this.props.defaultTab){activeTab=_this.props.defaultTab}else if(_this.props.tabs.length>0){activeTab=_this.props.tabs[0].id}_this.state={activeTab};_this.handleClick=_this.handleClick.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this));_this.getTabs=_this.getTabs.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this));_this.getTabPanes=_this.getTabPanes.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this));return _this}_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Tabs,[{key:"handleClick",value:function handleClick(tabId,e){this.setState({activeTab:tabId});this.props.onTabChange(tabId);if(this.props.updateURL){var scrollDistance=$("body").scrollTop()||$("html").scrollTop();window.location.hash=e.target.hash;$("html,body").scrollTop(scrollDistance)}}},{key:"getTabs",value:function getTabs(){var tabs=this.props.tabs.map(function(tab){var tabClass=this.state.activeTab===tab.id?"active":null;var href="#"+tab.id;var tabID="tab-"+tab.id;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li",{role:"presentation",className:tabClass,key:tab.id},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("a",{id:tabID,href,role:"tab","data-toggle":"tab",onClick:this.handleClick.bind(null,tab.id)},tab.label))}.bind(this));return tabs}},{key:"getTabPanes",value:function getTabPanes(){var tabPanes=react__WEBPACK_IMPORTED_MODULE_6___default.a.Children.map(this.props.children,function(child,key){if(child){return react__WEBPACK_IMPORTED_MODULE_6___default.a.cloneElement(child,{activeTab:this.state.activeTab,key})}}.bind(this));return tabPanes}},{key:"render",value:function render(){var tabs=this.getTabs();var tabPanes=this.getTabPanes();var tabStyle={marginLeft:0,marginBottom:"5px"};return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("ul",{className:"nav nav-tabs",role:"tablist",style:tabStyle},tabs),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"tab-content"},tabPanes))}}]);return Tabs}(react__WEBPACK_IMPORTED_MODULE_6__["Component"]);Tabs.propTypes={tabs:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array.isRequired,defaultTab:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,updateURL:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool};Tabs.defaultProps={onTabChange:function onTabChange(){},updateURL:true};var VerticalTabs=function(_Component2){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(VerticalTabs,_Component2);var _super2=_createSuper(VerticalTabs);function VerticalTabs(props){var _this2;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,VerticalTabs);_this2=_super2.call(this,props);var hash=window.location.hash;var activeTab="";if(_this2.props.updateURL&&hash){activeTab=hash.substr(1)}else if(_this2.props.defaultTab){activeTab=_this2.props.defaultTab}else if(_this2.props.tabs.length>0){activeTab=_this2.props.tabs[0].id}_this2.state={activeTab};_this2.handleClick=_this2.handleClick.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this2));_this2.getTabs=_this2.getTabs.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this2));_this2.getTabPanes=_this2.getTabPanes.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this2));return _this2}_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(VerticalTabs,[{key:"handleClick",value:function handleClick(tabId,e){this.setState({activeTab:tabId});this.props.onTabChange(tabId);if(this.props.updateURL){var scrollDistance=$("body").scrollTop()||$("html").scrollTop();window.location.hash=e.target.hash;$("html,body").scrollTop(scrollDistance)}}},{key:"getTabs",value:function getTabs(){var tabs=this.props.tabs.map(function(tab){var error=tab.error?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",{className:"glyphicon glyphicon-exclamation-sign pull-right",style:{color:"#b94a48"}}):null;var tabClass=this.state.activeTab===tab.id?"active":null;var href="#"+tab.id;var tabID="tab-"+tab.id;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li",{role:"presentation",className:tabClass,key:tab.id},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("a",{id:tabID,href,role:"tab","data-toggle":"tab",onClick:this.handleClick.bind(null,tab.id)},tab.label,error))}.bind(this));return tabs}},{key:"getTabPanes",value:function getTabPanes(){var tabPanes=react__WEBPACK_IMPORTED_MODULE_6___default.a.Children.map(this.props.children,function(child,key){if(child){return react__WEBPACK_IMPORTED_MODULE_6___default.a.cloneElement(child,{activeTab:this.state.activeTab,key})}}.bind(this));return tabPanes}},{key:"render",value:function render(){var tabs=this.getTabs();var tabPanes=this.getTabPanes();var tabStyle={marginLeft:0,marginBottom:"5px"};return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"tabbable col-md-3 col-sm-3"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("ul",{className:"nav nav-pills nav-stacked",role:"tablist",style:tabStyle},tabs)),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"tab-content col-md-9 col-sm-9"},tabPanes))}}]);return VerticalTabs}(react__WEBPACK_IMPORTED_MODULE_6__["Component"]);VerticalTabs.propTypes={tabs:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array.isRequired,defaultTab:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,updateURL:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool};VerticalTabs.defaultProps={onTabChange:function onTabChange(){},updateURL:true};var TabPane=function(_Component3){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(TabPane,_Component3);var _super3=_createSuper(TabPane);function TabPane(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,TabPane);return _super3.apply(this,arguments)}_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(TabPane,[{key:"render",value:function render(){var classList="tab-pane";var title;if(this.props.TabId===this.props.activeTab){classList+=" active"}if(this.props.Title){title=react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h1",null,this.props.Title)}return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{role:"tabpanel",className:classList,id:this.props.TabId},title,this.props.children)}}]);return TabPane}(react__WEBPACK_IMPORTED_MODULE_6__["Component"]);TabPane.propTypes={TabId:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,Title:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,activeTab:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string}},function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);function LoadingBar(props){var progress=props.progress;var wrapperStyle={margin:50};var containerStyles={height:5,backgroundColor:"#e0e0de",borderRadius:50};var fillerStyles={height:"100%",width:"".concat(progress,"%"),backgroundColor:"#E89A0C",borderRadius:"inherit",textAlign:"right",transition:"width 1s linear"};var progressBar=progress>=0?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:wrapperStyle},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h5",{className:"animate-flicker"},"Loading..."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:containerStyles},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:fillerStyles}))):null;return progressBar}__webpack_exports__["a"]=LoadingBar},function(module,exports){function _setPrototypeOf(o,p){module.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};module.exports["default"]=module.exports,module.exports.__esModule=true;return _setPrototypeOf(o,p)}module.exports=_setPrototypeOf;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);var prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1);var prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);var jsx_LoadingBar__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(10);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var Loader=function(_Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(Loader,_Component);var _super=_createSuper(Loader);function Loader(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Loader);return _super.apply(this,arguments)}_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Loader,[{key:"render",value:function render(){var loaderStyle={width:parseInt(this.props.size),height:parseInt(this.props.size),borderWidth:parseInt(this.props.size)/15};var progressBar=this.props.progress&&react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(jsx_LoadingBar__WEBPACK_IMPORTED_MODULE_7__["a"],{progress:this.props.progress});return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div",{className:"loader",style:loaderStyle}),progressBar)}}]);return Loader}(react__WEBPACK_IMPORTED_MODULE_5__["Component"]);Loader.propTypes={size:prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string};Loader.defaultProps={size:"120"};__webpack_exports__["a"]=Loader},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(14);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret){return}var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types");err.name="Invariant Violation";throw err}shim.isRequired=shim;function getShim(){return shim}var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes}},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=ReactPropTypesSecret},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);var react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);var prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1);var prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var PaginationLinks=function(_Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(PaginationLinks,_Component);var _super=_createSuper(PaginationLinks);function PaginationLinks(props){var _this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,PaginationLinks);_this=_super.call(this,props);_this.state={};_this.changePage=_this.changePage.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this));return _this}_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(PaginationLinks,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(this.props.Total<prevProps.Total){this.props.onChangePage(1)}}},{key:"changePage",value:function changePage(i){return function(evt){evt.preventDefault();if(this.props.onChangePage){this.props.onChangePage(i)}}.bind(this)}},{key:"render",value:function render(){var rowsPerPage=this.props.RowsPerPage;var pageLinks=[];var classList;var lastPage=Math.ceil(this.props.Total/rowsPerPage);var startPage=Math.max(1,this.props.Active-3);var lastShownPage=Math.min(this.props.Active+3,lastPage);if(this.props.Total===0){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null)}if(this.props.Total<this.props.RowsPerPage){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null)}if(lastShownPage-startPage<=7){lastShownPage=startPage+6;if(lastShownPage>lastPage){lastShownPage=lastPage;startPage=lastPage-6}}if(startPage>1){pageLinks.push(react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li",{key:"table_page_beginning_"+startPage.toString(),onClick:this.changePage(1)},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("a",{href:"#"},"«")))}if(startPage<1){startPage=1}if(lastShownPage<1){lastShownPage=1}if(startPage===lastShownPage){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null)}for(var i=startPage;i<=lastShownPage;i+=1){classList="";if(this.props.Active===i){classList="active"}pageLinks.push(react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li",{key:"table_page_"+i.toString(),onClick:this.changePage(i),className:classList},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("a",{href:"#"},i)))}if(lastShownPage!==lastPage){pageLinks.push(react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li",{key:"table_page_more_"+lastShownPage.toString(),onClick:this.changePage(lastPage)},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("a",{href:"#"},"»")))}return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("ul",{className:"pagination pagination-table"},pageLinks)}}]);return PaginationLinks}(react__WEBPACK_IMPORTED_MODULE_6__["Component"]);PaginationLinks.propTypes={onChangePage:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,Total:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number.isRequired};PaginationLinks.defaultProps={RowsPerPage:10,Active:1};var RPaginationLinks=react__WEBPACK_IMPORTED_MODULE_6___default.a.createFactory(PaginationLinks);window.PaginationLinks=PaginationLinks;window.RPaginationLinks=RPaginationLinks;__webpack_exports__["default"]=PaginationLinks},function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);var react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);var prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1);var prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var Panel=function(_Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Panel,_Component);var _super=_createSuper(Panel);function Panel(props){var _this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Panel);_this=_super.call(this,props);_this.state={collapsed:_this.props.initCollapsed};_this.panelClass=_this.props.initCollapsed?"panel-collapse collapse":"panel-collapse collapse in";_this.toggleCollapsed=_this.toggleCollapsed.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this));return _this}_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Panel,[{key:"toggleCollapsed",value:function toggleCollapsed(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function render(){var glyphClass=this.state.collapsed?"glyphicon pull-right glyphicon-chevron-down":"glyphicon pull-right glyphicon-chevron-up";var panelHeading=this.props.title?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"panel-heading",onClick:this.toggleCollapsed,"data-toggle":"collapse","data-target":"#"+this.props.id,style:{cursor:"pointer"}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("b",null,this.props.title),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",{className:glyphClass})):"";return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"panel panel-primary"},panelHeading,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{id:this.props.id,className:this.panelClass,role:"tabpanel",style:{overflowX:"auto"}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"panel-body",style:{height:this.props.height}},this.props.children)))}}]);return Panel}(react__WEBPACK_IMPORTED_MODULE_6__["Component"]);Panel.propTypes={initCollapsed:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,id:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,height:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,title:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string};Panel.defaultProps={initCollapsed:false,id:"default-panel",height:"100%",title:""};__webpack_exports__["a"]=Panel},function(module,exports,__webpack_require__){
/*!
* sweetalert2 v7.29.2
* Released under the MIT License.
*/
(function(global,factory){true?module.exports=factory():undefined})(this,function(){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function(obj){return typeof obj}}else{_typeof=function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _possibleConstructorReturn(self,call){if(call&&(typeof call==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}var consolePrefix="SweetAlert2:";var uniqueArray=function uniqueArray(arr){var result=[];for(var i=0;i<arr.length;i++){if(result.indexOf(arr[i])===-1){result.push(arr[i])}}return result};var toArray=function toArray(nodeList){return Array.prototype.slice.call(nodeList)};var formatInputOptions=function formatInputOptions(inputOptions){var result=[];if(typeof Map!=="undefined"&&inputOptions instanceof Map){inputOptions.forEach(function(value,key){result.push([key,value])})}else{Object.keys(inputOptions).forEach(function(key){result.push([key,inputOptions[key]])})}return result};var warn=function warn(message){console.warn("".concat(consolePrefix," ").concat(message))};var error=function error(message){console.error("".concat(consolePrefix," ").concat(message))};var previousWarnOnceMessages=[];var warnOnce=function warnOnce(message){if(!(previousWarnOnceMessages.indexOf(message)!==-1)){previousWarnOnceMessages.push(message);warn(message)}};var callIfFunction=function callIfFunction(arg){return typeof arg==="function"?arg():arg};var isThenable=function isThenable(arg){return arg&&_typeof(arg)==="object"&&typeof arg.then==="function"};var DismissReason=Object.freeze({cancel:"cancel",backdrop:"overlay",close:"close",esc:"esc",timer:"timer"});var argsToParams=function argsToParams(args){var params={};switch(_typeof(args[0])){case"object":_extends(params,args[0]);break;default:["title","html","type"].forEach(function(name,index){switch(_typeof(args[index])){case"string":params[name]=args[index];break;case"undefined":break;default:error("Unexpected type of ".concat(name,'! Expected "string", got ').concat(_typeof(args[index])))}})}return params};var adaptInputValidator=function adaptInputValidator(legacyValidator){return function adaptedInputValidator(inputValue,extraParams){return legacyValidator.call(this,inputValue,extraParams).then(function(){return undefined},function(validationMessage){return validationMessage})}};var swalPrefix="swal2-";var prefix=function prefix(items){var result={};for(var i in items){result[items[i]]=swalPrefix+items[i]}return result};var swalClasses=prefix(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","toast","toast-shown","toast-column","fade","show","hide","noanimation","close","title","header","content","actions","confirm","cancel","footer","icon","icon-text","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progresssteps","activeprogressstep","progresscircle","progressline","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl"]);var iconTypes=prefix(["success","warning","info","question","error"]);var states={previousBodyPadding:null};var hasClass=function hasClass(elem,className){return elem.classList.contains(className)};var focusInput=function focusInput(input){input.focus();if(input.type!=="file"){var val=input.value;input.value="";input.value=val}};var addOrRemoveClass=function addOrRemoveClass(target,classList,add){if(!target||!classList){return}if(typeof classList==="string"){classList=classList.split(/\s+/).filter(Boolean)}classList.forEach(function(className){if(target.forEach){target.forEach(function(elem){add?elem.classList.add(className):elem.classList.remove(className)})}else{add?target.classList.add(className):target.classList.remove(className)}})};var addClass=function addClass(target,classList){addOrRemoveClass(target,classList,true)};var removeClass=function removeClass(target,classList){addOrRemoveClass(target,classList,false)};var getChildByClass=function getChildByClass(elem,className){for(var i=0;i<elem.childNodes.length;i++){if(hasClass(elem.childNodes[i],className)){return elem.childNodes[i]}}};var show=function show(elem){elem.style.opacity="";elem.style.display=elem.id===swalClasses.content?"block":"flex"};var hide=function hide(elem){elem.style.opacity="";elem.style.display="none"};var isVisible=function isVisible(elem){return elem&&(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length)};var getContainer=function getContainer(){return document.body.querySelector("."+swalClasses.container)};var elementByClass=function elementByClass(className){var container=getContainer();return container?container.querySelector("."+className):null};var getPopup=function getPopup(){return elementByClass(swalClasses.popup)};var getIcons=function getIcons(){var popup=getPopup();return toArray(popup.querySelectorAll("."+swalClasses.icon))};var getTitle=function getTitle(){return elementByClass(swalClasses.title)};var getContent=function getContent(){return elementByClass(swalClasses.content)};var getImage=function getImage(){return elementByClass(swalClasses.image)};var getProgressSteps=function getProgressSteps(){return elementByClass(swalClasses.progresssteps)};var getValidationMessage=function getValidationMessage(){return elementByClass(swalClasses["validation-message"])};var getConfirmButton=function getConfirmButton(){return elementByClass(swalClasses.confirm)};var getCancelButton=function getCancelButton(){return elementByClass(swalClasses.cancel)};var getButtonsWrapper=function getButtonsWrapper(){warnOnce("swal.getButtonsWrapper() is deprecated and will be removed in the next major release, use swal.getActions() instead");return elementByClass(swalClasses.actions)};var getActions=function getActions(){return elementByClass(swalClasses.actions)};var getFooter=function getFooter(){return elementByClass(swalClasses.footer)};var getCloseButton=function getCloseButton(){return elementByClass(swalClasses.close)};var getFocusableElements=function getFocusableElements(){var focusableElementsWithTabindex=toArray(getPopup().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(a,b){a=parseInt(a.getAttribute("tabindex"));b=parseInt(b.getAttribute("tabindex"));if(a>b){return 1}else if(a<b){return-1}return 0});var otherFocusableElements=toArray(getPopup().querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable], audio[controls], video[controls]')).filter(function(el){return el.getAttribute("tabindex")!=="-1"});return uniqueArray(focusableElementsWithTabindex.concat(otherFocusableElements)).filter(function(el){return isVisible(el)})};var isModal=function isModal(){return!isToast()&&!document.body.classList.contains(swalClasses["no-backdrop"])};var isToast=function isToast(){return document.body.classList.contains(swalClasses["toast-shown"])};var isLoading=function isLoading(){return getPopup().hasAttribute("data-loading")};var isNodeEnv=function isNodeEnv(){return typeof window==="undefined"||typeof document==="undefined"};var sweetHTML='\n <div aria-labelledby="'.concat(swalClasses.title,'" aria-describedby="').concat(swalClasses.content,'" class="').concat(swalClasses.popup,'" tabindex="-1">\n   <div class="').concat(swalClasses.header,'">\n     <ul class="').concat(swalClasses.progresssteps,'"></ul>\n     <div class="').concat(swalClasses.icon," ").concat(iconTypes.error,'">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="').concat(swalClasses.icon," ").concat(iconTypes.question,'">\n       <span class="').concat(swalClasses["icon-text"],'">?</span>\n      </div>\n     <div class="').concat(swalClasses.icon," ").concat(iconTypes.warning,'">\n       <span class="').concat(swalClasses["icon-text"],'">!</span>\n      </div>\n     <div class="').concat(swalClasses.icon," ").concat(iconTypes.info,'">\n       <span class="').concat(swalClasses["icon-text"],'">i</span>\n      </div>\n     <div class="').concat(swalClasses.icon," ").concat(iconTypes.success,'">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="').concat(swalClasses.image,'" />\n     <h2 class="').concat(swalClasses.title,'" id="').concat(swalClasses.title,'"></h2>\n     <button type="button" class="').concat(swalClasses.close,'">×</button>\n   </div>\n   <div class="').concat(swalClasses.content,'">\n     <div id="').concat(swalClasses.content,'"></div>\n     <input class="').concat(swalClasses.input,'" />\n     <input type="file" class="').concat(swalClasses.file,'" />\n     <div class="').concat(swalClasses.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(swalClasses.select,'"></select>\n     <div class="').concat(swalClasses.radio,'"></div>\n     <label for="').concat(swalClasses.checkbox,'" class="').concat(swalClasses.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(swalClasses.label,'"></span>\n     </label>\n     <textarea class="').concat(swalClasses.textarea,'"></textarea>\n     <div class="').concat(swalClasses["validation-message"],'" id="').concat(swalClasses["validation-message"],'"></div>\n   </div>\n   <div class="').concat(swalClasses.actions,'">\n     <button type="button" class="').concat(swalClasses.confirm,'">OK</button>\n     <button type="button" class="').concat(swalClasses.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(swalClasses.footer,'">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,"");var init=function init(params){var c=getContainer();if(c){c.parentNode.removeChild(c);removeClass([document.documentElement,document.body],[swalClasses["no-backdrop"],swalClasses["toast-shown"],swalClasses["has-column"]])}if(isNodeEnv()){error("SweetAlert2 requires document to initialize");return}var container=document.createElement("div");container.className=swalClasses.container;container.innerHTML=sweetHTML;var targetElement=typeof params.target==="string"?document.querySelector(params.target):params.target;targetElement.appendChild(container);var popup=getPopup();var content=getContent();var input=getChildByClass(content,swalClasses.input);var file=getChildByClass(content,swalClasses.file);var range=content.querySelector(".".concat(swalClasses.range," input"));var rangeOutput=content.querySelector(".".concat(swalClasses.range," output"));var select=getChildByClass(content,swalClasses.select);var checkbox=content.querySelector(".".concat(swalClasses.checkbox," input"));var textarea=getChildByClass(content,swalClasses.textarea);popup.setAttribute("role",params.toast?"alert":"dialog");popup.setAttribute("aria-live",params.toast?"polite":"assertive");if(!params.toast){popup.setAttribute("aria-modal","true")}if(window.getComputedStyle(targetElement).direction==="rtl"){addClass(getContainer(),swalClasses.rtl)}var oldInputVal;var resetValidationMessage=function resetValidationMessage(e){if(Swal.isVisible()&&oldInputVal!==e.target.value){Swal.resetValidationMessage()}oldInputVal=e.target.value};input.oninput=resetValidationMessage;file.onchange=resetValidationMessage;select.onchange=resetValidationMessage;checkbox.onchange=resetValidationMessage;textarea.oninput=resetValidationMessage;range.oninput=function(e){resetValidationMessage(e);rangeOutput.value=range.value};range.onchange=function(e){resetValidationMessage(e);range.nextSibling.value=range.value};return popup};var parseHtmlToContainer=function parseHtmlToContainer(param,target){if(!param){return hide(target)}if(_typeof(param)==="object"){target.innerHTML="";if(0 in param){for(var i=0;i in param;i++){target.appendChild(param[i].cloneNode(true))}}else{target.appendChild(param.cloneNode(true))}}else if(param){target.innerHTML=param}show(target)};var animationEndEvent=function(){if(isNodeEnv()){return false}var testEl=document.createElement("div");var transEndEventNames={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var i in transEndEventNames){if(transEndEventNames.hasOwnProperty(i)&&typeof testEl.style[i]!=="undefined"){return transEndEventNames[i]}}return false}();var measureScrollbar=function measureScrollbar(){var supportsTouch="ontouchstart"in window||navigator.msMaxTouchPoints;if(supportsTouch){return 0}var scrollDiv=document.createElement("div");scrollDiv.style.width="50px";scrollDiv.style.height="50px";scrollDiv.style.overflow="scroll";document.body.appendChild(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv);return scrollbarWidth};var renderActions=function renderActions(params){var actions=getActions();var confirmButton=getConfirmButton();var cancelButton=getCancelButton();if(!params.showConfirmButton&&!params.showCancelButton){hide(actions)}else{show(actions)}if(params.showCancelButton){cancelButton.style.display="inline-block"}else{hide(cancelButton)}if(params.showConfirmButton){confirmButton.style.removeProperty("display")}else{hide(confirmButton)}confirmButton.innerHTML=params.confirmButtonText;cancelButton.innerHTML=params.cancelButtonText;confirmButton.setAttribute("aria-label",params.confirmButtonAriaLabel);cancelButton.setAttribute("aria-label",params.cancelButtonAriaLabel);confirmButton.className=swalClasses.confirm;addClass(confirmButton,params.confirmButtonClass);cancelButton.className=swalClasses.cancel;addClass(cancelButton,params.cancelButtonClass);if(params.buttonsStyling){addClass([confirmButton,cancelButton],swalClasses.styled);if(params.confirmButtonColor){confirmButton.style.backgroundColor=params.confirmButtonColor}if(params.cancelButtonColor){cancelButton.style.backgroundColor=params.cancelButtonColor}var confirmButtonBackgroundColor=window.getComputedStyle(confirmButton).getPropertyValue("background-color");confirmButton.style.borderLeftColor=confirmButtonBackgroundColor;confirmButton.style.borderRightColor=confirmButtonBackgroundColor}else{removeClass([confirmButton,cancelButton],swalClasses.styled);confirmButton.style.backgroundColor=confirmButton.style.borderLeftColor=confirmButton.style.borderRightColor="";cancelButton.style.backgroundColor=cancelButton.style.borderLeftColor=cancelButton.style.borderRightColor=""}};var renderContent=function renderContent(params){var content=getContent().querySelector("#"+swalClasses.content);if(params.html){parseHtmlToContainer(params.html,content)}else if(params.text){content.textContent=params.text;show(content)}else{hide(content)}};var renderIcon=function renderIcon(params){var icons=getIcons();for(var i=0;i<icons.length;i++){hide(icons[i])}if(params.type){if(Object.keys(iconTypes).indexOf(params.type)!==-1){var icon=Swal.getPopup().querySelector(".".concat(swalClasses.icon,".").concat(iconTypes[params.type]));show(icon);if(params.animation){addClass(icon,"swal2-animate-".concat(params.type,"-icon"))}}else{error('Unknown type! Expected "success", "error", "warning", "info" or "question", got "'.concat(params.type,'"'))}}};var renderImage=function renderImage(params){var image=getImage();if(params.imageUrl){image.setAttribute("src",params.imageUrl);image.setAttribute("alt",params.imageAlt);show(image);if(params.imageWidth){image.setAttribute("width",params.imageWidth)}else{image.removeAttribute("width")}if(params.imageHeight){image.setAttribute("height",params.imageHeight)}else{image.removeAttribute("height")}image.className=swalClasses.image;if(params.imageClass){addClass(image,params.imageClass)}}else{hide(image)}};var renderProgressSteps=function renderProgressSteps(params){var progressStepsContainer=getProgressSteps();var currentProgressStep=parseInt(params.currentProgressStep===null?Swal.getQueueStep():params.currentProgressStep,10);if(params.progressSteps&&params.progressSteps.length){show(progressStepsContainer);progressStepsContainer.innerHTML="";if(currentProgressStep>=params.progressSteps.length){warn("Invalid currentProgressStep parameter, it should be less than progressSteps.length "+"(currentProgressStep like JS arrays starts from 0)")}params.progressSteps.forEach(function(step,index){var circle=document.createElement("li");addClass(circle,swalClasses.progresscircle);circle.innerHTML=step;if(index===currentProgressStep){addClass(circle,swalClasses.activeprogressstep)}progressStepsContainer.appendChild(circle);if(index!==params.progressSteps.length-1){var line=document.createElement("li");addClass(line,swalClasses.progressline);if(params.progressStepsDistance){line.style.width=params.progressStepsDistance}progressStepsContainer.appendChild(line)}})}else{hide(progressStepsContainer)}};var renderTitle=function renderTitle(params){var title=getTitle();if(params.titleText){title.innerText=params.titleText}else if(params.title){if(typeof params.title==="string"){params.title=params.title.split("\n").join("<br />")}parseHtmlToContainer(params.title,title)}};var fixScrollbar=function fixScrollbar(){if(states.previousBodyPadding!==null){return}if(document.body.scrollHeight>window.innerHeight){states.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"));document.body.style.paddingRight=states.previousBodyPadding+measureScrollbar()+"px"}};var undoScrollbar=function undoScrollbar(){if(states.previousBodyPadding!==null){document.body.style.paddingRight=states.previousBodyPadding;states.previousBodyPadding=null}};var iOSfix=function iOSfix(){var iOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(iOS&&!hasClass(document.body,swalClasses.iosfix)){var offset=document.body.scrollTop;document.body.style.top=offset*-1+"px";addClass(document.body,swalClasses.iosfix)}};var undoIOSfix=function undoIOSfix(){if(hasClass(document.body,swalClasses.iosfix)){var offset=parseInt(document.body.style.top,10);removeClass(document.body,swalClasses.iosfix);document.body.style.top="";document.body.scrollTop=offset*-1}};var isIE11=function isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode};var fixVerticalPositionIE=function fixVerticalPositionIE(){var container=getContainer();var popup=getPopup();container.style.removeProperty("align-items");if(popup.offsetTop<0){container.style.alignItems="flex-start"}};var IEfix=function IEfix(){if(typeof window!=="undefined"&&isIE11()){fixVerticalPositionIE();window.addEventListener("resize",fixVerticalPositionIE)}};var undoIEfix=function undoIEfix(){if(typeof window!=="undefined"&&isIE11()){window.removeEventListener("resize",fixVerticalPositionIE)}};var setAriaHidden=function setAriaHidden(){var bodyChildren=toArray(document.body.children);bodyChildren.forEach(function(el){if(el===getContainer()||el.contains(getContainer())){return}if(el.hasAttribute("aria-hidden")){el.setAttribute("data-previous-aria-hidden",el.getAttribute("aria-hidden"))}el.setAttribute("aria-hidden","true")})};var unsetAriaHidden=function unsetAriaHidden(){var bodyChildren=toArray(document.body.children);bodyChildren.forEach(function(el){if(el.hasAttribute("data-previous-aria-hidden")){el.setAttribute("aria-hidden",el.getAttribute("data-previous-aria-hidden"));el.removeAttribute("data-previous-aria-hidden")}else{el.removeAttribute("aria-hidden")}})};var RESTORE_FOCUS_TIMEOUT=100;var globalState={};var restoreActiveElement=function restoreActiveElement(){return new Promise(function(resolve){var x=window.scrollX;var y=window.scrollY;globalState.restoreFocusTimeout=setTimeout(function(){if(globalState.previousActiveElement&&globalState.previousActiveElement.focus){globalState.previousActiveElement.focus();globalState.previousActiveElement=null}else if(document.body){document.body.focus()}resolve()},RESTORE_FOCUS_TIMEOUT);if(typeof x!=="undefined"&&typeof y!=="undefined"){window.scrollTo(x,y)}})};var close=function close(onClose,onAfterClose){var container=getContainer();var popup=getPopup();if(!popup){return}if(onClose!==null&&typeof onClose==="function"){onClose(popup)}removeClass(popup,swalClasses.show);addClass(popup,swalClasses.hide);var removePopupAndResetState=function removePopupAndResetState(){if(!isToast()){restoreActiveElement().then(function(){return triggerOnAfterClose(onAfterClose)});globalState.keydownTarget.removeEventListener("keydown",globalState.keydownHandler,{capture:globalState.keydownListenerCapture});globalState.keydownHandlerAdded=false}else{triggerOnAfterClose(onAfterClose)}if(container.parentNode){container.parentNode.removeChild(container)}removeClass([document.documentElement,document.body],[swalClasses.shown,swalClasses["height-auto"],swalClasses["no-backdrop"],swalClasses["toast-shown"],swalClasses["toast-column"]]);if(isModal()){undoScrollbar();undoIOSfix();undoIEfix();unsetAriaHidden()}};if(animationEndEvent&&!hasClass(popup,swalClasses.noanimation)){popup.addEventListener(animationEndEvent,function swalCloseEventFinished(){popup.removeEventListener(animationEndEvent,swalCloseEventFinished);if(hasClass(popup,swalClasses.hide)){removePopupAndResetState()}})}else{removePopupAndResetState()}};var triggerOnAfterClose=function triggerOnAfterClose(onAfterClose){if(onAfterClose!==null&&typeof onAfterClose==="function"){setTimeout(function(){onAfterClose()})}};var isVisible$1=function isVisible(){return!!getPopup()};var clickConfirm=function clickConfirm(){return getConfirmButton().click()};var clickCancel=function clickCancel(){return getCancelButton().click()};function fire(){var Swal=this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _construct(Swal,args)}function withNoNewKeyword(ParentSwal){var NoNewKeywordSwal=function NoNewKeywordSwal(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(!(this instanceof NoNewKeywordSwal)){return _construct(NoNewKeywordSwal,args)}Object.getPrototypeOf(NoNewKeywordSwal).apply(this,args)};NoNewKeywordSwal.prototype=_extends(Object.create(ParentSwal.prototype),{constructor:NoNewKeywordSwal});if(typeof Object.setPrototypeOf==="function"){Object.setPrototypeOf(NoNewKeywordSwal,ParentSwal)}else{NoNewKeywordSwal.__proto__=ParentSwal}return NoNewKeywordSwal}var defaultParams={title:"",titleText:"",text:"",html:"",footer:"",type:null,toast:false,customClass:"",target:"body",backdrop:true,animation:true,heightAuto:true,allowOutsideClick:true,allowEscapeKey:true,allowEnterKey:true,stopKeydownPropagation:true,keydownListenerCapture:false,showConfirmButton:true,showCancelButton:false,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:null,confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:null,cancelButtonClass:null,buttonsStyling:true,reverseButtons:false,focusConfirm:true,focusCancel:false,showCloseButton:false,closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:false,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:null,timer:null,width:null,padding:null,background:null,input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:true,inputClass:null,inputAttributes:{},inputValidator:null,validationMessage:null,grow:false,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:null,onBeforeOpen:null,onAfterClose:null,onOpen:null,onClose:null,useRejections:false,expectRejections:false};var deprecatedParams=["useRejections","expectRejections","extraParams"];var toastIncompatibleParams=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"];var isValidParameter=function isValidParameter(paramName){return defaultParams.hasOwnProperty(paramName)||paramName==="extraParams"};var isDeprecatedParameter=function isDeprecatedParameter(paramName){return deprecatedParams.indexOf(paramName)!==-1};var showWarningsForParams=function showWarningsForParams(params){for(var param in params){if(!isValidParameter(param)){warn('Unknown parameter "'.concat(param,'"'))}if(params.toast&&toastIncompatibleParams.indexOf(param)!==-1){warn('The parameter "'.concat(param,'" is incompatible with toasts'))}if(isDeprecatedParameter(param)){warnOnce('The parameter "'.concat(param,'" is deprecated and will be removed in the next major release.'))}}};var deprecationWarning='"setDefaults" & "resetDefaults" methods are deprecated in favor of "mixin" method and will be removed in the next major release. For new projects, use "mixin". For past projects already using "setDefaults", support will be provided through an additional package.';var defaults={};function withGlobalDefaults(ParentSwal){var SwalWithGlobalDefaults=function(_ParentSwal){_inherits(SwalWithGlobalDefaults,_ParentSwal);function SwalWithGlobalDefaults(){_classCallCheck(this,SwalWithGlobalDefaults);return _possibleConstructorReturn(this,_getPrototypeOf(SwalWithGlobalDefaults).apply(this,arguments))}_createClass(SwalWithGlobalDefaults,[{key:"_main",value:function _main(params){return _get(_getPrototypeOf(SwalWithGlobalDefaults.prototype),"_main",this).call(this,_extends({},defaults,params))}}],[{key:"setDefaults",value:function setDefaults(params){warnOnce(deprecationWarning);if(!params||_typeof(params)!=="object"){throw new TypeError("SweetAlert2: The argument for setDefaults() is required and has to be a object")}showWarningsForParams(params);Object.keys(params).forEach(function(param){if(ParentSwal.isValidParameter(param)){defaults[param]=params[param]}})}},{key:"resetDefaults",value:function resetDefaults(){warnOnce(deprecationWarning);defaults={}}}]);return SwalWithGlobalDefaults}(ParentSwal);if(typeof window!=="undefined"&&_typeof(window._swalDefaults)==="object"){SwalWithGlobalDefaults.setDefaults(window._swalDefaults)}return SwalWithGlobalDefaults}function mixin(mixinParams){return withNoNewKeyword(function(_this){_inherits(MixinSwal,_this);function MixinSwal(){_classCallCheck(this,MixinSwal);return _possibleConstructorReturn(this,_getPrototypeOf(MixinSwal).apply(this,arguments))}_createClass(MixinSwal,[{key:"_main",value:function _main(params){return _get(_getPrototypeOf(MixinSwal.prototype),"_main",this).call(this,_extends({},mixinParams,params))}}]);return MixinSwal}(this))}var currentSteps=[];var queue=function queue(steps){var swal=this;currentSteps=steps;var resetQueue=function resetQueue(){currentSteps=[];document.body.removeAttribute("data-swal2-queue-step")};var queueResult=[];return new Promise(function(resolve){(function step(i,callback){if(i<currentSteps.length){document.body.setAttribute("data-swal2-queue-step",i);swal(currentSteps[i]).then(function(result){if(typeof result.value!=="undefined"){queueResult.push(result.value);step(i+1,callback)}else{resetQueue();resolve({dismiss:result.dismiss})}})}else{resetQueue();resolve({value:queueResult})}})(0)})};var getQueueStep=function getQueueStep(){return document.body.getAttribute("data-swal2-queue-step")};var insertQueueStep=function insertQueueStep(step,index){if(index&&index<currentSteps.length){return currentSteps.splice(index,0,step)}return currentSteps.push(step)};var deleteQueueStep=function deleteQueueStep(index){if(typeof currentSteps[index]!=="undefined"){currentSteps.splice(index,1)}};var showLoading=function showLoading(){var popup=getPopup();if(!popup){Swal("")}popup=getPopup();var actions=getActions();var confirmButton=getConfirmButton();var cancelButton=getCancelButton();show(actions);show(confirmButton);addClass([popup,actions],swalClasses.loading);confirmButton.disabled=true;cancelButton.disabled=true;popup.setAttribute("data-loading",true);popup.setAttribute("aria-busy",true);popup.focus()};var getTimerLeft=function getTimerLeft(){return globalState.timeout&&globalState.timeout.getTimerLeft()};var staticMethods=Object.freeze({isValidParameter,isDeprecatedParameter,argsToParams,adaptInputValidator,close,closePopup:close,closeModal:close,closeToast:close,isVisible:isVisible$1,clickConfirm,clickCancel,getContainer,getPopup,getTitle,getContent,getImage,getIcons,getCloseButton,getButtonsWrapper,getActions,getConfirmButton,getCancelButton,getFooter,getFocusableElements,getValidationMessage,isLoading,fire,mixin,queue,getQueueStep,insertQueueStep,deleteQueueStep,showLoading,enableLoading:showLoading,getTimerLeft});var _Symbol=typeof Symbol==="function"?Symbol:function(){var idCounter=0;function _Symbol(key){return"__"+key+"_"+Math.floor(Math.random()*1e9)+"_"+ ++idCounter+"__"}_Symbol.iterator=_Symbol("Symbol.iterator");return _Symbol}();var WeakMap$1=typeof WeakMap==="function"?WeakMap:function(s,dP,hOP){function WeakMap(){dP(this,s,{value:_Symbol("WeakMap")})}WeakMap.prototype={delete:function del(o){delete o[this[s]]},get:function get(o){return o[this[s]]},has:function has(o){return hOP.call(o,this[s])},set:function set(o,v){dP(o,this[s],{configurable:true,value:v})}};return WeakMap}(_Symbol("WeakMap"),Object.defineProperty,{}.hasOwnProperty);var privateProps={promise:new WeakMap$1,innerParams:new WeakMap$1,domCache:new WeakMap$1};function hideLoading(){var innerParams=privateProps.innerParams.get(this);var domCache=privateProps.domCache.get(this);if(!innerParams.showConfirmButton){hide(domCache.confirmButton);if(!innerParams.showCancelButton){hide(domCache.actions)}}removeClass([domCache.popup,domCache.actions],swalClasses.loading);domCache.popup.removeAttribute("aria-busy");domCache.popup.removeAttribute("data-loading");domCache.confirmButton.disabled=false;domCache.cancelButton.disabled=false}function getInput(inputType){var innerParams=privateProps.innerParams.get(this);var domCache=privateProps.domCache.get(this);inputType=inputType||innerParams.input;if(!inputType){return null}switch(inputType){case"select":case"textarea":case"file":return getChildByClass(domCache.content,swalClasses[inputType]);case"checkbox":return domCache.popup.querySelector(".".concat(swalClasses.checkbox," input"));case"radio":return domCache.popup.querySelector(".".concat(swalClasses.radio," input:checked"))||domCache.popup.querySelector(".".concat(swalClasses.radio," input:first-child"));case"range":return domCache.popup.querySelector(".".concat(swalClasses.range," input"));default:return getChildByClass(domCache.content,swalClasses.input)}}function enableButtons(){var domCache=privateProps.domCache.get(this);domCache.confirmButton.disabled=false;domCache.cancelButton.disabled=false}function disableButtons(){var domCache=privateProps.domCache.get(this);domCache.confirmButton.disabled=true;domCache.cancelButton.disabled=true}function enableConfirmButton(){var domCache=privateProps.domCache.get(this);domCache.confirmButton.disabled=false}function disableConfirmButton(){var domCache=privateProps.domCache.get(this);domCache.confirmButton.disabled=true}function enableInput(){var input=this.getInput();if(!input){return false}if(input.type==="radio"){var radiosContainer=input.parentNode.parentNode;var radios=radiosContainer.querySelectorAll("input");for(var i=0;i<radios.length;i++){radios[i].disabled=false}}else{input.disabled=false}}function disableInput(){var input=this.getInput();if(!input){return false}if(input&&input.type==="radio"){var radiosContainer=input.parentNode.parentNode;var radios=radiosContainer.querySelectorAll("input");for(var i=0;i<radios.length;i++){radios[i].disabled=true}}else{input.disabled=true}}function showValidationMessage(error$$1){var domCache=privateProps.domCache.get(this);domCache.validationMessage.innerHTML=error$$1;var popupComputedStyle=window.getComputedStyle(domCache.popup);domCache.validationMessage.style.marginLeft="-".concat(popupComputedStyle.getPropertyValue("padding-left"));domCache.validationMessage.style.marginRight="-".concat(popupComputedStyle.getPropertyValue("padding-right"));show(domCache.validationMessage);var input=this.getInput();if(input){input.setAttribute("aria-invalid",true);input.setAttribute("aria-describedBy",swalClasses["validation-message"]);focusInput(input);addClass(input,swalClasses.inputerror)}}function resetValidationMessage(){var domCache=privateProps.domCache.get(this);if(domCache.validationMessage){hide(domCache.validationMessage)}var input=this.getInput();if(input){input.removeAttribute("aria-invalid");input.removeAttribute("aria-describedBy");removeClass(input,swalClasses.inputerror)}}function resetValidationError(){warnOnce("Swal.resetValidationError() is deprecated and will be removed in the next major release, use Swal.resetValidationMessage() instead");resetValidationMessage.bind(this)()}function showValidationError(error$$1){warnOnce("Swal.showValidationError() is deprecated and will be removed in the next major release, use Swal.showValidationMessage() instead");showValidationMessage.bind(this)(error$$1)}function getProgressSteps$1(){var innerParams=privateProps.innerParams.get(this);return innerParams.progressSteps}function setProgressSteps(progressSteps){var innerParams=privateProps.innerParams.get(this);var updatedParams=_extends({},innerParams,{progressSteps});privateProps.innerParams.set(this,updatedParams);renderProgressSteps(updatedParams)}function showProgressSteps(){var domCache=privateProps.domCache.get(this);show(domCache.progressSteps)}function hideProgressSteps(){var domCache=privateProps.domCache.get(this);hide(domCache.progressSteps)}var Timer=function Timer(callback,delay){_classCallCheck(this,Timer);var id,started,running;var remaining=delay;this.start=function(){running=true;started=new Date;id=setTimeout(callback,remaining)};this.stop=function(){running=false;clearTimeout(id);remaining-=new Date-started};this.getTimerLeft=function(){if(running){this.stop();this.start()}return remaining};this.start()};var defaultInputValidators={email:function email(string,extraParams){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(string)?Promise.resolve():Promise.reject(extraParams&&extraParams.validationMessage?extraParams.validationMessage:"Invalid email address")},url:function url(string,extraParams){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(string)?Promise.resolve():Promise.reject(extraParams&&extraParams.validationMessage?extraParams.validationMessage:"Invalid URL")}};function setParameters(params){if(!params.inputValidator){Object.keys(defaultInputValidators).forEach(function(key){if(params.input===key){params.inputValidator=params.expectRejections?defaultInputValidators[key]:Swal.adaptInputValidator(defaultInputValidators[key])}})}if(params.validationMessage){if(_typeof(params.extraParams)!=="object"){params.extraParams={}}params.extraParams.validationMessage=params.validationMessage}if(!params.target||typeof params.target==="string"&&!document.querySelector(params.target)||typeof params.target!=="string"&&!params.target.appendChild){warn('Target parameter is not valid, defaulting to "body"');params.target="body"}if(typeof params.animation==="function"){params.animation=params.animation.call()}var popup;var oldPopup=getPopup();var targetElement=typeof params.target==="string"?document.querySelector(params.target):params.target;if(oldPopup&&targetElement&&oldPopup.parentNode!==targetElement.parentNode){popup=init(params)}else{popup=oldPopup||init(params)}if(params.width){popup.style.width=typeof params.width==="number"?params.width+"px":params.width}if(params.padding){popup.style.padding=typeof params.padding==="number"?params.padding+"px":params.padding}if(params.background){popup.style.background=params.background}var popupBackgroundColor=window.getComputedStyle(popup).getPropertyValue("background-color");var successIconParts=popup.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(var i=0;i<successIconParts.length;i++){successIconParts[i].style.backgroundColor=popupBackgroundColor}var container=getContainer();var closeButton=getCloseButton();var footer=getFooter();renderTitle(params);renderContent(params);if(typeof params.backdrop==="string"){getContainer().style.background=params.backdrop}else if(!params.backdrop){addClass([document.documentElement,document.body],swalClasses["no-backdrop"])}if(!params.backdrop&&params.allowOutsideClick){warn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`')}if(params.position in swalClasses){addClass(container,swalClasses[params.position])}else{warn('The "position" parameter is not valid, defaulting to "center"');addClass(container,swalClasses.center)}if(params.grow&&typeof params.grow==="string"){var growClass="grow-"+params.grow;if(growClass in swalClasses){addClass(container,swalClasses[growClass])}}if(params.showCloseButton){closeButton.setAttribute("aria-label",params.closeButtonAriaLabel);show(closeButton)}else{hide(closeButton)}popup.className=swalClasses.popup;if(params.toast){addClass([document.documentElement,document.body],swalClasses["toast-shown"]);addClass(popup,swalClasses.toast)}else{addClass(popup,swalClasses.modal)}if(params.customClass){addClass(popup,params.customClass)}renderProgressSteps(params);renderIcon(params);renderImage(params);renderActions(params);parseHtmlToContainer(params.footer,footer);if(params.animation===true){removeClass(popup,swalClasses.noanimation)}else{addClass(popup,swalClasses.noanimation)}if(params.showLoaderOnConfirm&&!params.preConfirm){warn("showLoaderOnConfirm is set to true, but preConfirm is not defined.\n"+"showLoaderOnConfirm should be used together with preConfirm, see usage example:\n"+"https://sweetalert2.github.io/#ajax-request")}}var openPopup=function openPopup(params){var container=getContainer();var popup=getPopup();if(params.onBeforeOpen!==null&&typeof params.onBeforeOpen==="function"){params.onBeforeOpen(popup)}if(params.animation){addClass(popup,swalClasses.show);addClass(container,swalClasses.fade);removeClass(popup,swalClasses.hide)}else{removeClass(popup,swalClasses.fade)}show(popup);container.style.overflowY="hidden";if(animationEndEvent&&!hasClass(popup,swalClasses.noanimation)){popup.addEventListener(animationEndEvent,function swalCloseEventFinished(){popup.removeEventListener(animationEndEvent,swalCloseEventFinished);container.style.overflowY="auto"})}else{container.style.overflowY="auto"}addClass([document.documentElement,document.body,container],swalClasses.shown);if(params.heightAuto&&params.backdrop&&!params.toast){addClass([document.documentElement,document.body],swalClasses["height-auto"])}if(isModal()){fixScrollbar();iOSfix();IEfix();setAriaHidden();setTimeout(function(){container.scrollTop=0})}if(!isToast()&&!globalState.previousActiveElement){globalState.previousActiveElement=document.activeElement}if(params.onOpen!==null&&typeof params.onOpen==="function"){setTimeout(function(){params.onOpen(popup)})}};function _main(userParams){var _this=this;showWarningsForParams(userParams);var innerParams=_extends({},defaultParams,userParams);setParameters(innerParams);Object.freeze(innerParams);privateProps.innerParams.set(this,innerParams);if(globalState.timeout){globalState.timeout.stop();delete globalState.timeout}clearTimeout(globalState.restoreFocusTimeout);var domCache={popup:getPopup(),container:getContainer(),content:getContent(),actions:getActions(),confirmButton:getConfirmButton(),cancelButton:getCancelButton(),closeButton:getCloseButton(),validationMessage:getValidationMessage(),progressSteps:getProgressSteps()};privateProps.domCache.set(this,domCache);var constructor=this.constructor;return new Promise(function(resolve,reject){var succeedWith=function succeedWith(value){constructor.closePopup(innerParams.onClose,innerParams.onAfterClose);if(innerParams.useRejections){resolve(value)}else{resolve({value})}};var dismissWith=function dismissWith(dismiss){constructor.closePopup(innerParams.onClose,innerParams.onAfterClose);if(innerParams.useRejections){reject(dismiss)}else{resolve({dismiss})}};var errorWith=function errorWith(error$$1){constructor.closePopup(innerParams.onClose,innerParams.onAfterClose);reject(error$$1)};if(innerParams.timer){globalState.timeout=new Timer(function(){dismissWith("timer");delete globalState.timeout},innerParams.timer)}var getInputValue=function getInputValue(){var input=_this.getInput();if(!input){return null}switch(innerParams.input){case"checkbox":return input.checked?1:0;case"radio":return input.checked?input.value:null;case"file":return input.files.length?input.files[0]:null;default:return innerParams.inputAutoTrim?input.value.trim():input.value}};if(innerParams.input){setTimeout(function(){var input=_this.getInput();if(input){focusInput(input)}},0)}var confirm=function confirm(value){if(innerParams.showLoaderOnConfirm){constructor.showLoading()}if(innerParams.preConfirm){_this.resetValidationMessage();var preConfirmPromise=Promise.resolve().then(function(){return innerParams.preConfirm(value,innerParams.extraParams)});if(innerParams.expectRejections){preConfirmPromise.then(function(preConfirmValue){return succeedWith(preConfirmValue||value)},function(validationMessage){_this.hideLoading();if(validationMessage){_this.showValidationMessage(validationMessage)}})}else{preConfirmPromise.then(function(preConfirmValue){if(isVisible(domCache.validationMessage)||preConfirmValue===false){_this.hideLoading()}else{succeedWith(preConfirmValue||value)}},function(error$$1){return errorWith(error$$1)})}}else{succeedWith(value)}};var onButtonEvent=function onButtonEvent(e){var target=e.target;var confirmButton=domCache.confirmButton,cancelButton=domCache.cancelButton;var targetedConfirm=confirmButton&&(confirmButton===target||confirmButton.contains(target));var targetedCancel=cancelButton&&(cancelButton===target||cancelButton.contains(target));switch(e.type){case"click":if(targetedConfirm&&constructor.isVisible()){_this.disableButtons();if(innerParams.input){var inputValue=getInputValue();if(innerParams.inputValidator){_this.disableInput();var validationPromise=Promise.resolve().then(function(){return innerParams.inputValidator(inputValue,innerParams.extraParams)});if(innerParams.expectRejections){validationPromise.then(function(){_this.enableButtons();_this.enableInput();confirm(inputValue)},function(validationMessage){_this.enableButtons();_this.enableInput();if(validationMessage){_this.showValidationMessage(validationMessage)}})}else{validationPromise.then(function(validationMessage){_this.enableButtons();_this.enableInput();if(validationMessage){_this.showValidationMessage(validationMessage)}else{confirm(inputValue)}},function(error$$1){return errorWith(error$$1)})}}else if(!_this.getInput().checkValidity()){_this.enableButtons();_this.showValidationMessage(innerParams.validationMessage)}else{confirm(inputValue)}}else{confirm(true)}}else if(targetedCancel&&constructor.isVisible()){_this.disableButtons();dismissWith(constructor.DismissReason.cancel)}break;default:}};var buttons=domCache.popup.querySelectorAll("button");for(var i=0;i<buttons.length;i++){buttons[i].onclick=onButtonEvent;buttons[i].onmouseover=onButtonEvent;buttons[i].onmouseout=onButtonEvent;buttons[i].onmousedown=onButtonEvent}domCache.closeButton.onclick=function(){dismissWith(constructor.DismissReason.close)};if(innerParams.toast){domCache.popup.onclick=function(){if(innerParams.showConfirmButton||innerParams.showCancelButton||innerParams.showCloseButton||innerParams.input){return}dismissWith(constructor.DismissReason.close)}}else{var ignoreOutsideClick=false;domCache.popup.onmousedown=function(){domCache.container.onmouseup=function(e){domCache.container.onmouseup=undefined;if(e.target===domCache.container){ignoreOutsideClick=true}}};domCache.container.onmousedown=function(){domCache.popup.onmouseup=function(e){domCache.popup.onmouseup=undefined;if(e.target===domCache.popup||domCache.popup.contains(e.target)){ignoreOutsideClick=true}}};domCache.container.onclick=function(e){if(ignoreOutsideClick){ignoreOutsideClick=false;return}if(e.target!==domCache.container){return}if(callIfFunction(innerParams.allowOutsideClick)){dismissWith(constructor.DismissReason.backdrop)}}}if(innerParams.reverseButtons){domCache.confirmButton.parentNode.insertBefore(domCache.cancelButton,domCache.confirmButton)}else{domCache.confirmButton.parentNode.insertBefore(domCache.confirmButton,domCache.cancelButton)}var setFocus=function setFocus(index,increment){var focusableElements=getFocusableElements(innerParams.focusCancel);for(var _i=0;_i<focusableElements.length;_i++){index=index+increment;if(index===focusableElements.length){index=0}else if(index===-1){index=focusableElements.length-1}return focusableElements[index].focus()}domCache.popup.focus()};var keydownHandler=function keydownHandler(e,innerParams){if(innerParams.stopKeydownPropagation){e.stopPropagation()}var arrowKeys=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"];if(e.key==="Enter"&&!e.isComposing){if(e.target&&_this.getInput()&&e.target.outerHTML===_this.getInput().outerHTML){if(["textarea","file"].indexOf(innerParams.input)!==-1){return}constructor.clickConfirm();e.preventDefault()}}else if(e.key==="Tab"){var targetElement=e.target;var focusableElements=getFocusableElements(innerParams.focusCancel);var btnIndex=-1;for(var _i2=0;_i2<focusableElements.length;_i2++){if(targetElement===focusableElements[_i2]){btnIndex=_i2;break}}if(!e.shiftKey){setFocus(btnIndex,1)}else{setFocus(btnIndex,-1)}e.stopPropagation();e.preventDefault()}else if(arrowKeys.indexOf(e.key)!==-1){if(document.activeElement===domCache.confirmButton&&isVisible(domCache.cancelButton)){domCache.cancelButton.focus()}else if(document.activeElement===domCache.cancelButton&&isVisible(domCache.confirmButton)){domCache.confirmButton.focus()}}else if((e.key==="Escape"||e.key==="Esc")&&callIfFunction(innerParams.allowEscapeKey)===true){e.preventDefault();dismissWith(constructor.DismissReason.esc)}};if(globalState.keydownHandlerAdded){globalState.keydownTarget.removeEventListener("keydown",globalState.keydownHandler,{capture:globalState.keydownListenerCapture});globalState.keydownHandlerAdded=false}if(!innerParams.toast){globalState.keydownHandler=function(e){return keydownHandler(e,innerParams)};globalState.keydownTarget=innerParams.keydownListenerCapture?window:domCache.popup;globalState.keydownListenerCapture=innerParams.keydownListenerCapture;globalState.keydownTarget.addEventListener("keydown",globalState.keydownHandler,{capture:globalState.keydownListenerCapture});globalState.keydownHandlerAdded=true}_this.enableButtons();_this.hideLoading();_this.resetValidationMessage();if(innerParams.toast&&(innerParams.input||innerParams.footer||innerParams.showCloseButton)){addClass(document.body,swalClasses["toast-column"])}else{removeClass(document.body,swalClasses["toast-column"])}var inputTypes=["input","file","range","select","radio","checkbox","textarea"];var setInputPlaceholder=function setInputPlaceholder(input){if(!input.placeholder||innerParams.inputPlaceholder){input.placeholder=innerParams.inputPlaceholder}};var input;for(var _i3=0;_i3<inputTypes.length;_i3++){var inputClass=swalClasses[inputTypes[_i3]];var inputContainer=getChildByClass(domCache.content,inputClass);input=_this.getInput(inputTypes[_i3]);if(input){for(var j in input.attributes){if(input.attributes.hasOwnProperty(j)){var attrName=input.attributes[j].name;if(attrName!=="type"&&attrName!=="value"){input.removeAttribute(attrName)}}}for(var attr in innerParams.inputAttributes){if(inputTypes[_i3]==="range"&&attr==="placeholder"){continue}input.setAttribute(attr,innerParams.inputAttributes[attr])}}inputContainer.className=inputClass;if(innerParams.inputClass){addClass(inputContainer,innerParams.inputClass)}hide(inputContainer)}var populateInputOptions;switch(innerParams.input){case"text":case"email":case"password":case"number":case"tel":case"url":{input=getChildByClass(domCache.content,swalClasses.input);if(typeof innerParams.inputValue==="string"||typeof innerParams.inputValue==="number"){input.value=innerParams.inputValue}else{warn('Unexpected type of inputValue! Expected "string" or "number", got "'.concat(_typeof(innerParams.inputValue),'"'))}setInputPlaceholder(input);input.type=innerParams.input;show(input);break}case"file":{input=getChildByClass(domCache.content,swalClasses.file);setInputPlaceholder(input);input.type=innerParams.input;show(input);break}case"range":{var range=getChildByClass(domCache.content,swalClasses.range);var rangeInput=range.querySelector("input");var rangeOutput=range.querySelector("output");rangeInput.value=innerParams.inputValue;rangeInput.type=innerParams.input;rangeOutput.value=innerParams.inputValue;show(range);break}case"select":{var select=getChildByClass(domCache.content,swalClasses.select);select.innerHTML="";if(innerParams.inputPlaceholder){var placeholder=document.createElement("option");placeholder.innerHTML=innerParams.inputPlaceholder;placeholder.value="";placeholder.disabled=true;placeholder.selected=true;select.appendChild(placeholder)}populateInputOptions=function populateInputOptions(inputOptions){inputOptions.forEach(function(inputOption){var optionValue=inputOption[0];var optionLabel=inputOption[1];var option=document.createElement("option");option.value=optionValue;option.innerHTML=optionLabel;if(innerParams.inputValue.toString()===optionValue.toString()){option.selected=true}select.appendChild(option)});show(select);select.focus()};break}case"radio":{var radio=getChildByClass(domCache.content,swalClasses.radio);radio.innerHTML="";populateInputOptions=function populateInputOptions(inputOptions){inputOptions.forEach(function(inputOption){var radioValue=inputOption[0];var radioLabel=inputOption[1];var radioInput=document.createElement("input");var radioLabelElement=document.createElement("label");radioInput.type="radio";radioInput.name=swalClasses.radio;radioInput.value=radioValue;if(innerParams.inputValue.toString()===radioValue.toString()){radioInput.checked=true}var label=document.createElement("span");label.innerHTML=radioLabel;label.className=swalClasses.label;radioLabelElement.appendChild(radioInput);radioLabelElement.appendChild(label);radio.appendChild(radioLabelElement)});show(radio);var radios=radio.querySelectorAll("input");if(radios.length){radios[0].focus()}};break}case"checkbox":{var checkbox=getChildByClass(domCache.content,swalClasses.checkbox);var checkboxInput=_this.getInput("checkbox");checkboxInput.type="checkbox";checkboxInput.value=1;checkboxInput.id=swalClasses.checkbox;checkboxInput.checked=Boolean(innerParams.inputValue);var label=checkbox.querySelector("span");label.innerHTML=innerParams.inputPlaceholder;show(checkbox);break}case"textarea":{var textarea=getChildByClass(domCache.content,swalClasses.textarea);textarea.value=innerParams.inputValue;setInputPlaceholder(textarea);show(textarea);break}case null:{break}default:error('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(innerParams.input,'"'));break}if(innerParams.input==="select"||innerParams.input==="radio"){var processInputOptions=function processInputOptions(inputOptions){return populateInputOptions(formatInputOptions(inputOptions))};if(isThenable(innerParams.inputOptions)){constructor.showLoading();innerParams.inputOptions.then(function(inputOptions){_this.hideLoading();processInputOptions(inputOptions)})}else if(_typeof(innerParams.inputOptions)==="object"){processInputOptions(innerParams.inputOptions)}else{error("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(_typeof(innerParams.inputOptions)))}}else if(["text","email","number","tel","textarea"].indexOf(innerParams.input)!==-1&&isThenable(innerParams.inputValue)){constructor.showLoading();hide(input);innerParams.inputValue.then(function(inputValue){input.value=innerParams.input==="number"?parseFloat(inputValue)||0:inputValue+"";show(input);input.focus();_this.hideLoading()}).catch(function(err){error("Error in inputValue promise: "+err);input.value="";show(input);input.focus();_this.hideLoading()})}openPopup(innerParams);if(!innerParams.toast){if(!callIfFunction(innerParams.allowEnterKey)){if(document.activeElement&&typeof document.activeElement.blur==="function"){document.activeElement.blur()}}else if(innerParams.focusCancel&&isVisible(domCache.cancelButton)){domCache.cancelButton.focus()}else if(innerParams.focusConfirm&&isVisible(domCache.confirmButton)){domCache.confirmButton.focus()}else{setFocus(-1,1)}}domCache.container.scrollTop=0})}var instanceMethods=Object.freeze({hideLoading,disableLoading:hideLoading,getInput,enableButtons,disableButtons,enableConfirmButton,disableConfirmButton,enableInput,disableInput,showValidationMessage,resetValidationMessage,resetValidationError,showValidationError,getProgressSteps:getProgressSteps$1,setProgressSteps,showProgressSteps,hideProgressSteps,_main});var currentInstance;function SweetAlert(){if(typeof window==="undefined"){return}if(typeof Promise==="undefined"){error("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)")}for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(args.length===0){error("At least 1 argument is expected!");return false}currentInstance=this;var outerParams=Object.freeze(this.constructor.argsToParams(args));Object.defineProperties(this,{params:{value:outerParams,writable:false,enumerable:true}});var promise=this._main(this.params);privateProps.promise.set(this,promise)}SweetAlert.prototype.then=function(onFulfilled,onRejected){var promise=privateProps.promise.get(this);return promise.then(onFulfilled,onRejected)};SweetAlert.prototype.catch=function(onRejected){var promise=privateProps.promise.get(this);return promise.catch(onRejected)};SweetAlert.prototype.finally=function(onFinally){var promise=privateProps.promise.get(this);return promise.finally(onFinally)};_extends(SweetAlert.prototype,instanceMethods);_extends(SweetAlert,staticMethods);Object.keys(instanceMethods).forEach(function(key){SweetAlert[key]=function(){if(currentInstance){var _currentInstance;return(_currentInstance=currentInstance)[key].apply(_currentInstance,arguments)}}});SweetAlert.DismissReason=DismissReason;SweetAlert.noop=function(){};var Swal=withNoNewKeyword(withGlobalDefaults(SweetAlert));Swal.default=Swal;return Swal});if(typeof window!=="undefined"&&window.Sweetalert2){window.Sweetalert2.version="7.29.2";window.swal=window.sweetAlert=window.Swal=window.SweetAlert=window.Sweetalert2}"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,"@-webkit-keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}body.swal2-toast-shown .swal2-container{position:fixed;background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-shown{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;box-shadow:0 0 .625em #d9d9d9;overflow-y:hidden}.swal2-popup.swal2-toast .swal2-header{flex-direction:row}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:initial;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon-text{font-size:2em;font-weight:700;line-height:1em}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 .0625em #fff,0 0 0 .125em rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:2em;height:2.8125em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.25em;left:-.9375em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:2em 2em;transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;-webkit-transform-origin:0 2em;transform-origin:0 2em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:showSweetToast .5s;animation:showSweetToast .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:hideSweetToast .2s forwards;animation:hideSweetToast .2s forwards}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:animate-toast-success-tip .75s;animation:animate-toast-success-tip .75s}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:animate-toast-success-long .75s;animation:animate-toast-success-long .75s}@-webkit-keyframes showSweetToast{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg);opacity:0}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg);opacity:.5}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg);opacity:.7}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0);opacity:1}}@keyframes showSweetToast{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg);opacity:0}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg);opacity:.5}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg);opacity:.7}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0);opacity:1}}@-webkit-keyframes hideSweetToast{0%{opacity:1}33%{opacity:.5}100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@keyframes hideSweetToast{0%{opacity:1}33%{opacity:.5}100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes animate-toast-success-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes animate-toast-success-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes animate-toast-success-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes animate-toast-success-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-shown{top:auto;right:auto;bottom:auto;left:auto;background-color:transparent}body.swal2-no-backdrop .swal2-shown>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-shown.swal2-top{top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-top-left,body.swal2-no-backdrop .swal2-shown.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-top-end,body.swal2-no-backdrop .swal2-shown.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-shown.swal2-center{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-left,body.swal2-no-backdrop .swal2-shown.swal2-center-start{top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-end,body.swal2-no-backdrop .swal2-shown.swal2-center-right{top:50%;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom{bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom-left,body.swal2-no-backdrop .swal2-shown.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-bottom-end,body.swal2-no-backdrop .swal2-shown.swal2-bottom-right{right:0;bottom:0}.swal2-container{display:flex;position:fixed;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:10px;background-color:transparent;z-index:1060;overflow-x:hidden;-webkit-overflow-scrolling:touch}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-container.swal2-fade{transition:background-color .1s}.swal2-container.swal2-shown{background-color:rgba(0,0,0,.4)}.swal2-popup{display:none;position:relative;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem;box-sizing:border-box}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-popup .swal2-header{display:flex;flex-direction:column;align-items:center}.swal2-popup .swal2-title{display:block;position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-popup .swal2-actions{flex-wrap:wrap;align-items:center;justify-content:center;margin:1.25em auto 0;z-index:1}.swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-popup .swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-popup .swal2-actions.swal2-loading .swal2-styled.swal2-confirm{width:2.5em;height:2.5em;margin:.46875em;padding:0;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent;cursor:default;box-sizing:border-box;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-popup .swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-popup .swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{display:inline-block;width:15px;height:15px;margin-left:5px;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff;content:'';-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal}.swal2-popup .swal2-styled{margin:.3125em;padding:.625em 2em;font-weight:500;box-shadow:none}.swal2-popup .swal2-styled:not([disabled]){cursor:pointer}.swal2-popup .swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-popup .swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-popup .swal2-styled:focus{outline:0;box-shadow:0 0 0 2px #fff,0 0 0 4px rgba(50,100,150,.4)}.swal2-popup .swal2-styled::-moz-focus-inner{border:0}.swal2-popup .swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-popup .swal2-image{max-width:100%;margin:1.25em auto}.swal2-popup .swal2-close{position:absolute;top:0;right:0;justify-content:center;width:1.2em;height:1.2em;padding:0;transition:color .1s ease-out;border:none;border-radius:0;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer;overflow:hidden}.swal2-popup .swal2-close:hover{-webkit-transform:none;transform:none;color:#f27474}.swal2-popup>.swal2-checkbox,.swal2-popup>.swal2-file,.swal2-popup>.swal2-input,.swal2-popup>.swal2-radio,.swal2-popup>.swal2-select,.swal2-popup>.swal2-textarea{display:none}.swal2-popup .swal2-content{justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:300;line-height:normal;z-index:1;word-wrap:break-word}.swal2-popup #swal2-content{text-align:center}.swal2-popup .swal2-checkbox,.swal2-popup .swal2-file,.swal2-popup .swal2-input,.swal2-popup .swal2-radio,.swal2-popup .swal2-select,.swal2-popup .swal2-textarea{margin:1em auto}.swal2-popup .swal2-file,.swal2-popup .swal2-input,.swal2-popup .swal2-textarea{width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;font-size:1.125em;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);box-sizing:border-box}.swal2-popup .swal2-file.swal2-inputerror,.swal2-popup .swal2-input.swal2-inputerror,.swal2-popup .swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-popup .swal2-file:focus,.swal2-popup .swal2-input:focus,.swal2-popup .swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-popup .swal2-file::-webkit-input-placeholder,.swal2-popup .swal2-input::-webkit-input-placeholder,.swal2-popup .swal2-textarea::-webkit-input-placeholder{color:#ccc}.swal2-popup .swal2-file:-ms-input-placeholder,.swal2-popup .swal2-input:-ms-input-placeholder,.swal2-popup .swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-popup .swal2-file::-ms-input-placeholder,.swal2-popup .swal2-input::-ms-input-placeholder,.swal2-popup .swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-popup .swal2-file::placeholder,.swal2-popup .swal2-input::placeholder,.swal2-popup .swal2-textarea::placeholder{color:#ccc}.swal2-popup .swal2-range input{width:80%}.swal2-popup .swal2-range output{width:20%;font-weight:600;text-align:center}.swal2-popup .swal2-range input,.swal2-popup .swal2-range output{height:2.625em;margin:1em auto;padding:0;font-size:1.125em;line-height:2.625em}.swal2-popup .swal2-input{height:2.625em;padding:0 .75em}.swal2-popup .swal2-input[type=number]{max-width:10em}.swal2-popup .swal2-file{font-size:1.125em}.swal2-popup .swal2-textarea{height:6.75em;padding:.75em}.swal2-popup .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;color:#545454;font-size:1.125em}.swal2-popup .swal2-checkbox,.swal2-popup .swal2-radio{align-items:center;justify-content:center}.swal2-popup .swal2-checkbox label,.swal2-popup .swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-popup .swal2-checkbox input,.swal2-popup .swal2-radio input{margin:0 .4em}.swal2-popup .swal2-validation-message{display:none;align-items:center;justify-content:center;padding:.625em;background:#f0f0f0;color:#666;font-size:1em;font-weight:300;overflow:hidden}.swal2-popup .swal2-validation-message::before{display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center;content:'!';zoom:normal}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}.swal2-icon{position:relative;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;line-height:5em;cursor:default;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;zoom:normal}.swal2-icon-text{font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:3.75em 3.75em;transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 3.75em;transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;top:-.25em;left:-.25em;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%;z-index:2;box-sizing:content-box}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;top:.5em;left:1.625em;width:.4375em;height:5.625em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);z-index:1}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;height:.3125em;border-radius:.125em;background-color:#a5dc86;z-index:2}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.875em;width:1.5625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-progresssteps{align-items:center;margin:0 0 1.25em;padding:0;font-weight:600}.swal2-progresssteps li{display:inline-block;position:relative}.swal2-progresssteps .swal2-progresscircle{width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center;z-index:20}.swal2-progresssteps .swal2-progresscircle:first-child{margin-left:0}.swal2-progresssteps .swal2-progresscircle:last-child{margin-right:0}.swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep{background:#3085d6}.swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep~.swal2-progresscircle{background:#add8e6}.swal2-progresssteps .swal2-progresscircle.swal2-activeprogressstep~.swal2-progressline{background:#add8e6}.swal2-progresssteps .swal2-progressline{width:2.5em;height:.4em;margin:0 -1px;background:#3085d6;z-index:10}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-show.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-hide.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-animate-success-icon .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-animate-error-icon{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-animate-error-icon .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}@-webkit-keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:initial!important}}")},function(module,__webpack_exports__,__webpack_require__){"use strict";var classCallCheck=__webpack_require__(4);var classCallCheck_default=__webpack_require__.n(classCallCheck);var createClass=__webpack_require__(5);var createClass_default=__webpack_require__.n(createClass);var assertThisInitialized=__webpack_require__(2);var assertThisInitialized_default=__webpack_require__.n(assertThisInitialized);var inherits=__webpack_require__(6);var inherits_default=__webpack_require__.n(inherits);var possibleConstructorReturn=__webpack_require__(7);var possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn);var getPrototypeOf=__webpack_require__(3);var getPrototypeOf_default=__webpack_require__.n(getPrototypeOf);var external_React_=__webpack_require__(0);var external_React_default=__webpack_require__.n(external_React_);var prop_types=__webpack_require__(1);var prop_types_default=__webpack_require__.n(prop_types);var Panel=__webpack_require__(16);var Tabs=__webpack_require__(9);var DataTable=__webpack_require__(19);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var Filter_Filter=function(_Component){inherits_default()(Filter,_Component);var _super=_createSuper(Filter);function Filter(props){var _this;classCallCheck_default()(this,Filter);_this=_super.call(this,props);_this.onFieldUpdate=_this.onFieldUpdate.bind(assertThisInitialized_default()(_this));_this.renderFilterFields=_this.renderFilterFields.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(Filter,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;var searchParams=new URLSearchParams(location.search);var filter=JSON.parse(JSON.stringify(this.props.filter));searchParams.forEach(function(value,name){if(_this2.props.fields.find(function(field){return(field.filter||{}).name==name})){filter[name]={value:searchParams.getAll(name)}}});this.props.updateFilter(filter)}},{key:"onFieldUpdate",value:function onFieldUpdate(name,value,id,type){var searchParams=new URLSearchParams(location.search);var filter=JSON.parse(JSON.stringify(this.props.filter));var exactMatch=!(type==="textbox"||type==="date");if(value===null||value===""||value.constructor===Array&&value.length===0){delete filter[name];searchParams["delete"](name)}else{if(value.constructor===Array){searchParams["delete"](name);value.forEach(function(v){return searchParams.append(name,v)})}else{searchParams.set(name,value)}filter[name]={value,exactMatch}}this.props.updateFilter(filter);history.replaceState(filter,"","?".concat(searchParams.toString()))}},{key:"renderFilterFields",value:function renderFilterFields(){var _this3=this;return this.props.fields.reduce(function(result,field){var filter=field.filter;if(filter&&filter.hide!==true){var element;switch(filter.type){case"text":element=external_React_default.a.createElement(TextboxElement,{key:filter.name});break;case"select":element=external_React_default.a.createElement(SelectElement,{key:filter.name,options:filter.options});break;case"multiselect":element=external_React_default.a.createElement(SelectElement,{key:filter.name,options:filter.options,multiple:true,emptyOption:false});break;case"date":element=external_React_default.a.createElement(DateElement,{key:filter.name,todayBtn:false});break;case"checkbox":element=external_React_default.a.createElement(CheckboxElement,{key:filter.name});break;default:element=external_React_default.a.createElement(TextboxElement,{key:filter.name})}result.push(external_React_default.a.cloneElement(element,{name:filter.name,label:field.label,value:(_this3.props.filter[filter.name]||{}).value||false,onUserInput:_this3.onFieldUpdate}))}return result},[])}},{key:"render",value:function render(){return external_React_default.a.createElement(FormElement,{id:this.props.id,name:this.props.name},external_React_default.a.createElement(FieldsetElement,{columns:this.props.columns,legend:this.props.title},this.renderFilterFields(),external_React_default.a.createElement(ButtonElement,{label:"Clear Filters",type:"reset",onUserInput:this.props.clearFilter})))}}]);return Filter}(external_React_["Component"]);Filter_Filter.defaultProps={id:null,clearFilter:function clearFilter(){console.warn("onUpdate() callback is not set!")},columns:1};Filter_Filter.propTypes={filter:prop_types_default.a.object.isRequired,clearFilter:prop_types_default.a.func.isRequired,id:prop_types_default.a.string,name:prop_types_default.a.string,columns:prop_types_default.a.string,title:prop_types_default.a.string,fields:prop_types_default.a.object.isRequired};var jsx_Filter=Filter_Filter;var LoadingBar=__webpack_require__(10);function FilterableDataTable_createSuper(Derived){var hasNativeReflectConstruct=FilterableDataTable_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function FilterableDataTable_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var FilterableDataTable_FilterableDataTable=function(_PureComponent){inherits_default()(FilterableDataTable,_PureComponent);var _super=FilterableDataTable_createSuper(FilterableDataTable);function FilterableDataTable(props){var _this;classCallCheck_default()(this,FilterableDataTable);_this=_super.call(this,props);_this.state={filter:{}};_this.updateFilter=_this.updateFilter.bind(assertThisInitialized_default()(_this));_this.clearFilter=_this.clearFilter.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(FilterableDataTable,[{key:"updateFilter",value:function updateFilter(filter){this.setState({filter})}},{key:"clearFilter",value:function clearFilter(){this.updateFilter({});history.replaceState({},"","?")}},{key:"render",value:function render(){var _this2=this;var filter=external_React_default.a.createElement(jsx_Filter,{name:this.props.name+"_filter",id:this.props.name+"_filter",columns:this.props.columns,filter:this.state.filter,fields:this.props.fields,updateFilter:this.updateFilter,clearFilter:this.clearFilter});var dataTable=this.props.loading<100||this.props.data.length==0?external_React_default.a.createElement(LoadingBar["a"],{progress:this.props.loading}):external_React_default.a.createElement(DataTable["a"],{data:this.props.data,fields:this.props.fields,filter:this.state.filter,actions:this.props.actions,getFormattedCell:this.props.getFormattedCell,getMappedCell:this.props.getMappedCell,folder:this.props.folder,nullTableShow:this.props.nullTableShow});var filterPresets=function filterPresets(){if(_this2.props.filterPresets){var tabPanes=_this2.props.filterPresets.map(function(preset){return external_React_default.a.createElement(Tabs["a"],{TabId:preset.label,key:preset.label})});var tabs=_this2.props.filterPresets.map(function(preset){return{id:preset.label,label:preset.label}});return external_React_default.a.createElement(Tabs["b"],{tabs,updateURL:true,onTabChange:function onTabChange(tabId){var active=_this2.props.filterPresets.find(function(preset){return preset.label===tabId});_this2.updateFilter(active.filter)}},tabPanes)}};return external_React_default.a.createElement(Panel["a"],{title:this.props.title},filter,this.props.children,filterPresets(),dataTable)}}]);return FilterableDataTable}(external_React_["PureComponent"]);FilterableDataTable_FilterableDataTable.defaultProps={columns:3};FilterableDataTable_FilterableDataTable.propTypes={name:prop_types_default.a.string.isRequired,title:prop_types_default.a.string,data:prop_types_default.a.object.isRequired,fields:prop_types_default.a.object.isRequired,columns:prop_types_default.a.number,getFormattedCell:prop_types_default.a.func,actions:prop_types_default.a.object};var jsx_FilterableDataTable=__webpack_exports__["a"]=FilterableDataTable_FilterableDataTable},function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8);var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2);var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__);var react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);var prop_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1);var prop_types__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);var jsx_PaginationLinks__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(15);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6___default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var DataTable=function(_Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(DataTable,_Component);var _super=_createSuper(DataTable);function DataTable(props){var _this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,DataTable);_this=_super.call(this,props);_this.state={page:{number:1,rows:20},sort:{column:-1,ascending:true}};_this.changePage=_this.changePage.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this));_this.setSortColumn=_this.setSortColumn.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this));_this.updateSortColumn=_this.updateSortColumn.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this));_this.toggleSortOrder=_this.toggleSortOrder.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this));_this.updatePageNumber=_this.updatePageNumber.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this));_this.updatePageRows=_this.updatePageRows.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this));_this.downloadCSV=_this.downloadCSV.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this));_this.getFilteredRowIndexes=_this.getFilteredRowIndexes.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this));_this.sortRows=_this.sortRows.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this));_this.hasFilterKeyword=_this.hasFilterKeyword.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this));_this.renderActions=_this.renderActions.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default()(_this));return _this}_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(DataTable,[{key:"changePage",value:function changePage(i){var page=this.state.page;page.number=i;this.setState({page})}},{key:"setSortColumn",value:function setSortColumn(column){if(this.state.sort.column===column){this.toggleSortOrder()}else{this.updateSortColumn(column)}}},{key:"updateSortColumn",value:function updateSortColumn(column){var sort=this.state.sort;sort.column=column;this.setState({sort})}},{key:"toggleSortOrder",value:function toggleSortOrder(){var sort=this.state.sort;sort.ascending=!sort.ascending;this.setState({sort})}},{key:"updatePageNumber",value:function updatePageNumber(number){var page=this.sate.page;page.number=number;this.setState({page})}},{key:"updatePageRows",value:function updatePageRows(e){var page=Object.assign({},this.state.page);page.rows=e.target.value;page.number=1;this.setState({page})}},{key:"downloadCSV",value:function downloadCSV(filteredRowIndexes){var _this2=this;var csvData=filteredRowIndexes.map(function(id){return _this2.props.data[id]});if(this.props.getMappedCell){csvData=csvData.map(function(row,i){return _this2.props.fields.map(function(field,j){return _this2.props.getMappedCell(field.label,row[j])})})}var csvworker=new Worker(loris.BaseURL+"/js/workers/savecsv.js");csvworker.addEventListener("message",function(e){var dataURL;var dataDate;var link;if(e.data.cmd==="SaveCSV"){dataDate=(new Date).toISOString();dataURL=window.URL.createObjectURL(e.data.message);link=document.createElement("a");link.download="data-"+dataDate+".csv";link.type="text/csv";link.href=dataURL;document.body.appendChild(link);$(link)[0].click();document.body.removeChild(link)}});var headerList=this.props.fields.map(function(field){return field.label});csvworker.postMessage({cmd:"SaveFile",data:csvData,headers:headerList,identifiers:this.props.RowNameMap})}},{key:"getFilteredRowIndexes",value:function getFilteredRowIndexes(){var useKeyword=false;var filterValuesCount=Object.keys(this.props.filter).length;var tableData=this.props.data;var fieldData=this.props.fields;var filteredIndexes=[];var hasFilters=filterValuesCount!==0;if(hasFilters===false){for(var i=0;i<tableData.length;i++){filteredIndexes.push(i)}return filteredIndexes}if(this.props.filter.keyword){useKeyword=true}if(useKeyword){filterValuesCount-=1}for(var _i=0;_i<tableData.length;_i++){var headerCount=0;var keywordMatch=0;for(var j=0;j<fieldData.length;j++){var data=tableData[_i]?tableData[_i][j]:null;if(this.hasFilterKeyword((fieldData[j].filter||{}).name,data)){headerCount++}if(useKeyword){if(this.hasFilterKeyword("keyword",data)){keywordMatch++}}}if(headerCount===filterValuesCount&&(useKeyword===true&&keywordMatch>0||useKeyword===false&&keywordMatch===0)){filteredIndexes.push(_i)}}return filteredIndexes}},{key:"sortRows",value:function sortRows(rowIndexes){var _this3=this;var index=[];for(var i=0;i<rowIndexes.length;i++){var idx=rowIndexes[i];var val=this.props.data[idx][this.state.sort.column]||undefined;if(this.state.sort.column===-1){val=idx+1}var isString=typeof val==="string"||val instanceof String;var isNumber=!isNaN(val)&&_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(val)!=="object";if(val==="."){val=null}else if(isNumber){val=Number(val)}else if(isString){val=val.toLowerCase()}else{val=undefined}if(this.props.RowNameMap){index.push({RowIdx:idx,Value:val,Content:this.props.RowNameMap[idx]})}else{index.push({RowIdx:idx,Value:val,Content:idx+1})}}index.sort(function(a,b){if(_this3.state.sort.ascending){if(a.Value===b.Value){if(a.RowIdx<b.RowIdx)return-1;if(a.RowIdx>b.RowIdx)return 1}if(a.Value===null||typeof a.Value==="undefined")return-1;if(b.Value===null||typeof b.Value==="undefined")return 1;if(a.Value<b.Value)return-1;if(a.Value>b.Value)return 1}else{if(a.Value===b.Value){if(a.RowIdx<b.RowIdx)return 1;if(a.RowIdx>b.RowIdx)return-1}if(a.Value===null||typeof a.Value==="undefined")return 1;if(b.Value===null||typeof b.Value==="undefined")return-1;if(a.Value<b.Value)return 1;if(a.Value>b.Value)return-1}return 0});return index}},{key:"hasFilterKeyword",value:function hasFilterKeyword(name,data){var filterData=null;var exactMatch=false;var opposite=false;var result=false;var searchKey=null;var searchString=null;if(this.props.filter[name]){filterData=this.props.filter[name].value;exactMatch=this.props.filter[name].exactMatch;opposite=this.props.filter[name].opposite}if(filterData===null||data===null){return false}if(typeof filterData==="number"){var intData=Number.parseInt(data,10);result=filterData===intData}if(typeof filterData==="string"){searchKey=filterData.toLowerCase();switch(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(data)){case"object":var searchArray=data.map(function(e){return e.toLowerCase()});if(exactMatch){result=searchArray.includes(searchKey)}else{result=searchArray.find(function(e){return e.indexOf(searchKey)>-1})!==undefined}break;default:searchString=data?data.toString().toLowerCase():"";if(exactMatch){result=searchString===searchKey}else if(opposite){result=searchString!==searchKey}else{result=searchString.indexOf(searchKey)>-1}break}}if(typeof filterData==="boolean"){result=filterData===data}if(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0___default()(filterData)==="object"){var match=false;for(var i=0;i<filterData.length;i+=1){searchKey=filterData[i].toLowerCase();searchString=data?data.toString().toLowerCase():"";match=searchString.indexOf(searchKey)>-1;if(match){result=true}}}return result}},{key:"componentDidMount",value:function componentDidMount(){$(".dynamictable").DynamicTable()}},{key:"renderActions",value:function renderActions(){if(this.props.actions){return this.props.actions.map(function(action,key){if(action.show!==false){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(CTA,{key,label:action.label,onUserInput:action.action})}})}}},{key:"render",value:function render(){var _this4=this;if((this.props.data===null||this.props.data.length===0)&&!this.props.nullTableShow){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"col-xs-12"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"pull-right",style:{marginRight:"10px"}},this.renderActions()))),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"alert alert-info no-result-found-panel"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("strong",null,"No result found.")))}var rowsPerPage=this.state.page.rows;var headers=this.props.hide.defaultColumn===true?[]:[react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("th",{key:"th_col_0",onClick:function onClick(){_this4.setSortColumn(-1)}},this.props.rowNumLabel)];var _loop=function _loop(i){if(_this4.props.fields[i].show===true){var colIndex=i+1;if(_this4.props.fields[i].freezeColumn===true){headers.push(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("th",{key:"th_col_"+colIndex,id:_this4.props.freezeColumn,onClick:function onClick(){_this4.setSortColumn(i)}},_this4.props.fields[i].label))}else{headers.push(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("th",{key:"th_col_"+colIndex,onClick:function onClick(){_this4.setSortColumn(i)}},_this4.props.fields[i].label))}}};for(var i=0;i<this.props.fields.length;i+=1){_loop(i)}var rows=[];var filteredRowIndexes=this.getFilteredRowIndexes();var filteredCount=filteredRowIndexes.length;var index=this.sortRows(filteredRowIndexes);var currentPageRow=rowsPerPage*(this.state.page.number-1);if(this.props.filter.keyword){useKeyword=true}var _loop2=function _loop2(_i2){var rowIndex=index[_i2].RowIdx;var rowData=_this4.props.data[rowIndex];var curRow=[];var _loop3=function _loop3(j){if(_this4.props.fields[j].show===false){return"continue"}var celldata=rowData[j];var cell=null;var row={};row[_this4.props.rowNumLabel]=index[_i2].Content;_this4.props.fields.forEach(function(field,k){return row[field.label]=rowData[k]});if(_this4.props.getFormattedCell){cell=_this4.props.getFormattedCell(_this4.props.fields[j].label,celldata,row)}if(cell!==null){curRow.push(cell)}};for(var j=0;j<_this4.props.fields.length;j+=1){var _ret=_loop3(j);if(_ret==="continue")continue}var rowIndexDisplay=index[_i2].Content;rows.push(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("tr",{key:"tr_"+rowIndex,colSpan:headers.length},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("td",null,rowIndexDisplay),curRow))};for(var _i2=currentPageRow;_i2<filteredCount&&rows.length<rowsPerPage;_i2++){_loop2(_i2)}var rowsPerPageDropdown=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("select",{className:"input-sm perPage",onChange:this.updatePageRows,value:this.state.page.rows},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("option",null,"20"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("option",null,"50"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("option",null,"100"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("option",null,"1000"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("option",null,"5000"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("option",null,"10000"));var header=this.props.hide.rowsPerPage===true?"":react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"table-header"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",padding:"5px 15px"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:{order:"1",padding:"5px 0"}},rows.length," rows displayed of ",filteredCount,". (Maximum rows per page: ",rowsPerPageDropdown,")"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:{order:"2",display:"flex",justifyContent:"flex-end",alignItems:"center",flexWrap:"wrap",padding:"5px 0",marginLeft:"auto"}},this.renderActions(),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("button",{className:"btn btn-primary",onClick:this.downloadCSV.bind(null,filteredRowIndexes)},"Download Table as CSV"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(jsx_PaginationLinks__WEBPACK_IMPORTED_MODULE_9__["default"],{Total:filteredCount,onChangePage:this.changePage,RowsPerPage:rowsPerPage,Active:this.state.page.number})))));var footer=this.props.hide.downloadCSV===true?"":react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",padding:"5px 15px"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:{order:"1",padding:"5px 0"}},rows.length," rows displayed of ",filteredCount,". (Maximum rows per page: ",rowsPerPageDropdown,")"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:{order:"2",padding:"5px 0",marginLeft:"auto"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(jsx_PaginationLinks__WEBPACK_IMPORTED_MODULE_9__["default"],{Total:filteredCount,onChangePage:this.changePage,RowsPerPage:rowsPerPage,Active:this.state.page.number})))));return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:{margin:"14px"}},header,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("table",{className:"table table-hover table-primary table-bordered dynamictable",id:"dynamictable"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("thead",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("tr",{className:"info"},headers)),this.props.folder,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("tbody",null,rows)),footer)}}]);return DataTable}(react__WEBPACK_IMPORTED_MODULE_7__["Component"]);DataTable.propTypes={data:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array.isRequired,fields:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array,rowNumLabel:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.string,filter:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.obj,getFormattedCell:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,onSort:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func,actions:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array,hide:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.object,nullTableShow:prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.bool};DataTable.defaultProps={data:[],fields:[],rowNumLabel:"No.",filter:{},hide:{rowsPerPage:false,downloadCSV:false,defaultColumn:false},nullTableShow:false};__webpack_exports__["a"]=DataTable},function(module,__webpack_exports__,__webpack_require__){"use strict";var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);var react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);var prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1);var prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);var sweetalert2__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(17);var sweetalert2__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_8__);var Loader__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(12);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var Modal=function(_Component){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(Modal,_Component);var _super=_createSuper(Modal);function Modal(){var _this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,Modal);_this=_super.call(this);_this.state={loading:false,success:false};_this.handleClose=_this.handleClose.bind(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this));return _this}_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Modal,[{key:"handleClose",value:function handleClose(){var _this2=this;if(this.props.throwWarning){sweetalert2__WEBPACK_IMPORTED_MODULE_8___default()({title:"Are You Sure?",text:"Leaving the form will result in the loss of any information "+"entered.",type:"warning",showCancelButton:true,confirmButtonText:"Proceed",cancelButtonText:"Cancel"}).then(function(result){return result.value&&_this2.props.onClose()})}else{this.props.onClose()}}},{key:"render",value:function render(){var _this3=this;var _this$state=this.state,loading=_this$state.loading,success=_this$state.success;var _this$props=this.props,show=_this$props.show,children=_this$props.children,onSubmit=_this$props.onSubmit,title=_this$props.title;var headerStyle={display:"flex",flexDirection:"row",alignItems:"center",height:"40px",borderTopRightRadius:"10",fontSize:24,padding:35,borderBottom:"1px solid #DDDDDD"};var glyphStyle={marginLeft:"auto",cursor:"pointer"};var bodyStyle={padding:success?0:15,maxHeight:success?0:"75vh",overflow:"scroll",opacity:success?0:1,transition:"1s ease, opacity 0.3s"};var modalContainer={display:"block",position:"fixed",zIndex:9999,paddingTop:"100px",paddingBottom:"100px",left:0,top:0,width:"100%",height:"100%",overflow:"auto",backgroundColor:"rgba(0,0,0,0.7)",visibility:show?"visible":"hidden"};var modalContent={opacity:show?1:0,top:show?0:"-300px",position:"relative",backgroundColor:"#fefefe",borderRadius:"7px",margin:"auto",padding:0,border:"1px solid #888",width:"700px",boxShadow:"0 4px 8px 0 rbga(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19)",transition:"0.4s ease"};var renderChildren=function renderChildren(){return show&&children};var footerStyle={borderTop:"1px solid #DDDDDD",display:"flex",flexDirection:"row",alignItems:"center",height:"40px",padding:"35px 35px 20px 35px",backgroundColor:success&&"#e0ffec"};var submitStyle={marginLeft:"auto",marginRight:"20px"};var submitButton=function submitButton(){if(onSubmit&&!(loading||success)){var handleSubmit=function handleSubmit(){_this3.setState({loading:true},function(){return onSubmit().then(function(){return _this3.setState({loading:false,success:true},function(){return setTimeout(function(){return _this3.setState({success:false},_this3.props.onClose)},2e3)})},function(){return _this3.setState({loading:false})})})};return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{style:submitStyle},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(ButtonElement,{label:"Submit",onUserInput:handleSubmit}))}};var processStyle={display:"flex",alignItems:"center",justifyContent:"space-evenly",margin:"0px auto 15px auto",width:"90px"};var loader=loading&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{style:processStyle},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(Loader__WEBPACK_IMPORTED_MODULE_9__["a"],{size:20}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h5",{className:"animate-flicker"},"Saving"));var successDisplay=success&&react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{style:processStyle},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",{style:{color:"green",marginBottom:"2px"},className:"glyphicon glyphicon-ok-circle"}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h5",null,"Success!"));return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{style:modalContainer,onClick:this.handleClose},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{style:modalContent,onClick:function onClick(e){return e.stopPropagation()}},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{style:headerStyle},title,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("span",{style:glyphStyle,onClick:this.handleClose},"×")),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{style:bodyStyle},renderChildren()),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{style:footerStyle},loader,successDisplay,submitButton())))}}]);return Modal}(react__WEBPACK_IMPORTED_MODULE_6__["Component"]);Modal.propTypes={title:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,onSubmit:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,onClose:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,show:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,throwWarning:prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool};Modal.defaultProps={throwWarning:false};__webpack_exports__["a"]=Modal},function(module,exports,__webpack_require__){var arrayWithoutHoles=__webpack_require__(27);var iterableToArray=__webpack_require__(28);var unsupportedIterableToArray=__webpack_require__(25);var nonIterableSpread=__webpack_require__(29);function _toConsumableArray(arr){return arrayWithoutHoles(arr)||iterableToArray(arr)||unsupportedIterableToArray(arr)||nonIterableSpread()}module.exports=_toConsumableArray;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports){function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}module.exports=_defineProperty;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports){function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}module.exports=_arrayLikeToArray;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports,__webpack_require__){var arrayWithHoles=__webpack_require__(93);var iterableToArrayLimit=__webpack_require__(94);var unsupportedIterableToArray=__webpack_require__(25);var nonIterableRest=__webpack_require__(95);function _slicedToArray(arr,i){return arrayWithHoles(arr)||iterableToArrayLimit(arr,i)||unsupportedIterableToArray(arr,i)||nonIterableRest()}module.exports=_slicedToArray;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports,__webpack_require__){var arrayLikeToArray=__webpack_require__(23);function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return arrayLikeToArray(o,minLen)}module.exports=_unsupportedIterableToArray;module.exports["default"]=module.exports,module.exports.__esModule=true},,function(module,exports,__webpack_require__){var arrayLikeToArray=__webpack_require__(23);function _arrayWithoutHoles(arr){if(Array.isArray(arr))return arrayLikeToArray(arr)}module.exports=_arrayWithoutHoles;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports){function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter)}module.exports=_iterableToArray;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports){function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=_nonIterableSpread;module.exports["default"]=module.exports,module.exports.__esModule=true},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return _inheritsLoose});function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;_setPrototypeOf(subClass,superClass)}},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(96)},,,,,function(module,exports){function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}module.exports=_asyncToGenerator;module.exports["default"]=module.exports,module.exports.__esModule=true},,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31);var prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1);var prop_types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);var MAX_SIGNED_31_BIT_INT=1073741823;var commonjsGlobal=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:{};function getUniqueId(){var key="__global_unique_id__";return commonjsGlobal[key]=(commonjsGlobal[key]||0)+1}function objectIs(x,y){if(x===y){return x!==0||1/x===1/y}else{return x!==x&&y!==y}}function createEventEmitter(value){var handlers=[];return{on:function on(handler){handlers.push(handler)},off:function off(handler){handlers=handlers.filter(function(h){return h!==handler})},get:function get(){return value},set:function set(newValue,changedBits){value=newValue;handlers.forEach(function(handler){return handler(value,changedBits)})}}}function onlyChild(children){return Array.isArray(children)?children[0]:children}function createReactContext(defaultValue,calculateChangedBits){var _Provider$childContex,_Consumer$contextType;var contextProp="__create-react-context-"+getUniqueId()+"__";var Provider=function(_Component){Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__["a"])(Provider,_Component);function Provider(){var _this;_this=_Component.apply(this,arguments)||this;_this.emitter=createEventEmitter(_this.props.value);return _this}var _proto=Provider.prototype;_proto.getChildContext=function getChildContext(){var _ref;return _ref={},_ref[contextProp]=this.emitter,_ref};_proto.componentWillReceiveProps=function componentWillReceiveProps(nextProps){if(this.props.value!==nextProps.value){var oldValue=this.props.value;var newValue=nextProps.value;var changedBits;if(objectIs(oldValue,newValue)){changedBits=0}else{changedBits=typeof calculateChangedBits==="function"?calculateChangedBits(oldValue,newValue):MAX_SIGNED_31_BIT_INT;if(false){}changedBits|=0;if(changedBits!==0){this.emitter.set(nextProps.value,changedBits)}}}};_proto.render=function render(){return this.props.children};return Provider}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);Provider.childContextTypes=(_Provider$childContex={},_Provider$childContex[contextProp]=prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,_Provider$childContex);var Consumer=function(_Component2){Object(_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_1__["a"])(Consumer,_Component2);function Consumer(){var _this2;_this2=_Component2.apply(this,arguments)||this;_this2.state={value:_this2.getValue()};_this2.onUpdate=function(newValue,changedBits){var observedBits=_this2.observedBits|0;if((observedBits&changedBits)!==0){_this2.setState({value:_this2.getValue()})}};return _this2}var _proto2=Consumer.prototype;_proto2.componentWillReceiveProps=function componentWillReceiveProps(nextProps){var observedBits=nextProps.observedBits;this.observedBits=observedBits===undefined||observedBits===null?MAX_SIGNED_31_BIT_INT:observedBits};_proto2.componentDidMount=function componentDidMount(){if(this.context[contextProp]){this.context[contextProp].on(this.onUpdate)}var observedBits=this.props.observedBits;this.observedBits=observedBits===undefined||observedBits===null?MAX_SIGNED_31_BIT_INT:observedBits};_proto2.componentWillUnmount=function componentWillUnmount(){if(this.context[contextProp]){this.context[contextProp].off(this.onUpdate)}};_proto2.getValue=function getValue(){if(this.context[contextProp]){return this.context[contextProp].get()}else{return defaultValue}};_proto2.render=function render(){return onlyChild(this.props.children)(this.state.value)};return Consumer}(react__WEBPACK_IMPORTED_MODULE_0__["Component"]);Consumer.contextTypes=(_Consumer$contextType={},_Consumer$contextType[contextProp]=prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,_Consumer$contextType);return{Provider,Consumer}}var index=react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext||createReactContext;__webpack_exports__["a"]=index}).call(this,__webpack_require__(97))},function(module,exports,__webpack_require__){var isarray=__webpack_require__(98);module.exports=pathToRegexp;module.exports.parse=parse;module.exports.compile=compile;module.exports.tokensToFunction=tokensToFunction;module.exports.tokensToRegExp=tokensToRegExp;var PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function parse(str,options){var tokens=[];var key=0;var index=0;var path="";var defaultDelimiter=options&&options.delimiter||"/";var res;while((res=PATH_REGEXP.exec(str))!=null){var m=res[0];var escaped=res[1];var offset=res.index;path+=str.slice(index,offset);index=offset+m.length;if(escaped){path+=escaped[1];continue}var next=str[index];var prefix=res[2];var name=res[3];var capture=res[4];var group=res[5];var modifier=res[6];var asterisk=res[7];if(path){tokens.push(path);path=""}var partial=prefix!=null&&next!=null&&next!==prefix;var repeat=modifier==="+"||modifier==="*";var optional=modifier==="?"||modifier==="*";var delimiter=res[2]||defaultDelimiter;var pattern=capture||group;tokens.push({name:name||key++,prefix:prefix||"",delimiter,optional,repeat,partial,asterisk:!!asterisk,pattern:pattern?escapeGroup(pattern):asterisk?".*":"[^"+escapeString(delimiter)+"]+?"})}if(index<str.length){path+=str.substr(index)}if(path){tokens.push(path)}return tokens}function compile(str,options){return tokensToFunction(parse(str,options),options)}function encodeURIComponentPretty(str){return encodeURI(str).replace(/[\/?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function encodeAsterisk(str){return encodeURI(str).replace(/[?#]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function tokensToFunction(tokens,options){var matches=new Array(tokens.length);for(var i=0;i<tokens.length;i++){if(typeof tokens[i]==="object"){matches[i]=new RegExp("^(?:"+tokens[i].pattern+")$",flags(options))}}return function(obj,opts){var path="";var data=obj||{};var options=opts||{};var encode=options.pretty?encodeURIComponentPretty:encodeURIComponent;for(var i=0;i<tokens.length;i++){var token=tokens[i];if(typeof token==="string"){path+=token;continue}var value=data[token.name];var segment;if(value==null){if(token.optional){if(token.partial){path+=token.prefix}continue}else{throw new TypeError('Expected "'+token.name+'" to be defined')}}if(isarray(value)){if(!token.repeat){throw new TypeError('Expected "'+token.name+'" to not repeat, but received `'+JSON.stringify(value)+"`")}if(value.length===0){if(token.optional){continue}else{throw new TypeError('Expected "'+token.name+'" to not be empty')}}for(var j=0;j<value.length;j++){segment=encode(value[j]);if(!matches[i].test(segment)){throw new TypeError('Expected all "'+token.name+'" to match "'+token.pattern+'", but received `'+JSON.stringify(segment)+"`")}path+=(j===0?token.prefix:token.delimiter)+segment}continue}segment=token.asterisk?encodeAsterisk(value):encode(value);if(!matches[i].test(segment)){throw new TypeError('Expected "'+token.name+'" to match "'+token.pattern+'", but received "'+segment+'"')}path+=token.prefix+segment}return path}}function escapeString(str){return str.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function escapeGroup(group){return group.replace(/([=!:$\/()])/g,"\\$1")}function attachKeys(re,keys){re.keys=keys;return re}function flags(options){return options&&options.sensitive?"":"i"}function regexpToRegexp(path,keys){var groups=path.source.match(/\((?!\?)/g);if(groups){for(var i=0;i<groups.length;i++){keys.push({name:i,prefix:null,delimiter:null,optional:false,repeat:false,partial:false,asterisk:false,pattern:null})}}return attachKeys(path,keys)}function arrayToRegexp(path,keys,options){var parts=[];for(var i=0;i<path.length;i++){parts.push(pathToRegexp(path[i],keys,options).source)}var regexp=new RegExp("(?:"+parts.join("|")+")",flags(options));return attachKeys(regexp,keys)}function stringToRegexp(path,keys,options){return tokensToRegExp(parse(path,options),keys,options)}function tokensToRegExp(tokens,keys,options){if(!isarray(keys)){options=keys||options;keys=[]}options=options||{};var strict=options.strict;var end=options.end!==false;var route="";for(var i=0;i<tokens.length;i++){var token=tokens[i];if(typeof token==="string"){route+=escapeString(token)}else{var prefix=escapeString(token.prefix);var capture="(?:"+token.pattern+")";keys.push(token);if(token.repeat){capture+="(?:"+prefix+capture+")*"}if(token.optional){if(!token.partial){capture="(?:"+prefix+"("+capture+"))?"}else{capture=prefix+"("+capture+")?"}}else{capture=prefix+"("+capture+")"}route+=capture}}var delimiter=escapeString(options.delimiter||"/");var endsWithDelimiter=route.slice(-delimiter.length)===delimiter;if(!strict){route=(endsWithDelimiter?route.slice(0,-delimiter.length):route)+"(?:"+delimiter+"(?=$))?"}if(end){route+="$"}else{route+=strict&&endsWithDelimiter?"":"(?="+delimiter+"|$)"}return attachKeys(new RegExp("^"+route,flags(options)),keys)}function pathToRegexp(path,keys,options){if(!isarray(keys)){options=keys||options;keys=[]}options=options||{};if(path instanceof RegExp){return regexpToRegexp(path,keys)}if(isarray(path)){return arrayToRegexp(path,keys,options)}return stringToRegexp(path,keys,options)}},function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(99)}else{}},function(module,exports,__webpack_require__){"use strict";var reactIs=__webpack_require__(46);var REACT_STATICS={childContextTypes:true,contextType:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,getDerivedStateFromError:true,getDerivedStateFromProps:true,mixins:true,propTypes:true,type:true};var KNOWN_STATICS={name:true,length:true,prototype:true,caller:true,callee:true,arguments:true,arity:true};var FORWARD_REF_STATICS={$$typeof:true,render:true,defaultProps:true,displayName:true,propTypes:true};var MEMO_STATICS={$$typeof:true,compare:true,defaultProps:true,displayName:true,propTypes:true,type:true};var TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(component){if(reactIs.isMemo(component)){return MEMO_STATICS}return TYPE_STATICS[component["$$typeof"]]||REACT_STATICS}var defineProperty=Object.defineProperty;var getOwnPropertyNames=Object.getOwnPropertyNames;var getOwnPropertySymbols=Object.getOwnPropertySymbols;var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;var getPrototypeOf=Object.getPrototypeOf;var objectPrototype=Object.prototype;function hoistNonReactStatics(targetComponent,sourceComponent,blacklist){if(typeof sourceComponent!=="string"){if(objectPrototype){var inheritedComponent=getPrototypeOf(sourceComponent);if(inheritedComponent&&inheritedComponent!==objectPrototype){hoistNonReactStatics(targetComponent,inheritedComponent,blacklist)}}var keys=getOwnPropertyNames(sourceComponent);if(getOwnPropertySymbols){keys=keys.concat(getOwnPropertySymbols(sourceComponent))}var targetStatics=getStatics(targetComponent);var sourceStatics=getStatics(sourceComponent);for(var i=0;i<keys.length;++i){var key=keys[i];if(!KNOWN_STATICS[key]&&!(blacklist&&blacklist[key])&&!(sourceStatics&&sourceStatics[key])&&!(targetStatics&&targetStatics[key])){var descriptor=getOwnPropertyDescriptor(sourceComponent,key);try{defineProperty(targetComponent,key,descriptor)}catch(e){}}}}return targetComponent}module.exports=hoistNonReactStatics},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports){function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}module.exports=_arrayWithHoles;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports){function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}module.exports=_iterableToArrayLimit;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports){function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=_nonIterableRest;module.exports["default"]=module.exports,module.exports.__esModule=true},function(module,exports,__webpack_require__){var runtime=function(exports){"use strict";var Op=Object.prototype;var hasOwn=Op.hasOwnProperty;var undefined;var $Symbol=typeof Symbol==="function"?Symbol:{};var iteratorSymbol=$Symbol.iterator||"@@iterator";var asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator";var toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){Object.defineProperty(obj,key,{value,enumerable:true,configurable:true,writable:true});return obj[key]}try{define({},"")}catch(err){define=function(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator;var generator=Object.create(protoGenerator.prototype);var context=new Context(tryLocsList||[]);generator._invoke=makeInvokeMethod(innerFn,self,context);return generator}exports.wrap=wrap;function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}var GenStateSuspendedStart="suspendedStart";var GenStateSuspendedYield="suspendedYield";var GenStateExecuting="executing";var GenStateCompleted="completed";var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf;var NativeIteratorPrototype=getProto&&getProto(getProto(values([])));if(NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)){IteratorPrototype=NativeIteratorPrototype}var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype;GeneratorFunctionPrototype.constructor=GeneratorFunction;GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction");function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg)})})}exports.isGeneratorFunction=function(genFun){var ctor=typeof genFun==="function"&&genFun.constructor;return ctor?ctor===GeneratorFunction||(ctor.displayName||ctor.name)==="GeneratorFunction":false};exports.mark=function(genFun){if(Object.setPrototypeOf){Object.setPrototypeOf(genFun,GeneratorFunctionPrototype)}else{genFun.__proto__=GeneratorFunctionPrototype;define(genFun,toStringTagSymbol,"GeneratorFunction")}genFun.prototype=Object.create(Gp);return genFun};exports.awrap=function(arg){return{__await:arg}};function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if(record.type==="throw"){reject(record.arg)}else{var result=record.arg;var value=result.value;if(value&&typeof value==="object"&&hasOwn.call(value,"__await")){return PromiseImpl.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)})}return PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped;resolve(result)},function(error){return invoke("throw",error,resolve,reject)})}}var previousPromise;function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}this._invoke=enqueue}defineIteratorMethods(AsyncIterator.prototype);AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this};exports.AsyncIterator=AsyncIterator;exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){if(PromiseImpl===void 0)PromiseImpl=Promise;var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})};function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting){throw new Error("Generator is already running")}if(state===GenStateCompleted){if(method==="throw"){throw arg}return doneResult()}context.method=method;context.arg=arg;while(true){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if(context.method==="next"){context.sent=context._sent=context.arg}else if(context.method==="throw"){if(state===GenStateSuspendedStart){state=GenStateCompleted;throw context.arg}context.dispatchException(context.arg)}else if(context.method==="return"){context.abrupt("return",context.arg)}state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if(record.type==="normal"){state=context.done?GenStateCompleted:GenStateSuspendedYield;if(record.arg===ContinueSentinel){continue}return{value:record.arg,done:context.done}}else if(record.type==="throw"){state=GenStateCompleted;context.method="throw";context.arg=record.arg}}}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){context.delegate=null;if(context.method==="throw"){if(delegate.iterator["return"]){context.method="return";context.arg=undefined;maybeInvokeDelegate(delegate,context);if(context.method==="throw"){return ContinueSentinel}}context.method="throw";context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if(record.type==="throw"){context.method="throw";context.arg=record.arg;context.delegate=null;return ContinueSentinel}var info=record.arg;if(!info){context.method="throw";context.arg=new TypeError("iterator result is not an object");context.delegate=null;return ContinueSentinel}if(info.done){context[delegate.resultName]=info.value;context.next=delegate.nextLoc;if(context.method!=="return"){context.method="next";context.arg=undefined}}else{return info}context.delegate=null;return ContinueSentinel}defineIteratorMethods(Gp);define(Gp,toStringTagSymbol,"Generator");Gp[iteratorSymbol]=function(){return this};Gp.toString=function(){return"[object Generator]"};function pushTryEntry(locs){var entry={tryLoc:locs[0]};if(1 in locs){entry.catchLoc=locs[1]}if(2 in locs){entry.finallyLoc=locs[2];entry.afterLoc=locs[3]}this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal";delete record.arg;entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}];tryLocsList.forEach(pushTryEntry,this);this.reset(true)}exports.keys=function(object){var keys=[];for(var key in object){keys.push(key)}keys.reverse();return function next(){while(keys.length){var key=keys.pop();if(key in object){next.value=key;next.done=false;return next}}next.done=true;return next}};function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod){return iteratorMethod.call(iterable)}if(typeof iterable.next==="function"){return iterable}if(!isNaN(iterable.length)){var i=-1,next=function next(){while(++i<iterable.length){if(hasOwn.call(iterable,i)){next.value=iterable[i];next.done=false;return next}}next.value=undefined;next.done=true;return next};return next.next=next}}return{next:doneResult}}exports.values=values;function doneResult(){return{value:undefined,done:true}}Context.prototype={constructor:Context,reset:function(skipTempReset){this.prev=0;this.next=0;this.sent=this._sent=undefined;this.done=false;this.delegate=null;this.method="next";this.arg=undefined;this.tryEntries.forEach(resetTryEntry);if(!skipTempReset){for(var name in this){if(name.charAt(0)==="t"&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))){this[name]=undefined}}}},stop:function(){this.done=true;var rootEntry=this.tryEntries[0];var rootRecord=rootEntry.completion;if(rootRecord.type==="throw"){throw rootRecord.arg}return this.rval},dispatchException:function(exception){if(this.done){throw exception}var context=this;function handle(loc,caught){record.type="throw";record.arg=exception;context.next=loc;if(caught){context.method="next";context.arg=undefined}return!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];var record=entry.completion;if(entry.tryLoc==="root"){return handle("end")}if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc");var hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true)}else if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc)}}else if(hasCatch){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true)}}else if(hasFinally){if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}if(finallyEntry&&(type==="break"||type==="continue")&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc){finallyEntry=null}var record=finallyEntry?finallyEntry.completion:{};record.type=type;record.arg=arg;if(finallyEntry){this.method="next";this.next=finallyEntry.finallyLoc;return ContinueSentinel}return this.complete(record)},complete:function(record,afterLoc){if(record.type==="throw"){throw record.arg}if(record.type==="break"||record.type==="continue"){this.next=record.arg}else if(record.type==="return"){this.rval=this.arg=record.arg;this.method="return";this.next="end"}else if(record.type==="normal"&&afterLoc){this.next=afterLoc}return ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc){this.complete(entry.completion,entry.afterLoc);resetTryEntry(entry);return ContinueSentinel}}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if(record.type==="throw"){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){this.delegate={iterator:values(iterable),resultName,nextLoc};if(this.method==="next"){this.arg=undefined}return ContinueSentinel}};return exports}(true?module.exports:undefined);try{regeneratorRuntime=runtime}catch(accidentalStrictMode){Function("r","regeneratorRuntime = r")(runtime)}},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,exports){module.exports=Array.isArray||function(arr){return Object.prototype.toString.call(arr)=="[object Array]"}},function(module,exports,__webpack_require__){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b="function"===typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(a){if("object"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;exports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};exports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};exports.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||"object"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var toConsumableArray=__webpack_require__(21);var toConsumableArray_default=__webpack_require__.n(toConsumableArray);var slicedToArray=__webpack_require__(24);var slicedToArray_default=__webpack_require__.n(slicedToArray);var defineProperty=__webpack_require__(22);var defineProperty_default=__webpack_require__.n(defineProperty);var asyncToGenerator=__webpack_require__(39);var asyncToGenerator_default=__webpack_require__.n(asyncToGenerator);var classCallCheck=__webpack_require__(4);var classCallCheck_default=__webpack_require__.n(classCallCheck);var createClass=__webpack_require__(5);var createClass_default=__webpack_require__.n(createClass);var assertThisInitialized=__webpack_require__(2);var assertThisInitialized_default=__webpack_require__.n(assertThisInitialized);var inherits=__webpack_require__(6);var inherits_default=__webpack_require__.n(inherits);var possibleConstructorReturn=__webpack_require__(7);var possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn);var getPrototypeOf=__webpack_require__(3);var getPrototypeOf_default=__webpack_require__.n(getPrototypeOf);var regenerator=__webpack_require__(34);var regenerator_default=__webpack_require__.n(regenerator);var inheritsLoose=__webpack_require__(31);var external_React_=__webpack_require__(0);var external_React_default=__webpack_require__.n(external_React_);var prop_types=__webpack_require__(1);var prop_types_default=__webpack_require__.n(prop_types);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function isAbsolute(pathname){return pathname.charAt(0)==="/"}function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1){list[i]=list[k]}list.pop()}function resolvePathname(to,from){if(from===undefined)from="";var toParts=to&&to.split("/")||[];var fromParts=from&&from.split("/")||[];var isToAbs=to&&isAbsolute(to);var isFromAbs=from&&isAbsolute(from);var mustEndAbs=isToAbs||isFromAbs;if(to&&isAbsolute(to)){fromParts=toParts}else if(toParts.length){fromParts.pop();fromParts=fromParts.concat(toParts)}if(!fromParts.length)return"/";var hasTrailingSlash;if(fromParts.length){var last=fromParts[fromParts.length-1];hasTrailingSlash=last==="."||last===".."||last===""}else{hasTrailingSlash=false}var up=0;for(var i=fromParts.length;i>=0;i--){var part=fromParts[i];if(part==="."){spliceOne(fromParts,i)}else if(part===".."){spliceOne(fromParts,i);up++}else if(up){spliceOne(fromParts,i);up--}}if(!mustEndAbs)for(;up--;up)fromParts.unshift("..");if(mustEndAbs&&fromParts[0]!==""&&(!fromParts[0]||!isAbsolute(fromParts[0])))fromParts.unshift("");var result=fromParts.join("/");if(hasTrailingSlash&&result.substr(-1)!=="/")result+="/";return result}var resolve_pathname=resolvePathname;function value_equal_valueOf(obj){return obj.valueOf?obj.valueOf():Object.prototype.valueOf.call(obj)}function valueEqual(a,b){if(a===b)return true;if(a==null||b==null)return false;if(Array.isArray(a)){return Array.isArray(b)&&a.length===b.length&&a.every(function(item,index){return valueEqual(item,b[index])})}if(typeof a==="object"||typeof b==="object"){var aValue=value_equal_valueOf(a);var bValue=value_equal_valueOf(b);if(aValue!==a||bValue!==b)return valueEqual(aValue,bValue);return Object.keys(Object.assign({},a,b)).every(function(key){return valueEqual(a[key],b[key])})}return false}var value_equal=valueEqual;var isProduction="production"==="production";var prefix="Invariant failed";function invariant(condition,message){if(condition){return}if(isProduction){throw new Error(prefix)}throw new Error(prefix+": "+(message||""))}var tiny_invariant_esm=invariant;function addLeadingSlash(path){return path.charAt(0)==="/"?path:"/"+path}function stripLeadingSlash(path){return path.charAt(0)==="/"?path.substr(1):path}function hasBasename(path,prefix){return path.toLowerCase().indexOf(prefix.toLowerCase())===0&&"/?#".indexOf(path.charAt(prefix.length))!==-1}function stripBasename(path,prefix){return hasBasename(path,prefix)?path.substr(prefix.length):path}function stripTrailingSlash(path){return path.charAt(path.length-1)==="/"?path.slice(0,-1):path}function parsePath(path){var pathname=path||"/";var search="";var hash="";var hashIndex=pathname.indexOf("#");if(hashIndex!==-1){hash=pathname.substr(hashIndex);pathname=pathname.substr(0,hashIndex)}var searchIndex=pathname.indexOf("?");if(searchIndex!==-1){search=pathname.substr(searchIndex);pathname=pathname.substr(0,searchIndex)}return{pathname,search:search==="?"?"":search,hash:hash==="#"?"":hash}}function createPath(location){var pathname=location.pathname,search=location.search,hash=location.hash;var path=pathname||"/";if(search&&search!=="?")path+=search.charAt(0)==="?"?search:"?"+search;if(hash&&hash!=="#")path+=hash.charAt(0)==="#"?hash:"#"+hash;return path}function createLocation(path,state,key,currentLocation){var location;if(typeof path==="string"){location=parsePath(path);location.state=state}else{location=_extends({},path);if(location.pathname===undefined)location.pathname="";if(location.search){if(location.search.charAt(0)!=="?")location.search="?"+location.search}else{location.search=""}if(location.hash){if(location.hash.charAt(0)!=="#")location.hash="#"+location.hash}else{location.hash=""}if(state!==undefined&&location.state===undefined)location.state=state}try{location.pathname=decodeURI(location.pathname)}catch(e){if(e instanceof URIError){throw new URIError('Pathname "'+location.pathname+'" could not be decoded. '+"This is likely caused by an invalid percent-encoding.")}else{throw e}}if(key)location.key=key;if(currentLocation){if(!location.pathname){location.pathname=currentLocation.pathname}else if(location.pathname.charAt(0)!=="/"){location.pathname=resolve_pathname(location.pathname,currentLocation.pathname)}}else{if(!location.pathname){location.pathname="/"}}return location}function locationsAreEqual(a,b){return a.pathname===b.pathname&&a.search===b.search&&a.hash===b.hash&&a.key===b.key&&value_equal(a.state,b.state)}function createTransitionManager(){var prompt=null;function setPrompt(nextPrompt){false?undefined:void 0;prompt=nextPrompt;return function(){if(prompt===nextPrompt)prompt=null}}function confirmTransitionTo(location,action,getUserConfirmation,callback){if(prompt!=null){var result=typeof prompt==="function"?prompt(location,action):prompt;if(typeof result==="string"){if(typeof getUserConfirmation==="function"){getUserConfirmation(result,callback)}else{false?undefined:void 0;callback(true)}}else{callback(result!==false)}}else{callback(true)}}var listeners=[];function appendListener(fn){var isActive=true;function listener(){if(isActive)fn.apply(void 0,arguments)}listeners.push(listener);return function(){isActive=false;listeners=listeners.filter(function(item){return item!==listener})}}function notifyListeners(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}listeners.forEach(function(listener){return listener.apply(void 0,args)})}return{setPrompt,confirmTransitionTo,appendListener,notifyListeners}}var canUseDOM=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);function getConfirmation(message,callback){callback(window.confirm(message))}function supportsHistory(){var ua=window.navigator.userAgent;if((ua.indexOf("Android 2.")!==-1||ua.indexOf("Android 4.0")!==-1)&&ua.indexOf("Mobile Safari")!==-1&&ua.indexOf("Chrome")===-1&&ua.indexOf("Windows Phone")===-1)return false;return window.history&&"pushState"in window.history}function supportsPopStateOnHashChange(){return window.navigator.userAgent.indexOf("Trident")===-1}function supportsGoWithoutReloadUsingHash(){return window.navigator.userAgent.indexOf("Firefox")===-1}function isExtraneousPopstateEvent(event){return event.state===undefined&&navigator.userAgent.indexOf("CriOS")===-1}var PopStateEvent="popstate";var HashChangeEvent="hashchange";function getHistoryState(){try{return window.history.state||{}}catch(e){return{}}}function createBrowserHistory(props){if(props===void 0){props={}}!canUseDOM?false?undefined:tiny_invariant_esm(false):void 0;var globalHistory=window.history;var canUseHistory=supportsHistory();var needsHashChangeListener=!supportsPopStateOnHashChange();var _props=props,_props$forceRefresh=_props.forceRefresh,forceRefresh=_props$forceRefresh===void 0?false:_props$forceRefresh,_props$getUserConfirm=_props.getUserConfirmation,getUserConfirmation=_props$getUserConfirm===void 0?getConfirmation:_props$getUserConfirm,_props$keyLength=_props.keyLength,keyLength=_props$keyLength===void 0?6:_props$keyLength;var basename=props.basename?stripTrailingSlash(addLeadingSlash(props.basename)):"";function getDOMLocation(historyState){var _ref=historyState||{},key=_ref.key,state=_ref.state;var _window$location=window.location,pathname=_window$location.pathname,search=_window$location.search,hash=_window$location.hash;var path=pathname+search+hash;false?undefined:void 0;if(basename)path=stripBasename(path,basename);return createLocation(path,state,key)}function createKey(){return Math.random().toString(36).substr(2,keyLength)}var transitionManager=createTransitionManager();function setState(nextState){_extends(history,nextState);history.length=globalHistory.length;transitionManager.notifyListeners(history.location,history.action)}function handlePopState(event){if(isExtraneousPopstateEvent(event))return;handlePop(getDOMLocation(event.state))}function handleHashChange(){handlePop(getDOMLocation(getHistoryState()))}var forceNextPop=false;function handlePop(location){if(forceNextPop){forceNextPop=false;setState()}else{var action="POP";transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(ok){setState({action,location})}else{revertPop(location)}})}}function revertPop(fromLocation){var toLocation=history.location;var toIndex=allKeys.indexOf(toLocation.key);if(toIndex===-1)toIndex=0;var fromIndex=allKeys.indexOf(fromLocation.key);if(fromIndex===-1)fromIndex=0;var delta=toIndex-fromIndex;if(delta){forceNextPop=true;go(delta)}}var initialLocation=getDOMLocation(getHistoryState());var allKeys=[initialLocation.key];function createHref(location){return basename+createPath(location)}function push(path,state){false?undefined:void 0;var action="PUSH";var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;var href=createHref(location);var key=location.key,state=location.state;if(canUseHistory){globalHistory.pushState({key,state},null,href);if(forceRefresh){window.location.href=href}else{var prevIndex=allKeys.indexOf(history.location.key);var nextKeys=allKeys.slice(0,prevIndex+1);nextKeys.push(location.key);allKeys=nextKeys;setState({action,location})}}else{false?undefined:void 0;window.location.href=href}})}function replace(path,state){false?undefined:void 0;var action="REPLACE";var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;var href=createHref(location);var key=location.key,state=location.state;if(canUseHistory){globalHistory.replaceState({key,state},null,href);if(forceRefresh){window.location.replace(href)}else{var prevIndex=allKeys.indexOf(history.location.key);if(prevIndex!==-1)allKeys[prevIndex]=location.key;setState({action,location})}}else{false?undefined:void 0;window.location.replace(href)}})}function go(n){globalHistory.go(n)}function goBack(){go(-1)}function goForward(){go(1)}var listenerCount=0;function checkDOMListeners(delta){listenerCount+=delta;if(listenerCount===1&&delta===1){window.addEventListener(PopStateEvent,handlePopState);if(needsHashChangeListener)window.addEventListener(HashChangeEvent,handleHashChange)}else if(listenerCount===0){window.removeEventListener(PopStateEvent,handlePopState);if(needsHashChangeListener)window.removeEventListener(HashChangeEvent,handleHashChange)}}var isBlocked=false;function block(prompt){if(prompt===void 0){prompt=false}var unblock=transitionManager.setPrompt(prompt);if(!isBlocked){checkDOMListeners(1);isBlocked=true}return function(){if(isBlocked){isBlocked=false;checkDOMListeners(-1)}return unblock()}}function listen(listener){var unlisten=transitionManager.appendListener(listener);checkDOMListeners(1);return function(){checkDOMListeners(-1);unlisten()}}var history={length:globalHistory.length,action:"POP",location:initialLocation,createHref,push,replace,go,goBack,goForward,block,listen};return history}var HashChangeEvent$1="hashchange";var HashPathCoders={hashbang:{encodePath:function encodePath(path){return path.charAt(0)==="!"?path:"!/"+stripLeadingSlash(path)},decodePath:function decodePath(path){return path.charAt(0)==="!"?path.substr(1):path}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function stripHash(url){var hashIndex=url.indexOf("#");return hashIndex===-1?url:url.slice(0,hashIndex)}function getHashPath(){var href=window.location.href;var hashIndex=href.indexOf("#");return hashIndex===-1?"":href.substring(hashIndex+1)}function pushHashPath(path){window.location.hash=path}function replaceHashPath(path){window.location.replace(stripHash(window.location.href)+"#"+path)}function createHashHistory(props){if(props===void 0){props={}}!canUseDOM?false?undefined:tiny_invariant_esm(false):void 0;var globalHistory=window.history;var canGoWithoutReload=supportsGoWithoutReloadUsingHash();var _props=props,_props$getUserConfirm=_props.getUserConfirmation,getUserConfirmation=_props$getUserConfirm===void 0?getConfirmation:_props$getUserConfirm,_props$hashType=_props.hashType,hashType=_props$hashType===void 0?"slash":_props$hashType;var basename=props.basename?stripTrailingSlash(addLeadingSlash(props.basename)):"";var _HashPathCoders$hashT=HashPathCoders[hashType],encodePath=_HashPathCoders$hashT.encodePath,decodePath=_HashPathCoders$hashT.decodePath;function getDOMLocation(){var path=decodePath(getHashPath());false?undefined:void 0;if(basename)path=stripBasename(path,basename);return createLocation(path)}var transitionManager=createTransitionManager();function setState(nextState){_extends(history,nextState);history.length=globalHistory.length;transitionManager.notifyListeners(history.location,history.action)}var forceNextPop=false;var ignorePath=null;function locationsAreEqual$$1(a,b){return a.pathname===b.pathname&&a.search===b.search&&a.hash===b.hash}function handleHashChange(){var path=getHashPath();var encodedPath=encodePath(path);if(path!==encodedPath){replaceHashPath(encodedPath)}else{var location=getDOMLocation();var prevLocation=history.location;if(!forceNextPop&&locationsAreEqual$$1(prevLocation,location))return;if(ignorePath===createPath(location))return;ignorePath=null;handlePop(location)}}function handlePop(location){if(forceNextPop){forceNextPop=false;setState()}else{var action="POP";transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(ok){setState({action,location})}else{revertPop(location)}})}}function revertPop(fromLocation){var toLocation=history.location;var toIndex=allPaths.lastIndexOf(createPath(toLocation));if(toIndex===-1)toIndex=0;var fromIndex=allPaths.lastIndexOf(createPath(fromLocation));if(fromIndex===-1)fromIndex=0;var delta=toIndex-fromIndex;if(delta){forceNextPop=true;go(delta)}}var path=getHashPath();var encodedPath=encodePath(path);if(path!==encodedPath)replaceHashPath(encodedPath);var initialLocation=getDOMLocation();var allPaths=[createPath(initialLocation)];function createHref(location){var baseTag=document.querySelector("base");var href="";if(baseTag&&baseTag.getAttribute("href")){href=stripHash(window.location.href)}return href+"#"+encodePath(basename+createPath(location))}function push(path,state){false?undefined:void 0;var action="PUSH";var location=createLocation(path,undefined,undefined,history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;var path=createPath(location);var encodedPath=encodePath(basename+path);var hashChanged=getHashPath()!==encodedPath;if(hashChanged){ignorePath=path;pushHashPath(encodedPath);var prevIndex=allPaths.lastIndexOf(createPath(history.location));var nextPaths=allPaths.slice(0,prevIndex+1);nextPaths.push(path);allPaths=nextPaths;setState({action,location})}else{false?undefined:void 0;setState()}})}function replace(path,state){false?undefined:void 0;var action="REPLACE";var location=createLocation(path,undefined,undefined,history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;var path=createPath(location);var encodedPath=encodePath(basename+path);var hashChanged=getHashPath()!==encodedPath;if(hashChanged){ignorePath=path;replaceHashPath(encodedPath)}var prevIndex=allPaths.indexOf(createPath(history.location));if(prevIndex!==-1)allPaths[prevIndex]=path;setState({action,location})})}function go(n){false?undefined:void 0;globalHistory.go(n)}function goBack(){go(-1)}function goForward(){go(1)}var listenerCount=0;function checkDOMListeners(delta){listenerCount+=delta;if(listenerCount===1&&delta===1){window.addEventListener(HashChangeEvent$1,handleHashChange)}else if(listenerCount===0){window.removeEventListener(HashChangeEvent$1,handleHashChange)}}var isBlocked=false;function block(prompt){if(prompt===void 0){prompt=false}var unblock=transitionManager.setPrompt(prompt);if(!isBlocked){checkDOMListeners(1);isBlocked=true}return function(){if(isBlocked){isBlocked=false;checkDOMListeners(-1)}return unblock()}}function listen(listener){var unlisten=transitionManager.appendListener(listener);checkDOMListeners(1);return function(){checkDOMListeners(-1);unlisten()}}var history={length:globalHistory.length,action:"POP",location:initialLocation,createHref,push,replace,go,goBack,goForward,block,listen};return history}function clamp(n,lowerBound,upperBound){return Math.min(Math.max(n,lowerBound),upperBound)}function createMemoryHistory(props){if(props===void 0){props={}}var _props=props,getUserConfirmation=_props.getUserConfirmation,_props$initialEntries=_props.initialEntries,initialEntries=_props$initialEntries===void 0?["/"]:_props$initialEntries,_props$initialIndex=_props.initialIndex,initialIndex=_props$initialIndex===void 0?0:_props$initialIndex,_props$keyLength=_props.keyLength,keyLength=_props$keyLength===void 0?6:_props$keyLength;var transitionManager=createTransitionManager();function setState(nextState){_extends(history,nextState);history.length=history.entries.length;transitionManager.notifyListeners(history.location,history.action)}function createKey(){return Math.random().toString(36).substr(2,keyLength)}var index=clamp(initialIndex,0,initialEntries.length-1);var entries=initialEntries.map(function(entry){return typeof entry==="string"?createLocation(entry,undefined,createKey()):createLocation(entry,undefined,entry.key||createKey())});var createHref=createPath;function push(path,state){false?undefined:void 0;var action="PUSH";var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;var prevIndex=history.index;var nextIndex=prevIndex+1;var nextEntries=history.entries.slice(0);if(nextEntries.length>nextIndex){nextEntries.splice(nextIndex,nextEntries.length-nextIndex,location)}else{nextEntries.push(location)}setState({action,location,index:nextIndex,entries:nextEntries})})}function replace(path,state){false?undefined:void 0;var action="REPLACE";var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(!ok)return;history.entries[history.index]=location;setState({action,location})})}function go(n){var nextIndex=clamp(history.index+n,0,history.entries.length-1);var action="POP";var location=history.entries[nextIndex];transitionManager.confirmTransitionTo(location,action,getUserConfirmation,function(ok){if(ok){setState({action,location,index:nextIndex})}else{setState()}})}function goBack(){go(-1)}function goForward(){go(1)}function canGo(n){var nextIndex=history.index+n;return nextIndex>=0&&nextIndex<history.entries.length}function block(prompt){if(prompt===void 0){prompt=false}return transitionManager.setPrompt(prompt)}function listen(listener){return transitionManager.appendListener(listener)}var history={length:entries.length,action:"POP",location:entries[index],index,entries,createHref,push,replace,go,goBack,goForward,canGo,block,listen};return history}var esm=__webpack_require__(44);var path_to_regexp=__webpack_require__(45);var path_to_regexp_default=__webpack_require__.n(path_to_regexp);var react_is=__webpack_require__(46);function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var hoist_non_react_statics_cjs=__webpack_require__(47);var hoist_non_react_statics_cjs_default=__webpack_require__.n(hoist_non_react_statics_cjs);var react_router_createNamedContext=function createNamedContext(name){var context=Object(esm["a"])();context.displayName=name;return context};var historyContext=react_router_createNamedContext("Router-History");var createNamedContext$1=function createNamedContext(name){var context=Object(esm["a"])();context.displayName=name;return context};var react_router_context=createNamedContext$1("Router");var react_router_Router=function(_React$Component){Object(inheritsLoose["a"])(Router,_React$Component);Router.computeRootMatch=function computeRootMatch(pathname){return{path:"/",url:"/",params:{},isExact:pathname==="/"}};function Router(props){var _this;_this=_React$Component.call(this,props)||this;_this.state={location:props.history.location};_this._isMounted=false;_this._pendingLocation=null;if(!props.staticContext){_this.unlisten=props.history.listen(function(location){if(_this._isMounted){_this.setState({location})}else{_this._pendingLocation=location}})}return _this}var _proto=Router.prototype;_proto.componentDidMount=function componentDidMount(){this._isMounted=true;if(this._pendingLocation){this.setState({location:this._pendingLocation})}};_proto.componentWillUnmount=function componentWillUnmount(){if(this.unlisten)this.unlisten()};_proto.render=function render(){return external_React_default.a.createElement(react_router_context.Provider,{value:{history:this.props.history,location:this.state.location,match:Router.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},external_React_default.a.createElement(historyContext.Provider,{children:this.props.children||null,value:this.props.history}))};return Router}(external_React_default.a.Component);if(false){}var react_router_MemoryRouter=function(_React$Component){Object(inheritsLoose["a"])(MemoryRouter,_React$Component);function MemoryRouter(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this;_this.history=createMemoryHistory(_this.props);return _this}var _proto=MemoryRouter.prototype;_proto.render=function render(){return external_React_default.a.createElement(react_router_Router,{history:this.history,children:this.props.children})};return MemoryRouter}(external_React_default.a.Component);if(false){}var react_router_Lifecycle=function(_React$Component){Object(inheritsLoose["a"])(Lifecycle,_React$Component);function Lifecycle(){return _React$Component.apply(this,arguments)||this}var _proto=Lifecycle.prototype;_proto.componentDidMount=function componentDidMount(){if(this.props.onMount)this.props.onMount.call(this,this)};_proto.componentDidUpdate=function componentDidUpdate(prevProps){if(this.props.onUpdate)this.props.onUpdate.call(this,this,prevProps)};_proto.componentWillUnmount=function componentWillUnmount(){if(this.props.onUnmount)this.props.onUnmount.call(this,this)};_proto.render=function render(){return null};return Lifecycle}(external_React_default.a.Component);function Prompt(_ref){var message=_ref.message,_ref$when=_ref.when,when=_ref$when===void 0?true:_ref$when;return external_React_default.a.createElement(react_router_context.Consumer,null,function(context){!context?false?undefined:tiny_invariant_esm(false):void 0;if(!when||context.staticContext)return null;var method=context.history.block;return external_React_default.a.createElement(react_router_Lifecycle,{onMount:function onMount(self){self.release=method(message)},onUpdate:function onUpdate(self,prevProps){if(prevProps.message!==message){self.release();self.release=method(message)}},onUnmount:function onUnmount(self){self.release()},message})})}if(false){var messageType}var cache={};var cacheLimit=1e4;var cacheCount=0;function compilePath(path){if(cache[path])return cache[path];var generator=path_to_regexp_default.a.compile(path);if(cacheCount<cacheLimit){cache[path]=generator;cacheCount++}return generator}function generatePath(path,params){if(path===void 0){path="/"}if(params===void 0){params={}}return path==="/"?path:compilePath(path)(params,{pretty:true})}function Redirect(_ref){var computedMatch=_ref.computedMatch,to=_ref.to,_ref$push=_ref.push,push=_ref$push===void 0?false:_ref$push;return external_React_default.a.createElement(react_router_context.Consumer,null,function(context){!context?false?undefined:tiny_invariant_esm(false):void 0;var history=context.history,staticContext=context.staticContext;var method=push?history.push:history.replace;var location=createLocation(computedMatch?typeof to==="string"?generatePath(to,computedMatch.params):_extends({},to,{pathname:generatePath(to.pathname,computedMatch.params)}):to);if(staticContext){method(location);return null}return external_React_default.a.createElement(react_router_Lifecycle,{onMount:function onMount(){method(location)},onUpdate:function onUpdate(self,prevProps){var prevLocation=createLocation(prevProps.to);if(!locationsAreEqual(prevLocation,_extends({},location,{key:prevLocation.key}))){method(location)}},to})})}if(false){}var cache$1={};var cacheLimit$1=1e4;var cacheCount$1=0;function compilePath$1(path,options){var cacheKey=""+options.end+options.strict+options.sensitive;var pathCache=cache$1[cacheKey]||(cache$1[cacheKey]={});if(pathCache[path])return pathCache[path];var keys=[];var regexp=path_to_regexp_default()(path,keys,options);var result={regexp,keys};if(cacheCount$1<cacheLimit$1){pathCache[path]=result;cacheCount$1++}return result}function matchPath(pathname,options){if(options===void 0){options={}}if(typeof options==="string"||Array.isArray(options)){options={path:options}}var _options=options,path=_options.path,_options$exact=_options.exact,exact=_options$exact===void 0?false:_options$exact,_options$strict=_options.strict,strict=_options$strict===void 0?false:_options$strict,_options$sensitive=_options.sensitive,sensitive=_options$sensitive===void 0?false:_options$sensitive;var paths=[].concat(path);return paths.reduce(function(matched,path){if(!path&&path!=="")return null;if(matched)return matched;var _compilePath=compilePath$1(path,{end:exact,strict,sensitive}),regexp=_compilePath.regexp,keys=_compilePath.keys;var match=regexp.exec(pathname);if(!match)return null;var url=match[0],values=match.slice(1);var isExact=pathname===url;if(exact&&!isExact)return null;return{path,url:path==="/"&&url===""?"/":url,isExact,params:keys.reduce(function(memo,key,index){memo[key.name]=values[index];return memo},{})}},null)}function isEmptyChildren(children){return external_React_default.a.Children.count(children)===0}function evalChildrenDev(children,props,path){var value=children(props);false?undefined:void 0;return value||null}var react_router_Route=function(_React$Component){Object(inheritsLoose["a"])(Route,_React$Component);function Route(){return _React$Component.apply(this,arguments)||this}var _proto=Route.prototype;_proto.render=function render(){var _this=this;return external_React_default.a.createElement(react_router_context.Consumer,null,function(context$1){!context$1?false?undefined:tiny_invariant_esm(false):void 0;var location=_this.props.location||context$1.location;var match=_this.props.computedMatch?_this.props.computedMatch:_this.props.path?matchPath(location.pathname,_this.props):context$1.match;var props=_extends({},context$1,{location,match});var _this$props=_this.props,children=_this$props.children,component=_this$props.component,render=_this$props.render;if(Array.isArray(children)&&children.length===0){children=null}return external_React_default.a.createElement(react_router_context.Provider,{value:props},props.match?children?typeof children==="function"?false?undefined:children(props):children:component?external_React_default.a.createElement(component,props):render?render(props):null:typeof children==="function"?false?undefined:children(props):null)})};return Route}(external_React_default.a.Component);if(false){}function react_router_addLeadingSlash(path){return path.charAt(0)==="/"?path:"/"+path}function addBasename(basename,location){if(!basename)return location;return _extends({},location,{pathname:react_router_addLeadingSlash(basename)+location.pathname})}function react_router_stripBasename(basename,location){if(!basename)return location;var base=react_router_addLeadingSlash(basename);if(location.pathname.indexOf(base)!==0)return location;return _extends({},location,{pathname:location.pathname.substr(base.length)})}function createURL(location){return typeof location==="string"?location:createPath(location)}function staticHandler(methodName){return function(){false?undefined:tiny_invariant_esm(false)}}function noop(){}var react_router_StaticRouter=function(_React$Component){Object(inheritsLoose["a"])(StaticRouter,_React$Component);function StaticRouter(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this;_this.handlePush=function(location){return _this.navigateTo(location,"PUSH")};_this.handleReplace=function(location){return _this.navigateTo(location,"REPLACE")};_this.handleListen=function(){return noop};_this.handleBlock=function(){return noop};return _this}var _proto=StaticRouter.prototype;_proto.navigateTo=function navigateTo(location,action){var _this$props=this.props,_this$props$basename=_this$props.basename,basename=_this$props$basename===void 0?"":_this$props$basename,_this$props$context=_this$props.context,context=_this$props$context===void 0?{}:_this$props$context;context.action=action;context.location=addBasename(basename,createLocation(location));context.url=createURL(context.location)};_proto.render=function render(){var _this$props2=this.props,_this$props2$basename=_this$props2.basename,basename=_this$props2$basename===void 0?"":_this$props2$basename,_this$props2$context=_this$props2.context,context=_this$props2$context===void 0?{}:_this$props2$context,_this$props2$location=_this$props2.location,location=_this$props2$location===void 0?"/":_this$props2$location,rest=_objectWithoutPropertiesLoose(_this$props2,["basename","context","location"]);var history={createHref:function createHref(path){return react_router_addLeadingSlash(basename+createURL(path))},action:"POP",location:react_router_stripBasename(basename,createLocation(location)),push:this.handlePush,replace:this.handleReplace,go:staticHandler("go"),goBack:staticHandler("goBack"),goForward:staticHandler("goForward"),listen:this.handleListen,block:this.handleBlock};return external_React_default.a.createElement(react_router_Router,_extends({},rest,{history,staticContext:context}))};return StaticRouter}(external_React_default.a.Component);if(false){}var react_router_Switch=function(_React$Component){Object(inheritsLoose["a"])(Switch,_React$Component);function Switch(){return _React$Component.apply(this,arguments)||this}var _proto=Switch.prototype;_proto.render=function render(){var _this=this;return external_React_default.a.createElement(react_router_context.Consumer,null,function(context){!context?false?undefined:tiny_invariant_esm(false):void 0;var location=_this.props.location||context.location;var element,match;external_React_default.a.Children.forEach(_this.props.children,function(child){if(match==null&&external_React_default.a.isValidElement(child)){element=child;var path=child.props.path||child.props.from;match=path?matchPath(location.pathname,_extends({},child.props,{path})):context.match}});return match?external_React_default.a.cloneElement(element,{location,computedMatch:match}):null})};return Switch}(external_React_default.a.Component);if(false){}function withRouter(Component){var displayName="withRouter("+(Component.displayName||Component.name)+")";var C=function C(props){var wrappedComponentRef=props.wrappedComponentRef,remainingProps=_objectWithoutPropertiesLoose(props,["wrappedComponentRef"]);return external_React_default.a.createElement(react_router_context.Consumer,null,function(context){!context?false?undefined:tiny_invariant_esm(false):void 0;return external_React_default.a.createElement(Component,_extends({},remainingProps,context,{ref:wrappedComponentRef}))})};C.displayName=displayName;C.WrappedComponent=Component;if(false){}return hoist_non_react_statics_cjs_default()(C,Component)}var useContext=external_React_default.a.useContext;function useHistory(){if(false){}return useContext(historyContext)}function useLocation(){if(false){}return useContext(react_router_context).location}function useParams(){if(false){}var match=useContext(react_router_context).match;return match?match.params:{}}function useRouteMatch(path){if(false){}var location=useLocation();var match=useContext(react_router_context).match;return path?matchPath(location.pathname,path):match}if(false){var secondaryBuildName,initialBuildName,buildNames,react_router_key,global}var react_router_dom_BrowserRouter=function(_React$Component){Object(inheritsLoose["a"])(BrowserRouter,_React$Component);function BrowserRouter(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this;_this.history=createBrowserHistory(_this.props);return _this}var _proto=BrowserRouter.prototype;_proto.render=function render(){return external_React_default.a.createElement(react_router_Router,{history:this.history,children:this.props.children})};return BrowserRouter}(external_React_default.a.Component);if(false){}var react_router_dom_HashRouter=function(_React$Component){Object(inheritsLoose["a"])(HashRouter,_React$Component);function HashRouter(){var _this;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this;_this.history=createHashHistory(_this.props);return _this}var _proto=HashRouter.prototype;_proto.render=function render(){return external_React_default.a.createElement(react_router_Router,{history:this.history,children:this.props.children})};return HashRouter}(external_React_default.a.Component);if(false){}var resolveToLocation=function resolveToLocation(to,currentLocation){return typeof to==="function"?to(currentLocation):to};var react_router_dom_normalizeToLocation=function normalizeToLocation(to,currentLocation){return typeof to==="string"?createLocation(to,null,null,currentLocation):to};var forwardRefShim=function forwardRefShim(C){return C};var forwardRef=external_React_default.a.forwardRef;if(typeof forwardRef==="undefined"){forwardRef=forwardRefShim}function isModifiedEvent(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)}var LinkAnchor=forwardRef(function(_ref,forwardedRef){var innerRef=_ref.innerRef,navigate=_ref.navigate,_onClick=_ref.onClick,rest=_objectWithoutPropertiesLoose(_ref,["innerRef","navigate","onClick"]);var target=rest.target;var props=_extends({},rest,{onClick:function onClick(event){try{if(_onClick)_onClick(event)}catch(ex){event.preventDefault();throw ex}if(!event.defaultPrevented&&event.button===0&&(!target||target==="_self")&&!isModifiedEvent(event)){event.preventDefault();navigate()}}});if(forwardRefShim!==forwardRef){props.ref=forwardedRef||innerRef}else{props.ref=innerRef}return external_React_default.a.createElement("a",props)});if(false){}var Link=forwardRef(function(_ref2,forwardedRef){var _ref2$component=_ref2.component,component=_ref2$component===void 0?LinkAnchor:_ref2$component,replace=_ref2.replace,to=_ref2.to,innerRef=_ref2.innerRef,rest=_objectWithoutPropertiesLoose(_ref2,["component","replace","to","innerRef"]);return external_React_default.a.createElement(react_router_context.Consumer,null,function(context){!context?false?undefined:tiny_invariant_esm(false):void 0;var history=context.history;var location=react_router_dom_normalizeToLocation(resolveToLocation(to,context.location),context.location);var href=location?history.createHref(location):"";var props=_extends({},rest,{href,navigate:function navigate(){var location=resolveToLocation(to,context.location);var method=replace?history.replace:history.push;method(location)}});if(forwardRefShim!==forwardRef){props.ref=forwardedRef||innerRef}else{props.innerRef=innerRef}return external_React_default.a.createElement(component,props)})});if(false){var refType,toType}var forwardRefShim$1=function forwardRefShim(C){return C};var forwardRef$1=external_React_default.a.forwardRef;if(typeof forwardRef$1==="undefined"){forwardRef$1=forwardRefShim$1}function joinClassnames(){for(var _len=arguments.length,classnames=new Array(_len),_key=0;_key<_len;_key++){classnames[_key]=arguments[_key]}return classnames.filter(function(i){return i}).join(" ")}var NavLink=forwardRef$1(function(_ref,forwardedRef){var _ref$ariaCurrent=_ref["aria-current"],ariaCurrent=_ref$ariaCurrent===void 0?"page":_ref$ariaCurrent,_ref$activeClassName=_ref.activeClassName,activeClassName=_ref$activeClassName===void 0?"active":_ref$activeClassName,activeStyle=_ref.activeStyle,classNameProp=_ref.className,exact=_ref.exact,isActiveProp=_ref.isActive,locationProp=_ref.location,sensitive=_ref.sensitive,strict=_ref.strict,styleProp=_ref.style,to=_ref.to,innerRef=_ref.innerRef,rest=_objectWithoutPropertiesLoose(_ref,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return external_React_default.a.createElement(react_router_context.Consumer,null,function(context){!context?false?undefined:tiny_invariant_esm(false):void 0;var currentLocation=locationProp||context.location;var toLocation=react_router_dom_normalizeToLocation(resolveToLocation(to,currentLocation),currentLocation);var path=toLocation.pathname;var escapedPath=path&&path.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");var match=escapedPath?matchPath(currentLocation.pathname,{path:escapedPath,exact,sensitive,strict}):null;var isActive=!!(isActiveProp?isActiveProp(match,currentLocation):match);var className=isActive?joinClassnames(classNameProp,activeClassName):classNameProp;var style=isActive?_extends({},styleProp,{},activeStyle):styleProp;var props=_extends({"aria-current":isActive&&ariaCurrent||null,className,style,to:toLocation},rest);if(forwardRefShim$1!==forwardRef$1){props.ref=forwardedRef||innerRef}else{props.innerRef=innerRef}return external_React_default.a.createElement(Link,props)})});if(false){var ariaCurrentType}var sweetalert2_all=__webpack_require__(17);var sweetalert2_all_default=__webpack_require__.n(sweetalert2_all);var Tabs=__webpack_require__(9);function clone(object){return JSON.parse(JSON.stringify(object))}function mapFormOptions(object,attribute){return Object.keys(object).reduce(function(result,id){result[id]=object[id][attribute];return result},{})}function isEmpty(object){if(object==null){return true}for(var prop in object){if(object.hasOwnProperty(prop)){return false}}return JSON.stringify(object)===JSON.stringify({})}function padBarcode(pscid,increment){return pscid+padLeft(increment,3)}function padLeft(nr,n,str){return Array(n-String(nr).length+1).join(str||"0")+nr}function getStream(_x,_x2){return _getStream.apply(this,arguments)}function _getStream(){_getStream=asyncToGenerator_default()(regenerator_default.a.mark(function _callee(url,setProgress){var response,reader,contentLength,receivedLength,chunks,count,_yield$reader$read,done,value,result;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url,{credentials:"same-origin",method:"GET"})["catch"](function(error,errorCode,errorMsg){return console.error(error,errorCode,errorMsg)});case 2:response=_context.sent;reader=response.body.getReader();contentLength=response.headers.get("Content-Length");receivedLength=0;chunks="";count=0;case 8:if(false){}_context.next=11;return reader.read();case 11:_yield$reader$read=_context.sent;done=_yield$reader$read.done;value=_yield$reader$read.value;if(!done){_context.next=16;break}return _context.abrupt("break",23);case 16:result=new TextDecoder("utf-8").decode(value);chunks+=result;receivedLength+=value.length;count++;if(setProgress instanceof Function&&(count%25==0||receivedLength==contentLength)){setProgress(Math.round(receivedLength/contentLength*100))}_context.next=8;break;case 23:return _context.abrupt("return",JSON.parse(chunks));case 24:case"end":return _context.stop()}}},_callee)}));return _getStream.apply(this,arguments)}function get(_x3){return _get.apply(this,arguments)}function _get(){_get=asyncToGenerator_default()(regenerator_default.a.mark(function _callee2(url){var response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(url,{credientials:"same-origin",method:"GET"})["catch"](function(error,errorCode,errorMsg){return console.error(error,errorCode,errorMsg)});case 2:response=_context2.sent;return _context2.abrupt("return",response.json());case 4:case"end":return _context2.stop()}}},_callee2)}));return _get.apply(this,arguments)}function post(data,url,method,onSuccess){return new Promise(function(resolve,reject){return fetch(url,{credentials:"same-origin",method,body:JSON.stringify(clone(data))}).then(function(response){if(response.ok){onSuccess instanceof Function&&onSuccess();response.json().then(function(data){return resolve(data)})["catch"](function(data){return resolve(data)})}else{if(response.status==403){sweetalert2_all_default()("Action is forbidden or session has timed out.","","error")}response.json().then(function(data){return sweetalert2_all_default()(data.error,"","error")}).then(function(){return reject()})}})["catch"](function(error){return console.error(error)})})}var FilterableDataTable=__webpack_require__(18);function CustomFields(props){var options=props.options,errors=props.errors,fields=props.fields,object=props.object;return Object.keys(fields).map(function(attribute,key){var datatype=options.specimen.attributeDatatypes[fields[attribute]["datatypeId"]].datatype;if(datatype==="text"||datatype==="number"){return external_React_default.a.createElement(TextboxElement,{key,name:attribute,label:fields[attribute].label,onUserInput:props.setData,required:fields[attribute].required,value:object[attribute],errorMessage:errors[attribute]})}if(datatype==="date"){return external_React_default.a.createElement(DateElement,{key,name:attribute,label:fields[attribute].label,onUserInput:props.setData,required:fields[attribute].required,value:object[attribute],errorMessage:errors[attribute]})}if(datatype==="time"){return external_React_default.a.createElement(TimeElement,{key,name:attribute,label:fields[attribute].label,onUserInput:props.setData,required:fields[attribute].required,value:object[attribute],errorMessage:errors[attribute]})}if(datatype==="boolean"){return external_React_default.a.createElement(CheckboxElement,{key,name:attribute,label:fields[attribute].label,onUserInput:props.setData,required:fields[attribute].required,value:object[attribute],errorMessage:errors[attribute]})}if(datatype==="file"&&!(props.data||{})[attribute]){return external_React_default.a.createElement(FileElement,{key,name:attribute,label:fields[attribute].label,onUserInput:props.setData,required:fields[attribute].required,value:props.current.files[object[attribute]],errorMessage:errors[attribute]})}})}CustomFields.propTypes={fields:prop_types_default.a.object.isRequired,options:prop_types_default.a.object.isRequired,object:prop_types_default.a.object.isRequired,setData:prop_types_default.a.func.isRequired,errors:prop_types_default.a.object};CustomFields.defaultProps={errors:{}};var customFields=CustomFields;var processForm_SpecimenProcessForm=function SpecimenProcessForm(props){var setProcess=function setProcess(name,value){var process=clone(props.process);process[name]=value;props.setParent(props.processStage,process)};var setProtocol=function setProtocol(name,value){var process=clone(props.process);process[name]=value;process.data={};props.setParent(props.processStage,process)};var setData=function setData(name,value){var data=clone(props.process.data);if(value instanceof File){data[name]=value.name;var files=clone(props.current.files);files[value.name]=value;props.setCurrent("files",files)}else{data[name]=value}setProcess("data",data)};var specimen=props.specimen,process=props.process,processStage=props.processStage,typeId=props.typeId,options=props.options,errors=props.errors,edit=props.edit;var updateButton=specimen&&external_React_default.a.createElement(ButtonElement,{label:"Update",onUserInput:function onUserInput(){return props.updateSpecimen(specimen)}});var specimenProtocols={};var specimenProtocolAttributes={};Object.entries(options.specimen.protocols).forEach(function(_ref){var _ref2=slicedToArray_default()(_ref,2),id=_ref2[0],protocol=_ref2[1];if(typeId==protocol.typeId&&options.specimen.processes[protocol.processId].label.toLowerCase()==processStage){specimenProtocols[id]=protocol.label;specimenProtocolAttributes[id]=options.specimen.protocolAttributes[id]}});var renderProtocolFields=function renderProtocolFields(){if(specimenProtocolAttributes[process.protocolId]){if(process.data){return customFields({options,errors:errors.data||{},fields:specimenProtocolAttributes[process.protocolId],object:process.data,setData})}else{setProcess("data",{})}}};var specimenTypeUnits=Object.keys(options.specimen.typeUnits[typeId]||{}).reduce(function(result,id){result[id]=options.specimen.typeUnits[typeId][id].label;return result},{});var collectionFields=processStage==="collection"&&[external_React_default.a.createElement(TextboxElement,{name:"quantity",label:"Quantity",onUserInput:setProcess,required:true,value:process.quantity,errorMessage:errors.quantity}),external_React_default.a.createElement(SelectElement,{name:"unitId",label:"Unit",options:specimenTypeUnits,onUserInput:setProcess,required:true,value:process.unitId,errorMessage:errors.unitId,autoSelect:true})];var protocolField=!props.hideProtocol&&external_React_default.a.createElement(SelectElement,{name:"protocolId",label:"Protocol",options:specimenProtocols,onUserInput:setProtocol,required:true,value:process.protocolId,errorMessage:errors.protocolId,autoSelect:true});var examiners=mapFormOptions(options.examiners,"label");if(typeId&&edit===true){return[protocolField,external_React_default.a.createElement(SelectElement,{name:"examinerId",label:"Done By",options:examiners,onUserInput:setProcess,required:true,value:process.examinerId,errorMessage:errors.examinerId,autoSelect:true}),external_React_default.a.createElement(DateElement,{name:"date",label:"Date",onUserInput:setProcess,required:true,value:process.date,errorMessage:errors.date}),external_React_default.a.createElement(TimeElement,{name:"time",label:"Time",onUserInput:setProcess,required:true,value:process.time,errorMessage:errors.time}),collectionFields,external_React_default.a.createElement("div",{className:"form-top"}),renderProtocolFields(),external_React_default.a.createElement(TextareaElement,{name:"comments",label:"Comments",onUserInput:setProcess,value:process.comments,errorMessage:errors.comments}),updateButton]}else if(edit===false){var protocolStaticFields=process.data&&Object.keys(process.data).map(function(key){var value=process.data[key];if(process.data[key]===true){value="Yes"}else if(process.data[key]===false){value="No"}return external_React_default.a.createElement(StaticElement,{key,label:options.specimen.attributes[key].label,text:value})});var collectionStaticFields=processStage==="collection"&&external_React_default.a.createElement(StaticElement,{label:"Quantity",text:process.quantity+" "+options.specimen.units[process.unitId].label});return[external_React_default.a.createElement(StaticElement,{label:"Protocol",text:options.specimen.protocols[process.protocolId].label}),external_React_default.a.createElement(StaticElement,{label:"Site",text:options.centers[process.centerId]}),external_React_default.a.createElement(StaticElement,{label:"Done By",text:options.examiners[process.examinerId].label}),external_React_default.a.createElement(StaticElement,{label:"Date",text:process.date}),external_React_default.a.createElement(StaticElement,{label:"Time",text:process.time}),collectionStaticFields,protocolStaticFields,external_React_default.a.createElement(StaticElement,{label:"Comments",text:process.comments})]}return null};processForm_SpecimenProcessForm.propTypes={setParent:prop_types_default.a.func.isRequired,updateSpecimen:prop_types_default.a.func,specimen:prop_types_default.a.object.isRequired,attributeDatatypes:prop_types_default.a.object.isRequired,attributeOptions:prop_types_default.a.object.isRequired,specimenTypeUnits:prop_types_default.a.object.isRequired,specimenTypeAttributes:prop_types_default.a.object.isRequired};processForm_SpecimenProcessForm.defaultProps={errors:{}};var processForm=processForm_SpecimenProcessForm;function ContainerDisplay(props){var barcodes=props.barcodes,coordinates=props.coordinates,current=props.current,data=props.data,dimensions=props.dimensions,editable=props.editable,options=props.options;var history=props.history,select=props.select,container=props.container,selectedCoordinate=props.selectedCoordinate;var clearAll=props.clearAll,editContainer=props.editContainer,setContainer=props.setContainer,updateContainer=props.updateContainer,setCurrent=props.setCurrent,setCheckoutList=props.setCheckoutList,edit=props.edit;Object(external_React_["useEffect"])(function(){$('[data-toggle="tooltip"]').tooltip()});var redirectURL=function redirectURL(e){var coordinate=e.target.id;if(coordinates[coordinate]){var barcode=data.containers[coordinates[coordinate]].barcode;history.push("/barcode=".concat(barcode))}};var allowDrop=function allowDrop(e){return e.preventDefault()};var drag=function drag(e){$('[data-toggle="tooltip"]').tooltip("hide");var container=JSON.stringify(data.containers[coordinates[e.target.id]]);e.dataTransfer.setData("text/plain",container)};var drop=function drop(e){e.preventDefault();var container=JSON.parse(e.dataTransfer.getData("text/plain"));var newCoordinate=parseInt(e.target.id);container.coordinate=newCoordinate;updateContainer(container,false)};var increaseCoordinate=function increaseCoordinate(coordinate){var capacity=dimensions.x*dimensions.y*dimensions.z;coordinate++;Object.keys(coordinates).forEach(function(c){if(coordinate>capacity){clearAll()}else if(c==coordinate){coordinate++}});setCurrent("coordinate",coordinate)};var setBarcode=function setBarcode(name,barcode){return setCurrent("barcode",barcode)};var loadContainer=function loadContainer(){var barcode=current.barcode;var containerId=Object.keys(barcodes).find(function(id){return barcodes[id]===barcode});if(!containerId){return}var newContainer=data.containers[containerId];newContainer.parentContainerId=container.id;newContainer.coordinate=current.coordinate;updateContainer(newContainer,false).then(function(){if(current.sequential){var _coordinate=current.coordinate;increaseCoordinate(_coordinate);setCurrent("barcode",null)}else{clearAll()}});setCurrent("prevCoordinate",newContainer.coordinate)};var checkoutContainers=function checkoutContainers(){var checkoutList=current.list;var checkoutPromises=Object.values(checkoutList).map(function(container){container.parentContainerId=null;container.coordinate=null;return updateContainer(container,false)});Promise.all(checkoutPromises).then(function(){return clearAll()}).then(function(){return sweetalert2_all_default()("Containers Successfully Checked Out!","","success")})};var barcodeField;if((editable||{}).loadContainer){barcodeField=React.createElement(TextboxElement,{name:"barcode",label:"Barcode",onUserInput:setBarcode,value:current.barcode,placeHolder:"Please Scan or Type Barcode",autoFocus:true})}var load=React.createElement("div",{className:(editable||{}).loadContainer?"open":"closed"},React.createElement(FormElement,null,React.createElement(StaticElement,{label:"Note",text:"Scan Containers to be Loaded. If Sequential is checked, the Coordinate will Auto-Increment after each Load."}),React.createElement(CheckboxElement,{name:"sequential",label:"Sequential",value:current.sequential,onUserInput:setCurrent}),barcodeField,React.createElement(ButtonElement,{label:"Load",onUserInput:loadContainer}),React.createElement(StaticElement,{text:React.createElement("a",{onClick:clearAll,style:{cursor:"pointer"}},"Cancel")})));var children={};if((container||{}).childContainerIds){Object.values(data.containers).map(function(c){container.childContainerIds.forEach(function(id){if(c.id==id){children[id]=c}})})}if((editable||{}).containerCheckout){var _barcodes=mapFormOptions(children,"barcode");barcodeField=React.createElement(SearchableDropdown,{name:"barcode",label:"Barcode",options:_barcodes,onUserInput:function onUserInput(name,value){value&&setCheckoutList(children[value])},value:current.containerId,placeHolder:"Please Scan or Select Barcode",autoFocus:true})}var checkout=React.createElement("div",{className:(editable||{}).containerCheckout?"open":"closed"},React.createElement(FormElement,null,React.createElement(StaticElement,{label:"Note",text:"Click, Select or Scan Containers to be Unloaded and Press 'Confirm'"}),barcodeField,React.createElement(ButtonElement,{label:"Confirm",type:"button",onUserInput:checkoutContainers}),React.createElement(StaticElement,{text:React.createElement("a",{onClick:clearAll,style:{cursor:"pointer"}},"Cancel")})));var display;var column=[];var row=[];var coordinate=1;if(dimensions){for(var y=1;y<=dimensions.y;y++){column=[];for(var x=1;x<=dimensions.x;x++){var nodeWidth=500/dimensions.x-500/dimensions.x*.08;var nodeStyle={width:nodeWidth};var nodeClass="node";var tooltipTitle=null;var title=null;var dataHtml="false";var dataToggle=null;var dataPlacement=null;var draggable="false";var onDragStart=null;var onDragOver=allowDrop;var onDrop=drop;var onClick=null;if(!select){if((coordinates||{})[coordinate]){if(!loris.userHasPermission("biobank_specimen_view")&&children[coordinates[coordinate]]===undefined){nodeClass="node forbidden"}else{onClick=redirectURL;if(coordinate in current.list){nodeClass="node checkout"}else if(coordinate==current.prevCoordinate){nodeClass="node new"}else{nodeClass="node occupied"}dataHtml="true";dataToggle="tooltip";dataPlacement="top";if(children[coordinates[coordinate]]){tooltipTitle="<h5>"+children[coordinates[coordinate]].barcode+"</h5>"+"<h5>"+options.container.types[children[coordinates[coordinate]].typeId].label+"</h5>"+"<h5>"+options.container.stati[children[coordinates[coordinate]].statusId].label+"</h5>"}draggable=!loris.userHasPermission("biobank_container_update")||editable.loadContainer||editable.containerCheckout?"false":"true";onDragStart=drag;if(editable.containerCheckout){onClick=function onClick(e){var container=data.containers[coordinates[e.target.id]];setCheckoutList(container)}}if(editable.loadContainer){onClick=null}}onDragOver=null;onDrop=null}else if(loris.userHasPermission("biobank_container_update")&&!editable.containerCheckout){nodeClass=coordinate==current.coordinate?"node selected":"node load";title="Load...";onClick=function onClick(e){var containerId=e.target.id;edit("loadContainer").then(function(){return editContainer(container)}).then(function(){return setCurrent("coordinate",containerId)})}}}if(select){if(coordinate==selectedCoordinate){nodeClass="node occupied"}else if(selectedCoordinate instanceof Array&&selectedCoordinate.includes(coordinate)){nodeClass="node occupied"}else if(!coordinates){nodeClass="node available";onClick=function onClick(e){return setContainer("coordinate",e.target.id)}}else if(coordinates){if(!coordinates[coordinate]){nodeClass="node available";onClick=function onClick(e){return setContainer("coordinate",e.target.id)}}else if(coordinates[coordinate]){(function(){var childContainer=data.containers[coordinates[coordinate]];var specimen=Object.values(data.specimens).find(function(specimen){return specimen.containerId==childContainer.id});var quantity="";if(specimen){quantity="<h5>".concat(specimen.quantity+" "+options.specimen.units[specimen.unitId].label,"</h5>")}dataHtml="true";dataToggle="tooltip";dataPlacement="top";tooltipTitle="<h5>".concat(childContainer.barcode,"</h5>")+"<h5>".concat(options.container.types[childContainer.typeId].label,"</h5>")+quantity+"<h5>".concat(options.container.stati[childContainer.statusId].label,"</h5>")})()}}}var coordinateDisplay=void 0;if(dimensions.xNum==1&&dimensions.yNum==1){coordinateDisplay=x+dimensions.x*(y-1)}else{var xVal=dimensions.xNum==1?x:String.fromCharCode(64+x);var yVal=dimensions.yNum==1?y:String.fromCharCode(64+y);coordinateDisplay=yVal+""+xVal}column.push(React.createElement("div",{key:x,id:coordinate,title,className:nodeClass,"data-html":dataHtml,"data-toggle":dataToggle,"data-placement":dataPlacement,"data-original-title":tooltipTitle,style:nodeStyle,onClick,draggable,onDragStart,onDragOver,onDrop},coordinateDisplay));coordinate++}var rowHeight=500/dimensions.y-500/dimensions.y*.08;var rowStyle={height:rowHeight};row.push(React.createElement("div",{key:y,className:"row",style:rowStyle},column))}display=row}return React.createElement("div",null,React.createElement("div",{style:{width:500}},checkout,load),React.createElement("div",{className:"display"},display))}ContainerDisplay.defaultProps={current:{}};var jsx_containerDisplay=ContainerDisplay;function ContainerParentForm(props){var data=props.data,current=props.current,options=props.options;var setInheritedProperties=function setInheritedProperties(name,containerId){if(!containerId){return}var parentContainer=data.containers[containerId];var container=clone(current.container);container.parentContainerId=parentContainer.id;container.coordinate=null;container.temperature=parentContainer.temperature;container.centerId=parentContainer.centerId;container.statusId=parentContainer.statusId;props.setCurrent("container",container)};var removeChildContainers=function removeChildContainers(object,id){delete object[id];for(var key in data.containers){if(id==data.containers[key].parentContainerId){object=removeChildContainers(object,key)}}return object};var containerBarcodesNonPrimary=Object.values(data.containers).reduce(function(result,container){if(options.container.types[container.typeId].primary==0){var dimensions=options.container.dimensions[data.containers[container.id].dimensionId];var capacity=dimensions.x*dimensions.y*dimensions.z;var available=capacity-container.childContainerIds.length;result[container.id]=container.barcode+" ("+available+" Available Spots)"}return result},{});if(props.container){containerBarcodesNonPrimary=removeChildContainers(containerBarcodesNonPrimary,props.container.id)}var renderContainerDisplay=function renderContainerDisplay(){if(!(current.container.parentContainerId&&props.display)){return}var coordinates=data.containers[current.container.parentContainerId].childContainerIds.reduce(function(result,id){var container=data.containers[id];if(container.coordinate){result[container.coordinate]=id}return result},{});return external_React_default.a.createElement(jsx_containerDisplay,{container:props.container,data,dimensions:options.container.dimensions[data.containers[current.container.parentContainerId].dimensionId],coordinates,parentContainerId:current.container.parentContainerId,options,select:true,selectedCoordinate:current.container.coordinate,setContainer:props.setContainer})};return external_React_default.a.createElement("div",{className:"row"},external_React_default.a.createElement("div",{className:"col-lg-11"},external_React_default.a.createElement(SearchableDropdown,{name:"parentContainerId",label:"Parent Container Barcode",options:containerBarcodesNonPrimary,onUserInput:setInheritedProperties,value:current.container.parentContainerId})),renderContainerDisplay())}ContainerParentForm.propTypes={setContainer:prop_types_default.a.func.isRequired,data:prop_types_default.a.object,container:prop_types_default.a.object.isRequired,options:prop_types_default.a.object.isRequired};var containerParentForm=ContainerParentForm;function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var listForm_ListForm=function(_React$Component){inherits_default()(ListForm,_React$Component);var _super=_createSuper(ListForm);function ListForm(){var _this;classCallCheck_default()(this,ListForm);_this=_super.call(this);_this.state={count:0,multiplier:1,collapsed:{}};_this.setListItem=_this.setListItem.bind(assertThisInitialized_default()(_this));_this.addListItem=_this.addListItem.bind(assertThisInitialized_default()(_this));_this.copyListItem=_this.copyListItem.bind(assertThisInitialized_default()(_this));_this.removeListItem=_this.removeListItem.bind(assertThisInitialized_default()(_this));_this.toggleCollapse=_this.toggleCollapse.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(ListForm,[{key:"componentDidMount",value:function componentDidMount(){this.addListItem()}},{key:"componentDidUpdate",value:function componentDidUpdate(){var _this2=this;Object.keys(this.props.list).forEach(function(key){if(!isEmpty(_this2.props.errors[key])&&_this2.state.collapsed[key]){_this2.toggleCollapse(key)}})}},{key:"setListItem",value:function setListItem(name,value,key){var list=clone(this.props.list);list[key][name]=value;this.props.setList(list)}},{key:"addListItem",value:function addListItem(){var _clone=clone(this.state),count=_clone.count,collapsed=_clone.collapsed;var list=clone(this.props.list);count++;collapsed[count]=false;list[count]=this.props.listItem;this.setState({count,collapsed});this.props.setList(list)}},{key:"copyListItem",value:function copyListItem(key){var _clone2=clone(this.state),collapsed=_clone2.collapsed,count=_clone2.count,multiplier=_clone2.multiplier;var list=clone(this.props.list);for(var i=1;i<=multiplier;i++){count++;list[count]=clone(list[key]);(list[count].container||{}).barcode&&delete list[count].container.barcode;list[count].barcode&&delete list[count].barcode;collapsed[count]=true}this.setState({collapsed,count,multiplier});this.props.setList(list)}},{key:"removeListItem",value:function removeListItem(key){var list=clone(this.props.list);delete list[key];this.props.setList(list)}},{key:"toggleCollapse",value:function toggleCollapse(key){var collapsed=clone(this.state.collapsed);collapsed[key]=!collapsed[key];this.setState({collapsed})}},{key:"render",value:function render(){var _this3=this;var _this$state=this.state,collapsed=_this$state.collapsed,multiplier=_this$state.multiplier;var _this$props=this.props,errors=_this$props.errors,list=_this$props.list;return Object.entries(list).map(function(_ref,i,list){var _ref2=slicedToArray_default()(_ref,2),key=_ref2[0],item=_ref2[1];var handleRemoveItem=list.length>1?function(){return _this3.removeListItem(key)}:null;var handleCopyItem=function handleCopyItem(){return _this3.copyListItem(key)};var handleCollapse=function handleCollapse(){return _this3.toggleCollapse(key)};return React.Children.map(_this3.props.children,function(child){var form=React.cloneElement(child,{key,itemKey:key,id:i+1,collapsed:collapsed[key],handleCollapse,item:item||{},removeItem:handleRemoveItem,setListItem:_this3.setListItem,errors:errors[key]||{}});var renderAddButtons=function renderAddButtons(){if(i+1==list.length){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-3"}),React.createElement("div",{className:"col-xs-4 action"},React.createElement("div",null,React.createElement("span",{className:"action"},React.createElement("div",{className:"action-button add",onClick:_this3.addListItem},"+")),React.createElement("span",{className:"action-title"},"New Entry"))),React.createElement("div",{className:"col-xs-5 action"},React.createElement("div",null,React.createElement("span",{className:"action"},React.createElement("div",{className:"action-button add",onClick:handleCopyItem},React.createElement("span",{className:"glyphicon glyphicon-duplicate"}))),React.createElement("span",{className:"action-title"},React.createElement("input",{className:"form-control input-sm",type:"number",min:"1",max:"50",style:{width:50,display:"inline"},onChange:function onChange(e){_this3.setState({multiplier:e.target.value})},value:multiplier}),"Copies")))))}};return React.createElement("div",null,form,renderAddButtons())})})}}]);return ListForm}(React.Component);var listForm_ListItem=function(_React$Component2){inherits_default()(ListItem,_React$Component2);var _super2=_createSuper(ListItem);function ListItem(){classCallCheck_default()(this,ListItem);return _super2.apply(this,arguments)}createClass_default()(ListItem,[{key:"render",value:function render(){var children=React.Children.toArray(this.props.children);var firstChild=React.cloneElement(children[0],{label:children[0].props.label+" "+this.props.id});var remainingChildren=children.slice(1);var glyphStyle={color:"#808080",marginLeft:10,cursor:"pointer",fontSize:15};var removeItemButton=React.createElement("span",{className:"glyphicon glyphicon-remove",onClick:this.props.removeItem,style:glyphStyle});return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-11"},firstChild),React.createElement("div",{className:"col-xs-1",style:{paddingLeft:0,marginTop:10}},React.createElement("span",{className:this.props.collapsed?"glyphicon glyphicon-chevron-down":"glyphicon glyphicon-chevron-up",style:{cursor:"pointer",fontSize:15,position:"relative",right:40},onClick:this.props.handleCollapse}),this.props.removeItem?removeItemButton:null),React.createElement("div",{className:"col-xs-9 col-xs-offset-2"},React.createElement("div",{id:"item-"+this.props.itemKey,className:this.props.collapsed?"closed":"open"},remainingChildren)))}}]);return ListItem}(React.Component);var Modal=__webpack_require__(20);function specimenForm_createSuper(Derived){var hasNativeReflectConstruct=specimenForm_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function specimenForm_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var initialState={list:{},current:{container:{}},printBarcodes:false,errors:{specimen:{},container:{},list:{}}};var specimenForm_SpecimenForm=function(_React$Component){inherits_default()(SpecimenForm,_React$Component);var _super=specimenForm_createSuper(SpecimenForm);function SpecimenForm(){var _this;classCallCheck_default()(this,SpecimenForm);_this=_super.call(this);_this.state=initialState;_this.setList=_this.setList.bind(assertThisInitialized_default()(_this));_this.setCurrent=_this.setCurrent.bind(assertThisInitialized_default()(_this));_this.setContainer=_this.setContainer.bind(assertThisInitialized_default()(_this));_this.setProject=_this.setProject.bind(assertThisInitialized_default()(_this));_this.setSession=_this.setSession.bind(assertThisInitialized_default()(_this));_this.generateBarcodes=_this.generateBarcodes.bind(assertThisInitialized_default()(_this));_this.handleSubmit=_this.handleSubmit.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(SpecimenForm,[{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(this.props.parent!==prevProps.parent){var current=clone(this.state.current);var specimen=this.props.parent[0].specimen;var container=this.props.parent[0].container;current.parentSpecimenIds=Object.values(this.props.parent).map(function(item){return item.specimen.id});current.candidateId=specimen.candidateId;current.sessionId=specimen.sessionId;current.typeId=specimen.typeId;current.originId=container.originId;current.centerId=container.centerId;if(this.props.parent>1){current.quantity=0}this.setState({current})}}},{key:"setCurrent",value:function setCurrent(name,value){var _this2=this;var _clone=clone(this.state),current=_clone.current;current[name]=value;return new Promise(function(res){return _this2.setState({current},res())})}},{key:"setContainer",value:function setContainer(name,value){var _this3=this;var _clone2=clone(this.state),current=_clone2.current;current.container[name]=value;return new Promise(function(res){return _this3.setState({current},res())})}},{key:"setList",value:function setList(list){this.setState({list})}},{key:"setProject",value:function setProject(name,value){var _this4=this;var _clone3=clone(this.state),current=_clone3.current;current[name]=[value];return new Promise(function(res){return _this4.setState({current},res())})}},{key:"setSession",value:function setSession(session,sessionId){var _clone4=clone(this.state),current=_clone4.current;current.centerId=this.props.options.sessionCenters[sessionId].centerId;current.originId=current.centerId;current.sessionId=sessionId;this.setState({current})}},{key:"incrementBarcode",value:function incrementBarcode(pscid){var increment=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;increment++;var barcode=padBarcode(pscid,increment);if(Object.values(this.props.data.containers).some(function(container){return container.barcode===barcode})){increment=this.incrementBarcode(pscid,increment)}if(Object.values(this.state.list).some(function(specimen){return specimen.container.barcode===barcode})){increment=this.incrementBarcode(pscid,increment)}return increment}},{key:"generateBarcodes",value:function generateBarcodes(){var _this5=this;var options=this.props.options;var _this$state=this.state,list=_this$state.list,current=_this$state.current;var pscid=options.candidates[current.candidateId].pscid;var _Object$keys$reduce=Object.keys(list).reduce(function(_ref,key,i){var _ref2=slicedToArray_default()(_ref,2),result=_ref2[0],increment=_ref2[1];var specimen=_this5.state.list[key];if(!specimen.container.barcode){var barcode=padBarcode(pscid,increment);specimen.container.barcode=barcode;increment=_this5.incrementBarcode(pscid,increment)}result[key]=specimen;return[result,increment]},[{},this.incrementBarcode(pscid)]);var _Object$keys$reduce2=slicedToArray_default()(_Object$keys$reduce,1);list=_Object$keys$reduce2[0];this.setState({list})}},{key:"handleSubmit",value:function handleSubmit(){var _this6=this;var _this$state2=this.state,list=_this$state2.list,current=_this$state2.current,printBarcodes=_this$state2.printBarcodes;return new Promise(function(resolve,reject){_this6.props.onSubmit(list,current,printBarcodes).then(function(){return resolve()},function(errors){return _this6.setState({errors},reject())})})}},{key:"render",value:function render(){var _this7=this;var _this$state3=this.state,errors=_this$state3.errors,current=_this$state3.current,list=_this$state3.list;var _this$props=this.props,options=_this$props.options,data=_this$props.data,parent=_this$props.parent;var renderNote=function renderNote(){if(parent){return React.createElement(StaticElement,{label:"Note",text:'To create new aliquots, enter a Barcode, fill out the coresponding sub-form and press Submit. Press "New Entry" button to add another barcode field, or press for the "Copy" button to duplicate the previous entry.'})}else{return React.createElement(StaticElement,{label:"Note",text:'To create new specimens, first select a PSCID and Visit Label. Then, enter a Barcode, fill out the coresponding sub-form and press submit. Press "New Entry" button to add another barcode field, or press for the "Copy" button to duplicate the previous entry.'})}};var renderGlobalFields=function renderGlobalFields(){if(parent&&current.candidateId&&current.sessionId){var parentBarcodes=Object.values(parent).map(function(item){return item.container.barcode});var parentBarcodesString=parentBarcodes.join(", ");return React.createElement("div",null,React.createElement(StaticElement,{label:"Parent Specimen(s)",text:parentBarcodesString}),React.createElement(StaticElement,{label:"PSCID",text:options.candidates[current.candidateId].pscid}),React.createElement(StaticElement,{label:"Visit Label",text:options.sessions[current.sessionId].label}))}else{var sessions=current.candidateId?mapFormOptions(options.candidateSessions[current.candidateId],"label"):{};var candidates=mapFormOptions(_this7.props.options.candidates,"pscid");return React.createElement("div",null,React.createElement(SearchableDropdown,{name:"candidateId",label:"PSCID",options:candidates,onUserInput:_this7.setCurrent,required:true,value:current.candidateId,placeHolder:"Search for a PSCID",errorMessage:errors.specimen.candidateId}),React.createElement(SelectElement,{name:"sessionId",label:"Visit Label",options:sessions,onUserInput:_this7.setSession,required:true,value:current.sessionId,disabled:current.candidateId?false:true,errorMessage:errors.specimen.sessionId,autoSelect:true}))}};var renderRemainingQuantityFields=function renderRemainingQuantityFields(){if(parent){if(loris.userHasPermission("biobank_specimen_update")&&parent.length===1){var specimenUnits=mapFormOptions(_this7.props.options.specimen.units,"label");return React.createElement("div",null,React.createElement(TextboxElement,{name:"quantity",label:"Remaining Quantity",onUserInput:_this7.props.setSpecimen,required:true,value:_this7.props.current.specimen.quantity}),React.createElement(SelectElement,{name:"unitId",label:"Unit",options:specimenUnits,onUserInput:_this7.props.setSpecimen,required:true,value:_this7.props.current.specimen.unitId,autoSelect:true}))}}};var container=clone(current.container);if(container.parentContainerId){container.coordinate=[];Object.keys(list).reduce(function(coord,key){coord=_this7.props.increaseCoordinate(coord,container.parentContainerId);var coordinates=[].concat(toConsumableArray_default()(container.coordinate),[parseInt(coord)]);container.coordinate=coordinates;return coord},0)}var placeHolder={container};var handleClose=function handleClose(){return _this7.setState(initialState,_this7.props.onClose)};return React.createElement(Modal["a"],{title:this.props.title,show:this.props.show,onClose:handleClose,onSubmit:this.handleSubmit,throwWarning:true},React.createElement(FormElement,null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-11"},renderNote(),renderGlobalFields(),React.createElement(SelectElement,{name:"projectIds",label:"Project",options:this.props.options.projects,onUserInput:this.setProject,required:true,value:current.projectIds,disabled:current.candidateId?false:true,errorMessage:errors.container.projectIds}),renderRemainingQuantityFields())),React.createElement(listForm_ListForm,{list,errors:errors.list,setList:this.setList,listItem:{container:{},collection:{}}},React.createElement(specimenForm_SpecimenBarcodeForm,{typeId:current.typeId,options})),React.createElement("br",null),React.createElement("div",{className:"form-top"}),React.createElement(containerParentForm,{display:true,data,setContainer:this.setContainer,setCurrent:this.setCurrent,current:placeHolder,options}),React.createElement("div",{className:"form-top"}),React.createElement(ButtonElement,{name:"generate",label:"Generate Barcodes",type:"button",onUserInput:this.generateBarcodes,disabled:current.candidateId?false:true}),React.createElement(CheckboxElement,{name:"printBarcodes",label:"Print Barcodes",onUserInput:function onUserInput(name,value){return _this7.setState(defineProperty_default()({},name,value))},value:this.state.printBarcodes})))}}]);return SpecimenForm}(React.Component);specimenForm_SpecimenForm.propTypes={};specimenForm_SpecimenForm.defaultProps={specimenList:{}};var specimenForm_SpecimenBarcodeForm=function(_React$Component2){inherits_default()(SpecimenBarcodeForm,_React$Component2);var _super2=specimenForm_createSuper(SpecimenBarcodeForm);function SpecimenBarcodeForm(){var _this8;classCallCheck_default()(this,SpecimenBarcodeForm);_this8=_super2.call(this);_this8.setContainer=_this8.setContainer.bind(assertThisInitialized_default()(_this8));_this8.setSpecimen=_this8.setSpecimen.bind(assertThisInitialized_default()(_this8));return _this8}createClass_default()(SpecimenBarcodeForm,[{key:"setContainer",value:function setContainer(name,value){var container=this.props.item.container;container[name]=value;this.props.setListItem("container",container,this.props.itemKey)}},{key:"setSpecimen",value:function setSpecimen(name,value){this.props.setListItem(name,value,this.props.itemKey)}},{key:"render",value:function render(){var _this9=this;var _this$props2=this.props,options=_this$props2.options,errors=_this$props2.errors,item=_this$props2.item;var renderSpecimenTypes=function renderSpecimenTypes(){var specimenTypes;if(_this9.props.typeId){specimenTypes=Object.entries(options.specimen.types).reduce(function(result,_ref3){var _ref4=slicedToArray_default()(_ref3,2),id=_ref4[0],type=_ref4[1];if(id==_this9.props.typeId){result[id]=type}if(type.parentTypeIds){type.parentTypeIds.forEach(function(i){if(i==_this9.props.typeId){result[id]=type}})}return result},{})}else{specimenTypes=options.specimen.types}return mapFormOptions(specimenTypes,"label")};var containerTypesPrimary=mapFormOptions(options.container.typesPrimary,"label");var validContainers={};if(item.typeId&&options.specimen.typeContainerTypes[item.typeId]){Object.keys(containerTypesPrimary).forEach(function(id){options.specimen.typeContainerTypes[item.typeId].forEach(function(i){if(id==i){validContainers[id]=containerTypesPrimary[id]}})})}return React.createElement(listForm_ListItem,this.props,React.createElement(TextboxElement,{name:"barcode",label:"Barcode",onUserInput:this.setContainer,required:true,value:item.container.barcode,errorMessage:(errors.container||{}).barcode}),React.createElement(SelectElement,{name:"typeId",label:"Specimen Type",options:renderSpecimenTypes(),onUserInput:this.setSpecimen,required:true,value:item.typeId,errorMessage:(errors.specimen||{}).typeId}),React.createElement(SelectElement,{name:"typeId",label:"Container Type",options:item.typeId?validContainers:containerTypesPrimary,onUserInput:this.setContainer,required:true,value:item.container.typeId,errorMessage:(errors.container||{}).typeId,autoSelect:true}),React.createElement(TextboxElement,{name:"lotNumber",label:"Lot Number",onUserInput:this.setContainer,value:item.container.lotNumber,errorMessage:(errors.container||{}).lotNumber}),React.createElement(DateElement,{name:"expirationDate",label:"Expiration Date",onUserInput:this.setContainer,value:item.container.expirationDate,errorMessage:(errors.container||{}).expirationDate}),React.createElement(processForm,{edit:true,errors:(errors.specimen||{}).collection,options,process:item.collection,processStage:"collection",setParent:this.setSpecimen,typeId:item.typeId}))}}]);return SpecimenBarcodeForm}(React.Component);specimenForm_SpecimenBarcodeForm.propTypes={};specimenForm_SpecimenBarcodeForm.defaultProps={specimen:{}};var specimenForm=specimenForm_SpecimenForm;function poolSpecimenForm_createSuper(Derived){var hasNativeReflectConstruct=poolSpecimenForm_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function poolSpecimenForm_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var poolSpecimenForm_initialState={pool:{},list:{},count:0,current:{},errors:{},containerId:null};var poolSpecimenForm_PoolSpecimenForm=function(_React$Component){inherits_default()(PoolSpecimenForm,_React$Component);var _super=poolSpecimenForm_createSuper(PoolSpecimenForm);function PoolSpecimenForm(){var _this;classCallCheck_default()(this,PoolSpecimenForm);_this=_super.call(this);_this.state=poolSpecimenForm_initialState;_this.setPool=_this.setPool.bind(assertThisInitialized_default()(_this));_this.validateListItem=_this.validateListItem.bind(assertThisInitialized_default()(_this));_this.setPoolList=_this.setPoolList.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(PoolSpecimenForm,[{key:"setPool",value:function setPool(name,value){var pool=clone(this.state.pool);pool[name]=value;this.setState({pool})}},{key:"setPoolList",value:function setPoolList(containerId){var _clone=clone(this.state),current=_clone.current,list=_clone.list,pool=_clone.pool,count=_clone.count;count++;var container=this.props.data.containers[containerId];var specimen=this.props.data.specimens[container.specimenId];if(isEmpty(list)){current.candidateId=specimen.candidateId;current.sessionId=specimen.sessionId;current.typeId=specimen.typeId;current.centerId=container.centerId}list[count]={container,specimen};var specimenIds=pool.specimenIds||[];specimenIds.push(specimen.id);pool.centerId=container.centerId;pool.specimenIds=specimenIds;this.setState({pool,list,count,current,containerId},this.setState({containerId:null}))}},{key:"removeListItem",value:function removeListItem(key){var _this2=this;var _clone2=clone(this.state),pool=_clone2.pool,list=_clone2.list,current=_clone2.current;pool.specimenIds=pool.specimenIds.filter(function(id){return id!=_this2.state.list[key].specimen.id});delete list[key];current=isEmpty(list)?{}:current;var containerId=null;this.setState({pool,list,current,containerId})}},{key:"validateListItem",value:function validateListItem(containerId){var _clone3=clone(this.state),current=_clone3.current,list=_clone3.list;var container=this.props.data.containers[containerId];var specimen=this.props.data.specimens[container.specimenId];if(!isEmpty(list)&&(specimen.candidateId!==current.candidateId||specimen.sessionId!==current.sessionId||specimen.typeId!==current.typeId||container.centerId!==current.centerId)){sweetalert2_all_default.a.fire({title:"Oops!",text:"Specimens must be of the same PSCID, Visit Label, Type and Center",type:"warning"});return Promise.reject()}return Promise.resolve()}},{key:"render",value:function render(){var _this3=this;var _this$props=this.props,data=_this$props.data,options=_this$props.options;var _this$state=this.state,current=_this$state.current,pool=_this$state.pool,list=_this$state.list,containerId=_this$state.containerId,errors=_this$state.errors;var barcodeList=Object.entries(list).map(function(_ref){var _ref2=slicedToArray_default()(_ref,2),key=_ref2[0],item=_ref2[1];var removeItem=function removeItem(){return _this3.removeListItem(key)};var style={color:"#DDDDDD",marginLeft:10,cursor:"pointer"};return external_React_default.a.createElement("div",{key,className:"preparation-item"},external_React_default.a.createElement("div",null,item.container.barcode),external_React_default.a.createElement("div",{className:"glyphicon glyphicon-remove",onClick:removeItem,style}))});var specimenUnits=mapFormOptions(options.specimen.units,"label");var form=external_React_default.a.createElement(FormElement,{name:"poolSpecimenForm"},external_React_default.a.createElement("div",{className:"row"},external_React_default.a.createElement("div",{className:"col-sm-10 col-sm-offset-1"},external_React_default.a.createElement(StaticElement,{label:"Pooling Note",text:"Select or Scan the specimens to be pooled. Specimens must have a Status of 'Available', have a Quantity of greater than 0, and share the same Type, PSCID, Visit Label and Current Site. Pooled specimens cannot already belong to a pool. Once pooled, the Status of specimen will be changed to 'Dispensed' and there Quantity set to '0'"}),external_React_default.a.createElement(StaticElement,{label:"Specimen Type",text:(options.specimen.types[current.typeId]||{}).label||"—"}),external_React_default.a.createElement(StaticElement,{label:"PSCID",text:(options.candidates[current.candidateId]||{}).pscid||"—"}),external_React_default.a.createElement(StaticElement,{label:"Visit Label",text:(options.sessions[current.sessionId]||{}).label||"—"}),external_React_default.a.createElement("div",{className:"row"},external_React_default.a.createElement("div",{className:"col-xs-6"},external_React_default.a.createElement("h4",null,"Barcode Input"),external_React_default.a.createElement("div",{className:"form-top"}),external_React_default.a.createElement(poolSpecimenForm_BarcodeInput,{list,data,options,errors,containerId,validateListItem:this.validateListItem,setPoolList:this.setPoolList})),external_React_default.a.createElement("div",{className:"col-xs-6"},external_React_default.a.createElement("h4",null,"Barcode List"),external_React_default.a.createElement("div",{className:"form-top"}),external_React_default.a.createElement("div",{className:"preparation-list"},barcodeList))),external_React_default.a.createElement("div",{className:"form-top"}),external_React_default.a.createElement(TextboxElement,{name:"label",label:"Label",onUserInput:this.setPool,required:true,value:pool.label,errorMessage:errors.label}),external_React_default.a.createElement(TextboxElement,{name:"quantity",label:"Quantity",onUserInput:this.setPool,required:true,value:pool.quantity,errorMessage:errors.quantity}),external_React_default.a.createElement(SelectElement,{name:"unitId",label:"Unit",options:specimenUnits,onUserInput:this.setPool,required:true,value:pool.unitId,errorMessage:errors.unitId}),external_React_default.a.createElement(DateElement,{name:"date",label:"Date",onUserInput:this.setPool,required:true,value:pool.date,errorMessage:errors.date}),external_React_default.a.createElement(TimeElement,{name:"time",label:"Time",onUserInput:this.setPool,required:true,value:pool.time,errorMessage:errors.time}))));var handleClose=function handleClose(){return _this3.setState(poolSpecimenForm_initialState,_this3.props.onClose)};var handleSubmit=function handleSubmit(){return new Promise(function(resolve,reject){_this3.props.onSubmit(pool,list).then(function(){return resolve()},function(errors){return _this3.setState({errors},reject())})})};return external_React_default.a.createElement(Modal["a"],{title:"Pool Specimens",show:this.props.show,onClose:handleClose,onSubmit:handleSubmit,throwWarning:true},form)}}]);return PoolSpecimenForm}(external_React_default.a.Component);poolSpecimenForm_PoolSpecimenForm.propTypes={};var poolSpecimenForm_BarcodeInput=function(_PureComponent){inherits_default()(BarcodeInput,_PureComponent);var _super2=poolSpecimenForm_createSuper(BarcodeInput);function BarcodeInput(){classCallCheck_default()(this,BarcodeInput);return _super2.apply(this,arguments)}createClass_default()(BarcodeInput,[{key:"render",value:function render(){var _this4=this;var _this$props2=this.props,list=_this$props2.list,data=_this$props2.data,options=_this$props2.options,errors=_this$props2.errors,containerId=_this$props2.containerId;var barcodesPrimary=Object.values(data.containers).reduce(function(result,container){if(options.container.types[container.typeId].primary==1){var specimen=data.specimens[container.specimenId];var availableId=Object.keys(options.container.stati).find(function(key){return options.container.stati[key].label==="Available"});var inList=Object.values(list).find(function(i){return i.container.id==container.id});if(specimen.quantity>0&&container.statusId==availableId&&specimen.poolId==null&&!inList){result[container.id]=container.barcode}}return result},{});var handleInput=function handleInput(name,containerId){containerId&&_this4.props.validateListItem(containerId).then(function(){return _this4.props.setPoolList(containerId)})};return external_React_default.a.createElement(SearchableDropdown,{name:"containerId",label:"Specimen",onUserInput:handleInput,options:barcodesPrimary,value:containerId,errorMessage:errors.total})}}]);return BarcodeInput}(external_React_["PureComponent"]);var poolSpecimenForm=poolSpecimenForm_PoolSpecimenForm;var Loader=__webpack_require__(12);function batchProcessForm_createSuper(Derived){var hasNativeReflectConstruct=batchProcessForm_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function batchProcessForm_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var batchProcessForm_initialState={preparation:{},list:{},count:0,current:{},errors:{specimen:{}},loading:false,editable:{preparation:true}};var batchProcessForm_BatchProcessForm=function(_React$PureComponent){inherits_default()(BatchProcessForm,_React$PureComponent);var _super=batchProcessForm_createSuper(BatchProcessForm);function BatchProcessForm(){var _this;classCallCheck_default()(this,BatchProcessForm);_this=_super.call(this);_this.state=batchProcessForm_initialState;_this.setCurrent=_this.setCurrent.bind(assertThisInitialized_default()(_this));_this.setProcess=_this.setProcess.bind(assertThisInitialized_default()(_this));_this.validateListItem=_this.validateListItem.bind(assertThisInitialized_default()(_this));_this.addListItem=_this.addListItem.bind(assertThisInitialized_default()(_this));_this.setPool=_this.setPool.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(BatchProcessForm,[{key:"setProcess",value:function setProcess(name,value){var _this2=this;return new Promise(function(res){return _this2.setState(defineProperty_default()({},name,value),res())})}},{key:"addListItem",value:function addListItem(containerId){var _clone=clone(this.state),list=_clone.list,current=_clone.current,preparation=_clone.preparation,count=_clone.count;count++;var container=this.props.data.containers[containerId];var specimen=this.props.data.specimens[container.specimenId];current.typeId=specimen.typeId;current.centerId=container.centerId;list[count]={specimen,container};preparation.centerId=container.centerId;this.setState({preparation,list,current,count,containerId},this.setState({containerId:null}))}},{key:"setPool",value:function setPool(name,poolId){var _this3=this;var pool=clone(this.props.data.pools[poolId]);this.setState({loading:true});this.setCurrent("poolId",poolId).then(function(){return Promise.all(pool.specimenIds.map(function(specimenId){return Object.values(_this3.state.list).find(function(item){return item.specimen.id===specimenId})||_this3.addListItem(_this3.props.data.specimens[specimenId].containerId)}).map(function(p){return p instanceof Promise?p:Promise.resolve(p)}))}).then(function(){return _this3.setCurrent("poolId",null)}).then(function(){return _this3.setState({loading:false})})}},{key:"removeListItem",value:function removeListItem(key){var _clone2=clone(this.state),list=_clone2.list,current=_clone2.current;delete list[key];current=isEmpty(list)?{}:current;var containerId=null;this.setState({list,current,containerId})}},{key:"validateListItem",value:function validateListItem(containerId){var _clone3=clone(this.state),current=_clone3.current,list=_clone3.list;var container=this.props.data.containers[containerId];var specimen=this.props.data.specimens[container.specimenId];if(!isEmpty(list)&&specimen.typeId!==current.typeId){sweetalert2_all_default.a.fire("Oops!","Specimens must be of the same Type","warning");return Promise.reject()}return Promise.resolve()}},{key:"validateList",value:function validateList(list){return new Promise(function(resolve,reject){var barcodes=Object.values(list).filter(function(item){return!!item.specimen.preparation}).map(function(item){return item.container.barcode});if(barcodes.length>0){return sweetalert2_all_default()({title:"Warning!",html:"Preparation for specimen(s) <b>".concat(barcodes.join(", "),"</b> ")+"already exists. By completing this form, the previous preparation "+"will be overwritten.",type:"warning",showCancelButton:true,confirmButtonText:"Proceed"}).then(function(result){return result.value?resolve(list):reject()})}else{return resolve(list)}})}},{key:"setCurrent",value:function setCurrent(name,value){var _this4=this;var current=clone(this.state.current);current[name]=value;return new Promise(function(res){return _this4.setState({current},res())})}},{key:"render",value:function render(){var _this5=this;if(this.state.loading){return React.createElement(Loader["a"],null)}var _this$props=this.props,data=_this$props.data,options=_this$props.options;var _this$state=this.state,containerId=_this$state.containerId,poolId=_this$state.poolId,preparation=_this$state.preparation,list=_this$state.list,current=_this$state.current,errors=_this$state.errors;var preparationForm=this.state.editable.preparation?React.createElement(processForm,{edit:true,errors:errors.specimen.preparation||{},options,process:preparation,processStage:"preparation",setParent:this.setProcess,setCurrent:this.setCurrent,typeId:current.typeId}):null;var pools=mapFormOptions(data.pools,"label");var glyphStyle={color:"#DDDDDD",marginLeft:10,cursor:"pointer"};var barcodeList=Object.entries(list).map(function(_ref){var _ref2=slicedToArray_default()(_ref,2),key=_ref2[0],item=_ref2[1];var handleRemoveItem=function handleRemoveItem(){return _this5.removeListItem(key)};return React.createElement("div",{key,className:"preparation-item"},React.createElement("div",null,item.container.barcode),React.createElement("div",{className:"glyphicon glyphicon-remove",style:glyphStyle,onClick:handleRemoveItem}))});var editForms=Object.keys(list).length>1&&React.createElement("div",{className:"form-top"},React.createElement(Tabs["c"],{tabs:[{id:"preparation",label:"Preparation"}],onTabChange:function onTabChange(id){return _this5.setState({editable:defineProperty_default()({},id,true)})},updateURL:false},React.createElement(Tabs["a"],{TabId:"preparation"},preparationForm)));var handlePoolInput=function handlePoolInput(name,value){return value&&_this5.setPool(name,value)};var form=React.createElement(FormElement,null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-10 col-sm-offset-1"},React.createElement(StaticElement,{label:"Processing Note",text:"Select or Scan the specimens to be prepared. Specimens must have a Status of 'Available', and share the same Type and Site. Any previous value associated with a Specimen will be overwritten if one is added on this form."}),React.createElement(StaticElement,{label:"Specimen Type",text:(options.specimen.types[current.typeId]||{}).label||"—"}),React.createElement(StaticElement,{label:"Site",text:options.centers[current.centerId]||"—"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-6"},React.createElement("h4",null,"Barcode Input"),React.createElement("div",{className:"form-top"}),React.createElement(batchProcessForm_BarcodeInput,{data,options,list,containerId,validateListItem:this.validateListItem,addListItem:this.addListItem}),React.createElement(SearchableDropdown,{name:"poolId",label:"Pool",onUserInput:handlePoolInput,options:pools,value:poolId})),React.createElement("div",{className:"col-xs-6"},React.createElement("h4",null,"Barcode List"),React.createElement("div",{className:"form-top"}),React.createElement("div",{className:"preparation-list"},barcodeList))),editForms)));var handleClose=function handleClose(){return _this5.setState(batchProcessForm_initialState,_this5.props.onClose)};var handleSubmit=function handleSubmit(){var prepList=Object.values(list).map(function(item){var specimen=clone(item.specimen);specimen.preparation=preparation;return specimen});return new Promise(function(resolve,reject){_this5.validateList(list).then(function(){return _this5.props.onSubmit(prepList)},function(){return reject()}).then(function(){return resolve()},function(errors){return _this5.setState({errors},reject())})})};return React.createElement(Modal["a"],{title:"Process Specimens",show:this.props.show,onClose:handleClose,onSubmit:handleSubmit,throwWarning:true},form)}}]);return BatchProcessForm}(React.PureComponent);batchProcessForm_BatchProcessForm.propTypes={};var batchProcessForm_BarcodeInput=function(_PureComponent){inherits_default()(BarcodeInput,_PureComponent);var _super2=batchProcessForm_createSuper(BarcodeInput);function BarcodeInput(){classCallCheck_default()(this,BarcodeInput);return _super2.apply(this,arguments)}createClass_default()(BarcodeInput,[{key:"render",value:function render(){var _this6=this;var _this$props2=this.props,data=_this$props2.data,options=_this$props2.options,list=_this$props2.list,containerId=_this$props2.containerId,addListItem=_this$props2.addListItem;var barcodesPrimary=Object.values(data.containers).reduce(function(result,container){if(options.container.types[container.typeId].primary==1){var specimen=data.specimens[container.specimenId];var availableId=Object.keys(options.container.stati).find(function(key){return options.container.stati[key].label=="Available"});var protocolExists=Object.values(options.specimen.protocols).find(function(protocol){return protocol.typeId==specimen.typeId});var inList=Object.values(list).find(function(i){return i.container.id==container.id});if(container.statusId==availableId&&protocolExists&&!inList){result[container.id]=container.barcode}}return result},{});var handleInput=function handleInput(name,containerId){containerId&&_this6.props.validateListItem(containerId).then(function(){return addListItem(containerId)})};return React.createElement(SearchableDropdown,{name:"containerId",label:"Specimen",onUserInput:handleInput,options:barcodesPrimary,value:containerId})}}]);return BarcodeInput}(external_React_["PureComponent"]);var batchProcessForm=batchProcessForm_BatchProcessForm;var helpers_typeof=__webpack_require__(8);var typeof_default=__webpack_require__.n(helpers_typeof);function batchEditForm_createSuper(Derived){var hasNativeReflectConstruct=batchEditForm_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function batchEditForm_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var batchEditForm_initialState={specimen:{},container:{},collection:{},preparation:{},list:{},count:0,current:{},errors:{specimen:{},container:{}},loading:false,editable:{global:true},show:{collection:false,preparation:false}};var batchEditForm_BatchEditForm=function(_React$PureComponent){inherits_default()(BatchEditForm,_React$PureComponent);var _super=batchEditForm_createSuper(BatchEditForm);function BatchEditForm(){var _this;classCallCheck_default()(this,BatchEditForm);_this=_super.call(this);_this.state=batchEditForm_initialState;_this.setSpecimen=_this.setSpecimen.bind(assertThisInitialized_default()(_this));_this.setContainer=_this.setContainer.bind(assertThisInitialized_default()(_this));_this.setCurrent=_this.setCurrent.bind(assertThisInitialized_default()(_this));_this.setProcess=_this.setProcess.bind(assertThisInitialized_default()(_this));_this.validateListItem=_this.validateListItem.bind(assertThisInitialized_default()(_this));_this.addListItem=_this.addListItem.bind(assertThisInitialized_default()(_this));_this.setPool=_this.setPool.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(BatchEditForm,[{key:"addListItem",value:function addListItem(containerId){var _clone=clone(this.state),list=_clone.list,current=_clone.current,collection=_clone.collection,preparation=_clone.preparation,count=_clone.count,show=_clone.show;count++;var container=this.props.data.containers[containerId];var specimen=this.props.data.specimens[container.specimenId];current.typeId=specimen.typeId;list[count]={specimen,container};show.collection=Object.keys(list).length>1&&Object.values(list).every(function(item,i,listArray){return item.specimen.collection&&item.specimen.collection.protocolId===listArray[0].specimen.collection.protocolId});if(show.collection){collection.protocolId=list[Object.keys(list)[0]].specimen.collection.protocolId}show.preparation=Object.keys(list).length>1&&Object.values(list).every(function(item,i,listArray){return item.specimen.preparation&&item.specimen.preparation.protocolId===listArray[0].specimen.preparation.protocolId});if(show.preparation){preparation.protocolId=list[Object.keys(list)[0]].specimen.preparation.protocolId}this.setState({list,current,collection,preparation,count,show})}},{key:"removeListItem",value:function removeListItem(key){var _clone2=clone(this.state),list=_clone2.list,current=_clone2.current;delete list[key];current=isEmpty(list)?{}:current;this.setState({list,current})}},{key:"setSpecimen",value:function setSpecimen(name,value){var specimen=clone(this.state.specimen);specimen[name]=value;this.setState({specimen})}},{key:"setContainer",value:function setContainer(name,value){var container=clone(this.state.container);container[name]=value;this.setState({container})}},{key:"setCurrent",value:function setCurrent(name,value){var _this2=this;var current=clone(this.state.current);current[name]=value;return new Promise(function(res){return _this2.setState({current},res())})}},{key:"setProcess",value:function setProcess(name,value){this.setState(defineProperty_default()({},name,value))}},{key:"setPool",value:function setPool(name,poolId){var _this3=this;var pool=clone(this.props.data.pools[poolId]);this.setState({loading:true});this.setCurrent("poolId",poolId).then(function(){return Promise.all(pool.specimenIds.map(function(specimenId){return Object.values(_this3.state.list).find(function(item){return item.specimen.id===specimenId})||_this3.addListItem(_this3.props.data.specimens[specimenId].containerId)}).map(function(p){return p instanceof Promise?p:Promise.resolve(p)}))}).then(function(){return _this3.setCurrent("poolId",null)}).then(function(){return _this3.setState({loading:false})})}},{key:"validateListItem",value:function validateListItem(containerId){var _clone3=clone(this.state),current=_clone3.current,list=_clone3.list;var container=this.props.data.containers[containerId];var specimen=this.props.data.specimens[container.specimenId];if(!isEmpty(list)&&specimen.typeId!==current.typeId){sweetalert2_all_default.a.fire("Oops!","Specimens must be of the same Type and Center","warning");return Promise.reject()}return Promise.resolve()}},{key:"render",value:function render(){var _this4=this;if(this.state.loading){return React.createElement(Loader["a"],null)}var _this$props=this.props,data=_this$props.data,options=_this$props.options;var _this$state=this.state,poolId=_this$state.poolId,collection=_this$state.collection,preparation=_this$state.preparation,list=_this$state.list,current=_this$state.current,errors=_this$state.errors;var units=current.typeId?mapFormOptions(options.specimen.typeUnits[current.typeId],"label"):{};var stati=mapFormOptions(options.container.stati,"label");var containerTypesPrimary=mapFormOptions(options.container.typesPrimary,"label");var containerTypes={};if(current.typeId&&options.specimen.typeContainerTypes[current.typeId]){Object.keys(containerTypesPrimary).forEach(function(id){options.specimen.typeContainerTypes[current.typeId].forEach(function(i){if(id==i){containerTypes[id]=containerTypesPrimary[id]}})})}var globalForm=current.typeId?React.createElement(EditForm,null,React.createElement(TextboxElement,{name:"quantity",label:"Quantity",value:this.state.specimen.quantity,errorMessage:errors.specimen.quantity,onUserInput:this.setSpecimen}),React.createElement(SelectElement,{name:"unitId",label:"Unit",value:this.state.specimen.unitId,options:units,errorMessage:errors.specimen.unitId,onUserInput:this.setSpecimen}),options.specimen.types[current.typeId].freezeThaw==1?React.createElement(TextboxElement,{name:"fTCycle",label:"Freeze-Thaw Cycle",value:this.state.specimen.fTCycle,onUserInput:this.setSpecimen,errorMessage:errors.specimen.fTCycle,min:0}):null,React.createElement(SelectElement,{name:"typeId",label:"Container Type",value:this.state.container.typeId,options:containerTypes,errorMessage:errors.container.typeId,onUserInput:this.setContainer}),React.createElement(TextboxElement,{name:"lotNumber",label:"Lot Number",value:this.state.container.lotNumber,errorMessage:errors.container.lotNumber,onUserInput:this.setContainer}),React.createElement(SelectElement,{name:"statusId",label:"Status",value:this.state.container.statusId,options:stati,errorMessage:errors.container.statusId,onUserInput:this.setContainer}),React.createElement(SelectElement,{name:"projectIds",label:"Project",value:this.state.container.projectIds,options:options.projects,multiple:true,emptyOption:false,errorMessage:errors.container.projectIds,onUserInput:this.setContainer})):null;var collectionForm=this.state.editable.collection?React.createElement("div",null,React.createElement(StaticElement,{label:"Protocol",text:options.specimen.protocols[collection.protocolId].label}),React.createElement(EditForm,null,processForm({edit:true,errors:errors.specimen.collection||{},options,process:collection,processStage:"collection",setParent:this.setProcess,setCurrent:this.setCurrent,typeId:current.typeId,hideProtocol:true}))):null;var preparationForm=this.state.editable.preparation?React.createElement("div",null,React.createElement(StaticElement,{label:"Protocol",text:options.specimen.protocols[preparation.protocolId].label}),React.createElement(EditForm,null,processForm({edit:true,errors:errors.specimen.preparation||{},options,process:preparation,processStage:"preparation",setParent:this.setProcess,setCurrent:this.setCurrent,typeId:current.typeId,hideProtocol:true}))):null;var pools=mapFormOptions(data.pools,"label");var glyphStyle={color:"#DDDDDD",marginLeft:10,cursor:"pointer"};var barcodeList=Object.entries(list).map(function(_ref){var _ref2=slicedToArray_default()(_ref,2),key=_ref2[0],item=_ref2[1];var handleRemoveItem=function handleRemoveItem(){return _this4.removeListItem(key)};return React.createElement("div",{key,className:"preparation-item"},React.createElement("div",null,item.container.barcode),React.createElement("div",{className:"glyphicon glyphicon-remove",style:glyphStyle,onClick:handleRemoveItem}))});var tabList=[{id:"global",label:"Global",error:!isEmpty(errors.specimen)||!isEmpty(errors.container),content:globalForm}];if(this.state.show.collection){tabList.push({id:"collection",label:"Collection",error:!isEmpty(errors.specimen.collection),content:collectionForm})}if(this.state.show.preparation){tabList.push({id:"preparation",label:"Preparation",content:preparationForm})}var tabContent=tabList.map(function(tab,i){return React.createElement(Tabs["a"],{key:i,TabId:tab.id},tab.content)});var handlePoolInput=function handlePoolInput(name,value){return value&&_this4.setPool(name,value)};var handleClose=function handleClose(){return _this4.setState(batchEditForm_initialState,_this4.props.onClose)};var handleSubmit=function handleSubmit(){_this4.setState({errors:{container:{},specimen:{}}});var prepList=Object.values(list).map(function(item){var specimen=clone(item.specimen);var container=clone(item.container);Object.keys(_this4.state.specimen).forEach(function(name){if(_this4.state.specimen[name]!=null){specimen[name]=_this4.state.specimen[name]}});Object.keys(_this4.state.container).forEach(function(name){if(_this4.state.container[name]!=null){container[name]=_this4.state.container[name]}});Object.keys(collection).forEach(function(name){if(typeof_default()(specimen.collection[name])==="object"&&specimen.collection[name]!==null){Object.keys(collection[name]).forEach(function(index){if(collection[name][index]!=null){specimen.collection[name][index]=collection[name][index]}})}else{if(collection[name]!=null){specimen.collection[name]=collection[name]}}});Object.keys(preparation).forEach(function(name){if(typeof_default()(specimen.preparation[name])==="object"&&specimen.preparation[name]!==null){Object.keys(preparation[name]).forEach(function(index){if(preparation[name][index]!=null){specimen.preparation[name][index]=preparation[name][index]}})}else{if(preparation[name]!=null){specimen.preparation[name]=preparation[name]}}});return{specimen,container}});return new Promise(function(resolve,reject){_this4.props.onSubmit(prepList).then(function(){return resolve()},function(errors){return _this4.setState({errors},reject())})})};var editForms=Object.keys(list).length>1?React.createElement("div",{className:"form-top"},React.createElement(StaticElement,{label:"Editing Note",text:"Select a form for the list to edit the specimen values. Any previous value associated with a Specimen for a given field will be overwritten if one is added on this form."}),React.createElement(Tabs["c"],{tabs:tabList,onTabChange:function onTabChange(id){return _this4.setState({editable:defineProperty_default()({},id,true)})},updateURL:false},tabContent)):null;return React.createElement(Modal["a"],{title:"Edit Specimens",show:this.props.show,onClose:handleClose,onSubmit:Object.keys(list).length>1&&handleSubmit,throwWarning:true},React.createElement(FormElement,null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-10 col-sm-offset-1"},React.createElement(StaticElement,{label:"Editing Note",text:"Select or Scan the specimens to be edited. Specimens must share the same Type."}),React.createElement(StaticElement,{label:"Specimen Type",text:(options.specimen.types[current.typeId]||{}).label||"—"}),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-6"},React.createElement("h4",null,"Barcode Input"),React.createElement("div",{className:"form-top"}),React.createElement(batchEditForm_BarcodeInput,{data,options,list,validateListItem:this.validateListItem,addListItem:this.addListItem}),React.createElement(SearchableDropdown,{name:"poolId",label:"Pool",onUserInput:handlePoolInput,options:pools,value:poolId})),React.createElement("div",{className:"col-xs-6"},React.createElement("h4",null,"Barcode List"),React.createElement("div",{className:"form-top"}),React.createElement("div",{className:"preparation-list"},barcodeList))),editForms))))}}]);return BatchEditForm}(React.PureComponent);batchEditForm_BatchEditForm.propTypes={};var batchEditForm_BarcodeInput=function(_React$PureComponent2){inherits_default()(BarcodeInput,_React$PureComponent2);var _super2=batchEditForm_createSuper(BarcodeInput);function BarcodeInput(props){var _this5;classCallCheck_default()(this,BarcodeInput);_this5=_super2.call(this,props);var barcodesPrimary=Object.values(props.data.containers).reduce(function(result,container){if(props.options.container.types[container.typeId].primary==1){var inList=Object.values(props.list).find(function(i){return i.container.id==container.id});if(!inList){result[container.id]=container.barcode}}return result},{});_this5.state={barcodesPrimary,barcode:null};return _this5}createClass_default()(BarcodeInput,[{key:"render",value:function render(){var _this6=this;var addListItem=this.props.addListItem;var handleInput=function handleInput(name,value){_this6.setState({barcode:value});var containerId=Object.keys(_this6.state.barcodesPrimary).find(function(id){return _this6.state.barcodesPrimary[id]==value});containerId&&_this6.props.validateListItem(containerId).then(function(){return addListItem(containerId)}).then(function(){return _this6.setState({barcode:null})})};return React.createElement(TextboxElement,{name:"barcode",label:"Specimen",value:this.state.barcode,onUserInput:handleInput})}}]);return BarcodeInput}(React.PureComponent);function EditForm(props){return React.Children.map(props.children,function(child){var handleClick=function handleClick(name,value){if(!value){child.props.onUserInput(name,null)}if(value&&child.props.value==null){child.props.onUserInput(name,"")}};return React.isValidElement(child)&&typeof child.type==="function"&&React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-10"},React.cloneElement(child,{required:false})),React.createElement("div",{className:"col-xs-2"},React.createElement(CheckboxElement,{name:child.props.name,value:child.props.value!=null,onUserInput:handleClick})))))})}var batchEditForm=batchEditForm_BatchEditForm;function search_createSuper(Derived){var hasNativeReflectConstruct=search_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function search_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var search_Search=function(_PureComponent){inherits_default()(Search,_PureComponent);var _super=search_createSuper(Search);function Search(){var _this;classCallCheck_default()(this,Search);_this=_super.call(this);_this.state={barcode:null};return _this}createClass_default()(Search,[{key:"render",value:function render(){var _this2=this;var onInput=function onInput(name,value){_this2.setState({barcode:value});if(Object.values(_this2.props.barcodes).find(function(barcode){return barcode==value})){_this2.props.history.push("/barcode=".concat(value));_this2.props.onClose()}};return external_React_default.a.createElement(Modal["a"],{title:this.props.title,show:this.props.show,onClose:this.props.onClose,throwWarning:false},external_React_default.a.createElement(FormElement,null,external_React_default.a.createElement(TextboxElement,{name:"barcode",label:"Barcode",value:this.state.barcode,options:this.props.barcodes,onUserInput:onInput,placeHolder:"Please Scan or Type Barcode",autoFocus:true})))}}]);return Search}(external_React_["PureComponent"]);search_Search.propTypes={};search_Search.defaultProps={};var search=search_Search;function specimenTab_createSuper(Derived){var hasNativeReflectConstruct=specimenTab_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function specimenTab_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var specimenTab_SpecimenTab=function(_Component){inherits_default()(SpecimenTab,_Component);var _super=specimenTab_createSuper(SpecimenTab);function SpecimenTab(){var _this;classCallCheck_default()(this,SpecimenTab);_this=_super.call(this);_this.state={editable:{}};_this.edit=_this.edit.bind(assertThisInitialized_default()(_this));_this.clearEditable=_this.clearEditable.bind(assertThisInitialized_default()(_this));_this.mapSpecimenColumns=_this.mapSpecimenColumns.bind(assertThisInitialized_default()(_this));_this.formatSpecimenColumns=_this.formatSpecimenColumns.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(SpecimenTab,[{key:"edit",value:function edit(stateKey){var _this2=this;var _clone=clone(this.state),editable=_clone.editable;editable[stateKey]=true;return new Promise(function(res){return _this2.setState({editable},res())})}},{key:"clearEditable",value:function clearEditable(){this.setState({editable:{}})}},{key:"mapSpecimenColumns",value:function mapSpecimenColumns(column,value){var _this$props=this.props,options=_this$props.options,data=_this$props.data;switch(column){case"Type":return options.specimen.types[value].label;case"Container Type":return options.container.typesPrimary[value].label;case"Parent Specimen(s)":if(value instanceof Array){return value.map(function(id){return data.containers[data.specimens[id].containerId].barcode})}break;case"Diagnosis":return value.map(function(id){return options.diagnoses[id].label});case"Status":return options.container.stati[value].label;case"Current Site":return options.centers[value];case"Origin Site":return options.centers[value];case"Projects":return value.map(function(id){return options.projects[id]});default:return value}}},{key:"formatSpecimenColumns",value:function formatSpecimenColumns(column,value,row){var options=this.props.options;value=this.mapSpecimenColumns(column,value);var candId=Object.values(options.candidates).find(function(cand){return cand.pscid==row["PSCID"]}).id;switch(column){case"Barcode":return external_React_default.a.createElement("td",null,external_React_default.a.createElement(Link,{to:"/barcode=".concat(value)},value));case"Parent Specimens":var barcodes=value&&value.map(function(id,key){return external_React_default.a.createElement(Link,{key,to:"/barcode=".concat(value)},value)}).reduce(function(prev,curr){return[prev,", ",curr]});return external_React_default.a.createElement("td",null,barcodes);case"PSCID":return external_React_default.a.createElement("td",null,external_React_default.a.createElement("a",{href:loris.BaseURL+"/"+candId},value));case"Visit Label":var visitLabelURL=loris.BaseURL+"/instrument_list/?candID="+candId+"&sessionID="+Object.values(options.sessions).find(function(sess){return sess.label==value}).id;return external_React_default.a.createElement("td",null,external_React_default.a.createElement("a",{href:visitLabelURL},value));case"Status":var style={};switch(value){case"Available":style.color="green";break;case"Reserved":style.color="orange";break;case"Dispensed":style.color="red";break;case"Discarded":style.color="red";break}return external_React_default.a.createElement("td",{style},value);case"Projects":return external_React_default.a.createElement("td",null,value.join(", "));case"Container Barcode":return external_React_default.a.createElement("td",null,external_React_default.a.createElement(Link,{to:"/barcode=".concat(value)},value));default:return external_React_default.a.createElement("td",null,value)}}},{key:"render",value:function render(){var _this3=this;var editable=this.state.editable;var _this$props2=this.props,data=_this$props2.data,options=_this$props2.options;var barcodesPrimary=Object.values(data.containers).reduce(function(result,container){if(options.container.types[container.typeId].primary==1){result[container.id]=container.barcode}return result},{});var specimenTypes=mapFormOptions(options.specimen.types,"label");var containerTypesPrimary=mapFormOptions(options.container.typesPrimary,"label");var stati=mapFormOptions(options.container.stati,"label");var diagnoses=mapFormOptions(options.diagnoses,"label");var specimenData=Object.values(data.specimens).map(function(specimen){var container=data.containers[specimen.containerId];var parentContainer=data.containers[container.parentContainerId]||{};var specimenAttributeData=[];Object.keys(options.specimen.processAttributes).forEach(function(processId){Object.keys(options.specimen.processAttributes[processId]).forEach(function(attributeId){var process=options.specimen.processes[processId].label.toLowerCase();if((specimen[process]||{}).data){if(options.specimen.processAttributes[processId][attributeId].protocolIds.includes(specimen[process].protocolId.toString())){specimenAttributeData.push(specimen[process].data[attributeId])}else{specimenAttributeData.push(null)}}})});return[container.barcode,specimen.typeId,container.typeId,specimen.quantity+" "+options.specimen.units[specimen.unitId].label,specimen.fTCycle||null,specimen.parentSpecimenIds,options.candidates[specimen.candidateId].pscid,options.candidates[specimen.candidateId].sex,specimen.candidateAge,options.candidates[specimen.candidateId].diagnosisIds,options.sessions[specimen.sessionId].label,specimen.poolId?(data.pools[specimen.poolId]||{}).label:null,container.statusId,container.projectIds,container.centerId,container.originId,specimen.collection.date,specimen.collection.time,(specimen.preparation||{}).time,parentContainer.barcode,container.coordinate].concat(specimenAttributeData)});var specimenAttributeFields=[];Object.keys(options.specimen.processAttributes).forEach(function(processId){Object.keys(options.specimen.processAttributes[processId]).forEach(function(attributeId){specimenAttributeFields.push({label:options.specimen.attributes[attributeId].label,show:true})})});var fields=[{label:"Barcode",show:true,filter:{name:"barcode",type:"text"}},{label:"Type",show:true,filter:{name:"type",type:"select",options:specimenTypes}},{label:"Container Type",show:true,filter:{name:"containerType",type:"select",options:containerTypesPrimary}},{label:"Quantity",show:true},{label:"F/T Cycle",show:false,filter:{name:"fTCycle",type:"text",hide:true}},{label:"Parent Specimen(s)",show:false,filter:{name:"parentSpecimens",type:"text",hide:true}},{label:"PSCID",show:true,filter:{name:"pscid",type:"text"}},{label:"Sex",show:true,filter:{name:"sex",type:"select",options:{Male:"Male",Female:"Female"}}},{label:"Age at Collection",show:true,filter:{name:"age",type:"number"}},{label:"Diagnosis",show:true,filter:{name:"diagnosis",type:"multiselect",options:diagnoses}},{label:"Visit Label",show:true,filter:{name:"session",type:"text"}},{label:"Pool",show:false,filter:{name:"pool",type:"text",hide:true}},{label:"Status",show:true,filter:{name:"status",type:"select",options:stati}},{label:"Projects",show:true,filter:{name:"projects",type:"multiselect",options:options.projects}},{label:"Current Site",show:true,filter:{name:"currentSite",type:"select",options:options.centers}},{label:"Origin Site",show:true,filter:{name:"originSite",type:"select",options:options.centers}},{label:"Collection Date",show:true,filter:{name:"collectionDate",type:"date"}},{label:"Collection Time",show:true,filter:{name:"collectionTime",type:"text"}},{label:"Preparation Time",show:true,filter:{name:"preparationTime",type:"text"}},{label:"Container Barcode",show:true,filter:{name:"containerBarcode",type:"text"}},{label:"Coordinate",show:true}].concat(specimenAttributeFields);var openSearchSpecimen=function openSearchSpecimen(){return _this3.edit("searchSpecimen")};var openSpecimenForm=function openSpecimenForm(){return _this3.edit("specimenForm")};var openPoolForm=function openPoolForm(){return _this3.edit("poolSpecimenForm")};var openBatchProcessForm=function openBatchProcessForm(){return _this3.edit("batchProcessForm")};var openBatchEditForm=function openBatchEditForm(){return _this3.edit("batchEditForm")};var actions=[{name:"goToSpecimen",label:"Go To Specimen",action:openSearchSpecimen},{name:"addSpecimen",label:"Add Specimen",action:openSpecimenForm},{name:"poolSpecimen",label:"Pool Specimens",action:openPoolForm},{name:"batchProcess",label:"Process Specimens",action:openBatchProcessForm},{name:"batchEdit",label:"Edit Specimens",action:openBatchEditForm}];return external_React_default.a.createElement("div",null,external_React_default.a.createElement(FilterableDataTable["a"],{name:"specimen",data:specimenData,fields,actions,getFormattedCell:this.formatSpecimenColumns,getMappedCell:this.mapSpecimenColumns,loading:this.props.loading}),external_React_default.a.createElement(search,{title:"Go To Specimen",show:editable.searchSpecimen,onClose:this.clearEditable,barcodes:barcodesPrimary,history:this.props.history}),loris.userHasPermission("biobank_specimen_create")?external_React_default.a.createElement(specimenForm,{title:"Add New Specimen",options,data,increaseCoordinate:this.props.increaseCoordinate,show:editable.specimenForm,onClose:this.clearEditable,onSubmit:this.props.createSpecimens}):null,loris.userHasPermission("biobank_pool_create")?external_React_default.a.createElement(poolSpecimenForm,{options:this.props.options,data:this.props.data,show:editable.poolSpecimenForm,onClose:this.clearEditable,onSubmit:this.props.createPool}):null,loris.userHasPermission("biobank_specimen_update")?external_React_default.a.createElement(batchProcessForm,{show:editable.batchProcessForm,onClose:this.clearEditable,onSubmit:this.props.updateSpecimens,options:this.props.options,data:this.props.data}):null,loris.userHasPermission("biobank_specimen_update")?external_React_default.a.createElement(batchEditForm,{show:editable.batchEditForm,onClose:this.clearEditable,onSubmit:this.props.editSpecimens,options:this.props.options,data:this.props.data}):null)}}]);return SpecimenTab}(external_React_["Component"]);specimenTab_SpecimenTab.propTypes={};specimenTab_SpecimenTab.defaultProps={};var jsx_specimenTab=specimenTab_SpecimenTab;function containerForm_createSuper(Derived){var hasNativeReflectConstruct=containerForm_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function containerForm_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var containerForm_initialState={current:{},list:{},errors:{list:{}}};var containerForm_ContainerForm=function(_Component){inherits_default()(ContainerForm,_Component);var _super=containerForm_createSuper(ContainerForm);function ContainerForm(){var _this;classCallCheck_default()(this,ContainerForm);_this=_super.call(this);_this.state=containerForm_initialState;_this.setCurrent=_this.setCurrent.bind(assertThisInitialized_default()(_this));_this.setList=_this.setList.bind(assertThisInitialized_default()(_this));_this.handleSubmit=_this.handleSubmit.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(ContainerForm,[{key:"setCurrent",value:function setCurrent(name,value){var _clone=clone(this.state),current=_clone.current;current[name]=value;this.setState({current})}},{key:"setList",value:function setList(list){this.setState({list})}},{key:"handleSubmit",value:function handleSubmit(){var _this2=this;var _this$state=this.state,list=_this$state.list,current=_this$state.current,errors=_this$state.errors;return new Promise(function(resolve,reject){_this2.props.onSubmit(list,current,errors).then(function(){return resolve()},function(errors){return _this2.setState({errors},reject())})})}},{key:"render",value:function render(){var _this3=this;var _this$state2=this.state,current=_this$state2.current,errors=_this$state2.errors,list=_this$state2.list;var _this$props=this.props,options=_this$props.options,show=_this$props.show;var handleClose=function handleClose(){return _this3.setState(containerForm_initialState,_this3.props.onClose)};return external_React_default.a.createElement(Modal["a"],{title:"Add New Container",show,onClose:handleClose,onSubmit:this.handleSubmit,throwWarning:true},external_React_default.a.createElement(FormElement,null,external_React_default.a.createElement("div",{className:"row"},external_React_default.a.createElement("div",{className:"col-xs-11"},external_React_default.a.createElement(SelectElement,{name:"projectIds",label:"Project",options:options.projects,onUserInput:this.setCurrent,required:true,multiple:true,emptyOption:false,value:current.projectIds,errorMessage:(errors.container||{}).projectIds}),external_React_default.a.createElement(SelectElement,{name:"centerId",label:"Site",options:options.centers,onUserInput:this.setCurrent,required:true,value:current.centerId,errorMessage:(errors.container||{}).centerId}))),external_React_default.a.createElement(listForm_ListForm,{list,errors:errors.list,setList:this.setList,listItem:{}},external_React_default.a.createElement(containerForm_ContainerSubForm,{options}))))}}]);return ContainerForm}(external_React_["Component"]);containerForm_ContainerForm.propTypes={};var containerForm_ContainerSubForm=function(_Component2){inherits_default()(ContainerSubForm,_Component2);var _super2=containerForm_createSuper(ContainerSubForm);function ContainerSubForm(){var _this4;classCallCheck_default()(this,ContainerSubForm);_this4=_super2.call(this);_this4.setContainer=_this4.setContainer.bind(assertThisInitialized_default()(_this4));return _this4}createClass_default()(ContainerSubForm,[{key:"setContainer",value:function setContainer(name,value){this.props.setListItem(name,value,this.props.itemKey)}},{key:"render",value:function render(){var _this$props2=this.props,item=_this$props2.item,errors=_this$props2.errors,options=_this$props2.options;var containerTypesNonPrimary=mapFormOptions(options.container.typesNonPrimary,"label");return external_React_default.a.createElement(listForm_ListItem,this.props,external_React_default.a.createElement(TextboxElement,{name:"barcode",label:"Barcode",onUserInput:this.setContainer,required:true,value:item.barcode,errorMessage:errors.barcode}),external_React_default.a.createElement(SelectElement,{name:"typeId",label:"Container Type",options:containerTypesNonPrimary,onUserInput:this.setContainer,required:true,value:item.typeId,errorMessage:errors.typeId}),external_React_default.a.createElement(TextboxElement,{name:"lotNumber",label:"Lot Number",onUserInput:this.setContainer,value:item.lotNumber,errorMessage:errors.lotNumber}),external_React_default.a.createElement(DateElement,{name:"expirationDate",label:"Expiration Date",onUserInput:this.setContainer,value:item.expirationDate,errorMessage:errors.expirationDate}))}}]);return ContainerSubForm}(external_React_["Component"]);containerForm_ContainerSubForm.propTypes={};containerForm_ContainerSubForm.defaultProps={};var containerForm=containerForm_ContainerForm;function containerTab_createSuper(Derived){var hasNativeReflectConstruct=containerTab_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function containerTab_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var containerTab_ContainerTab=function(_Component){inherits_default()(ContainerTab,_Component);var _super=containerTab_createSuper(ContainerTab);function ContainerTab(){var _this;classCallCheck_default()(this,ContainerTab);_this=_super.call(this);_this.state={editable:{}};_this.edit=_this.edit.bind(assertThisInitialized_default()(_this));_this.clearEditable=_this.clearEditable.bind(assertThisInitialized_default()(_this));_this.mapContainerColumns=_this.mapContainerColumns.bind(assertThisInitialized_default()(_this));_this.formatContainerColumns=_this.formatContainerColumns.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(ContainerTab,[{key:"edit",value:function edit(stateKey){var _this2=this;var _clone=clone(this.state),editable=_clone.editable;editable[stateKey]=true;return new Promise(function(res){return _this2.setState({editable},res())})}},{key:"clearEditable",value:function clearEditable(){this.setState({editable:{}})}},{key:"mapContainerColumns",value:function mapContainerColumns(column,value){var _this3=this;switch(column){case"Type":return this.props.options.container.types[value].label;case"Status":return this.props.options.container.stati[value].label;case"Projects":return value.map(function(id){return _this3.props.options.projects[id]});case"Site":return this.props.options.centers[value];case"Parent Barcode":return value&&this.props.data.containers[value].barcode;default:return value}}},{key:"formatContainerColumns",value:function formatContainerColumns(column,value,row){value=this.mapContainerColumns(column,value);switch(column){case"Barcode":return external_React_default.a.createElement("td",null,external_React_default.a.createElement(Link,{to:"/barcode=".concat(value)},value));case"Status":var style={};switch(value){case"Available":style.color="green";break;case"Reserved":style.color="orange";break;case"Dispensed":style.color="red";break;case"Discarded":style.color="red";break}return external_React_default.a.createElement("td",{style},value);case"Projects":return external_React_default.a.createElement("td",null,value.join(", "));case"Parent Barcode":return external_React_default.a.createElement("td",null,external_React_default.a.createElement(Link,{to:"/barcode=".concat(value)},value));default:return external_React_default.a.createElement("td",null,value)}}},{key:"render",value:function render(){var _this4=this;var editable=this.state.editable;var stati=mapFormOptions(this.props.options.container.stati,"label");var containerTypesNonPrimary=mapFormOptions(this.props.options.container.typesNonPrimary,"label");var containersNonPrimary=Object.values(this.props.data.containers).reduce(function(result,container){if(container){if(_this4.props.options.container.types[container.typeId].primary==0){result[container.id]=container}return result}},{});var barcodesNonPrimary=mapFormOptions(containersNonPrimary,"barcode");var data=Object.values(containersNonPrimary).map(function(container){return[container.barcode,container.typeId,container.statusId,container.projectIds,container.centerId,container.parentContainerId]});var fields=[{label:"Barcode",show:true,filter:{name:"barcode",type:"text"}},{label:"Type",show:true,filter:{name:"type",type:"select",options:containerTypesNonPrimary}},{label:"Status",show:true,filter:{name:"status",type:"select",options:stati}},{label:"Projects",show:true},{label:"Site",show:true,filter:{name:"currentSite",type:"select",options:this.props.options.centers}},{label:"Parent Barcode",show:true,filter:{name:"parentBarcode",type:"text"}}];var openSearchContainer=function openSearchContainer(){return _this4.edit("searchContainer")};var openContainerForm=function openContainerForm(){return _this4.edit("containerForm")};var actions=[{name:"goToContainer",label:"Go To Container",action:openSearchContainer},{name:"addContainer",label:"Add Container",action:openContainerForm}];return external_React_default.a.createElement("div",null,external_React_default.a.createElement(FilterableDataTable["a"],{name:"container",data,fields,actions,getFormattedCell:this.formatContainerColumns,getMappedCell:this.mapContainerColumns,loading:this.props.loading}),external_React_default.a.createElement(search,{title:"Go To Container",show:editable.searchContainer,onClose:this.clearEditable,barcodes:barcodesNonPrimary,history:this.props.history}),loris.userHasPermission("biobank_container_create")?external_React_default.a.createElement(containerForm,{options:this.props.options,show:editable.containerForm,onClose:this.clearEditable,onSubmit:this.props.createContainers}):null)}}]);return ContainerTab}(external_React_["Component"]);var jsx_containerTab=containerTab_ContainerTab;function poolTab_createSuper(Derived){var hasNativeReflectConstruct=poolTab_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function poolTab_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var poolTab_PoolTab=function(_Component){inherits_default()(PoolTab,_Component);var _super=poolTab_createSuper(PoolTab);function PoolTab(){var _this;classCallCheck_default()(this,PoolTab);_this=_super.call(this);_this.state={editable:{},poolId:null};_this.edit=_this.edit.bind(assertThisInitialized_default()(_this));_this.clearEditable=_this.clearEditable.bind(assertThisInitialized_default()(_this));_this.openAliquotForm=_this.openAliquotForm.bind(assertThisInitialized_default()(_this));_this.mapPoolColumns=_this.mapPoolColumns.bind(assertThisInitialized_default()(_this));_this.formatPoolColumns=_this.formatPoolColumns.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(PoolTab,[{key:"edit",value:function edit(stateKey){var _this2=this;var _clone=clone(this.state),editable=_clone.editable;editable[stateKey]=true;return new Promise(function(res){return _this2.setState({editable},res())})}},{key:"clearEditable",value:function clearEditable(){this.setState({editable:{}})}},{key:"openAliquotForm",value:function openAliquotForm(poolId){var _this3=this;this.setState({poolId},function(){return _this3.edit("aliquotForm")})}},{key:"mapPoolColumns",value:function mapPoolColumns(column,value){var _this$props=this.props,data=_this$props.data,options=_this$props.options;switch(column){case"Pooled Specimens":return value.map(function(id){return(data.containers[data.specimens[id].containerId]||{}).barcode});case"Type":return options.specimen.types[value].label;case"Site":return options.centers[value];default:return value}}},{key:"formatPoolColumns",value:function formatPoolColumns(column,value,row){var _this4=this;var options=this.props.options;value=this.mapPoolColumns(column,value);switch(column){case"Pooled Specimens":var barcodes=value.map(function(barcode,i){if(loris.userHasPermission("biobank_specimen_view")){return external_React_default.a.createElement(Link,{key:i,to:"/barcode=".concat(barcode)},barcode)}}).reduce(function(prev,curr){return[prev,", ",curr]});return external_React_default.a.createElement("td",null,barcodes);case"PSCID":var pscidURL=loris.BaseURL+"/"+Object.values(options.candidates).find(function(cand){return cand.pscid==value}).id;return external_React_default.a.createElement("td",null,external_React_default.a.createElement("a",{href:pscidURL},value));case"Visit Label":var visitLabelURL=loris.BaseURL+"/instrument_list/?candID="+row["PSCID"]+"&sessionID="+Object.values(options.sessions).find(function(sess){return sess.label==value}).id;return external_React_default.a.createElement("td",null,external_React_default.a.createElement("a",{href:visitLabelURL},value));case"Aliquot":var onClick=function onClick(){return _this4.openAliquotForm(row["ID"])};return external_React_default.a.createElement("td",null,external_React_default.a.createElement(CTA,{label:"Aliquot",onUserInput:onClick}));default:return external_React_default.a.createElement("td",null,value)}}},{key:"renderAliquotForm",value:function renderAliquotForm(){var _this5=this;var _this$props2=this.props,data=_this$props2.data,options=_this$props2.options;if(!(loris.userHasPermission("biobank_specimen_create")&&this.state.poolId)){return}var specimens=Object.values(data.specimens).filter(function(specimen){return specimen.poolId==_this5.state.poolId});var parents=specimens.map(function(specimen){return{specimen,container:data.containers[specimen.containerId]}});return external_React_default.a.createElement(specimenForm,{title:"Aliquot Pool",parent:parents,options,data,increaseCoordinate:this.props.increaseCoordinate,show:this.state.editable.aliquotForm,onClose:this.clearEditable,onSubmit:this.props.createSpecimens})}},{key:"render",value:function render(){var _this$props3=this.props,data=_this$props3.data,options=_this$props3.options;var specimenTypes=mapFormOptions(options.specimen.types,"label");var poolData=Object.values(data.pools).map(function(pool){return[pool.id,pool.label,Math.round(pool.quantity*100)/100+" "+options.specimen.units[pool.unitId].label,pool.specimenIds,options.candidates[pool.candidateId].pscid,options.sessions[pool.sessionId].label,pool.typeId,pool.centerId,pool.date,pool.time]});var fields=[{label:"ID",show:false},{label:"Label",show:true,filter:{name:"barcode",type:"text"}},{label:"Quantity",show:true},{label:"Pooled Specimens",show:true},{label:"PSCID",show:true,filter:{name:"pscid",type:"text"}},{label:"Visit Label",show:true,filter:{name:"session",type:"text"}},{label:"Type",show:true,filter:{name:"type",type:"select",options:specimenTypes}},{label:"Site",show:true,filter:{name:"site",type:"select",options:options.centers}},{label:"Date",show:true},{label:"Time",show:true},{label:"Aliquot",show:true}];return external_React_default.a.createElement("div",null,external_React_default.a.createElement(FilterableDataTable["a"],{name:"pool",data:poolData,fields,getFormattedCell:this.formatPoolColumns,getMappedCell:this.mapPoolColumns,loading:this.props.loading}),this.renderAliquotForm())}}]);return PoolTab}(external_React_["Component"]);var jsx_poolTab=poolTab_PoolTab;function filter_createSuper(Derived){var hasNativeReflectConstruct=filter_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function filter_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var filter_BiobankFilter=function(_Component){inherits_default()(BiobankFilter,_Component);var _super=filter_createSuper(BiobankFilter);function BiobankFilter(){classCallCheck_default()(this,BiobankFilter);return _super.apply(this,arguments)}createClass_default()(BiobankFilter,[{key:"render",value:function render(){var specimenTab=external_React_default.a.createElement(jsx_specimenTab,{data:this.props.data,options:this.props.options,saveBatchEdit:this.props.saveBatchEdit,createPool:this.props.createPool,createSpecimens:this.props.createSpecimens,updateSpecimens:this.props.updateSpecimens,editSpecimens:this.props.editSpecimens,history:this.props.history,increaseCoordinate:this.props.increaseCoordinate,loading:this.props.loading});var containerTab=external_React_default.a.createElement(jsx_containerTab,{data:this.props.data,options:this.props.options,createContainers:this.props.createContainers,history:this.props.history,loading:this.props.loading});var poolTab=external_React_default.a.createElement(jsx_poolTab,{data:this.props.data,options:this.props.options,createSpecimens:this.props.createSpecimens,increaseCoordinate:this.props.increaseCoordinate,loading:this.props.loading});var tabInfo=[];var tabList=[];if(loris.userHasPermission("biobank_specimen_view")){tabInfo.push({id:"specimens",content:specimenTab});tabList.push({id:"specimens",label:"Specimens"})}if(loris.userHasPermission("biobank_container_view")){tabInfo.push({id:"containers",content:containerTab});tabList.push({id:"containers",label:"Containers"})}if(loris.userHasPermission("biobank_pool_view")){tabInfo.push({id:"pools",content:poolTab});tabList.push({id:"pools",label:"Pools"})}var tabContent=Object.keys(tabInfo).map(function(key){return external_React_default.a.createElement(Tabs["a"],{key,TabId:tabInfo[key].id},tabInfo[key].content)});return external_React_default.a.createElement("div",{id:"biobank-page"},external_React_default.a.createElement(Tabs["b"],{tabs:tabList,defaultTab:tabList[0].id,updateURL:true},tabContent))}}]);return BiobankFilter}(external_React_["Component"]);filter_BiobankFilter.propTypes={data:prop_types_default.a.object.isRequired,options:prop_types_default.a.object.isRequired};filter_BiobankFilter.defaultProps={};var jsx_filter=filter_BiobankFilter;function Globals(props){var current=props.current,data=props.data,editable=props.editable,options=props.options,specimen=props.specimen,container=props.container;var updateContainer=function updateContainer(){return props.updateContainer(current.container)};var editContainer=function editContainer(){return props.editContainer(container)};var specimenTypeField=specimen&&external_React_default.a.createElement(InlineField,{label:"Specimen Type",value:options.specimen.types[specimen.typeId].label});var edit=loris.userHasPermission("biobank_specimen_alter")&&specimen&&function(){props.edit("containerType");editContainer()};var containerTypes=mapFormOptions(options.container.typesPrimary,"label");var containerTypeField=external_React_default.a.createElement(InlineField,{loading:props.loading,label:"Container Type",updateValue:updateContainer,clearAll:props.clearAll,pencil:true,value:options.container.types[container.typeId].label,edit,editable:editable.containerType},external_React_default.a.createElement(SelectElement,{name:"typeId",onUserInput:props.setContainer,options:containerTypes,value:current.container.typeId,errorMessage:props.errors.container.typeId}));var poolField=(specimen||{}).poolId?external_React_default.a.createElement(InlineField,{label:"Pool",value:data.pools[specimen.poolId].label}):null;var units=specimen?mapFormOptions(options.specimen.typeUnits[specimen.typeId],"label"):null;var quantityField=specimen?external_React_default.a.createElement(InlineField,{loading:props.loading,label:"Quantity",clearAll:props.clearAll,updateValue:function updateValue(){return props.updateSpecimen(current.specimen)},edit:function edit(){return props.edit("quantity")},editValue:function editValue(){return props.editSpecimen(specimen)},value:Math.round(specimen.quantity*100)/100+" "+options.specimen.units[specimen.unitId].label,editable:editable.quantity},external_React_default.a.createElement(TextboxElement,{name:"quantity",onUserInput:props.setSpecimen,value:props.current.specimen.quantity,errorMessage:props.errors.specimen.quantity}),external_React_default.a.createElement(SelectElement,{name:"unitId",options:units,onUserInput:props.setSpecimen,value:props.current.specimen.unitId,errorMessage:props.errors.specimen.unitId})):null;var fTCycleField=function fTCycleField(){if(specimen&&options.specimen.types[specimen.typeId].freezeThaw==1){var editFTCycle=function editFTCycle(){return props.edit("fTCycle")};return external_React_default.a.createElement(InlineField,{loading:props.loading,label:"Freeze-Thaw Cycle",clearAll:props.clearAll,updateValue:function updateValue(){return props.updateSpecimen(props.current.specimen)},edit:editFTCycle,editValue:function editValue(){return props.editSpecimen(specimen)},value:specimen.fTCycle||0,editable:editable.fTCycle},external_React_default.a.createElement(NumericElement,{name:"fTCycle",onUserInput:props.setSpecimen,value:props.current.specimen.fTCycle,errorMessage:props.errors.specimen.fTCycle}))}};var editTemperature=function editTemperature(){return props.edit("temperature")};var temperatureField=external_React_default.a.createElement(InlineField,{loading:props.loading,label:"Temperature",clearAll:props.clearAll,updateValue:updateContainer,edit:!container.parentContainerId&&editTemperature,editValue:editContainer,value:container.temperature+"°",editable:editable.temperature},external_React_default.a.createElement(TextboxElement,{name:"temperature",onUserInput:props.setContainer,value:props.current.container.temperature,errorMessage:props.errors.container.temperature}));var stati=mapFormOptions(options.container.stati,"label");var renderCommentsField=function renderCommentsField(){if(stati[props.current.container.statusId]!=="Discarded"&&stati[props.current.container.statusId]!=="Dispensed"&&stati[props.current.container.statusId]!=="Shipped"){return[]}return external_React_default.a.createElement(TextareaElement,{name:"comments",onUserInput:props.setContainer,value:props.current.container.comments,required:true})};var statusField=external_React_default.a.createElement(InlineField,{loading:props.loading,label:"Status",clearAll:props.clearAll,updateValue:updateContainer,edit:function edit(){return props.edit("status")},editValue:editContainer,value:options.container.stati[container.statusId].label,subValue:container.comments,editable:editable.status},external_React_default.a.createElement(SelectElement,{name:"statusId",options:stati,onUserInput:props.setContainer,value:props.current.container.statusId,errorMessage:props.errors.container.statusId}),renderCommentsField());var projectField=external_React_default.a.createElement(InlineField,{loading:props.loading,label:"Projects",clearAll:props.clearAll,updateValue:updateContainer,edit:function edit(){return props.edit("project")},editValue:editContainer,value:container.projectIds.length!==0?container.projectIds.map(function(id){return options.projects[id]}).join(", "):"None",editable:editable.project},external_React_default.a.createElement(SelectElement,{name:"projectIds",options:props.options.projects,onUserInput:props.setContainer,multiple:true,emptyOption:false,value:props.current.container.projectIds,errorMessage:props.errors.container.projectIds}));var editSite=function editSite(){return props.edit("center")};var centerField=external_React_default.a.createElement(InlineField,{loading:props.loading,label:"Current Site",clearAll:props.clearAll,updateValue:updateContainer,edit:!container.parentContainerId&&editSite,editValue:editContainer,value:options.centers[container.centerId],editable:editable.center},external_React_default.a.createElement(SelectElement,{name:"centerId",options:props.options.centers,onUserInput:props.setContainer,value:props.current.container.centerId,errorMessage:props.errors.container.centerId}));var originField=external_React_default.a.createElement(InlineField,{label:"Origin Site",value:options.centers[container.originId]});var parentSpecimenField=function parentSpecimenField(){if((specimen||{}).parentSpecimenIds){var parentSpecimenBarcodes=Object.values(specimen.parentSpecimenIds).map(function(id){var barcode=data.containers[data.specimens[id].containerId].barcode;return external_React_default.a.createElement(Link,{to:"/barcode=".concat(barcode)},barcode)}).reduce(function(prev,curr){return[prev,", ",curr]});return external_React_default.a.createElement(InlineField,{label:"Parent Specimen",value:parentSpecimenBarcodes||"None"})}};var parentContainerField=function parentContainerField(){if(loris.userHasPermission("biobank_container_view")){var parentContainerBarcodeValue=function parentContainerBarcodeValue(){if(container.parentContainerId){var barcode=data.containers[container.parentContainerId].barcode;return external_React_default.a.createElement(Link,{to:"/barcode=".concat(barcode)},barcode)}};var updateParentContainer=function updateParentContainer(){if(loris.userHasPermission("biobank_container_update")){return external_React_default.a.createElement("div",null,external_React_default.a.createElement("div",{className:"action",title:"Move Container"},external_React_default.a.createElement("span",{className:"action-button update",onClick:function onClick(){props.edit("containerParentForm");editContainer()}},external_React_default.a.createElement("span",{className:"glyphicon glyphicon-chevron-right"}))),external_React_default.a.createElement("div",null,external_React_default.a.createElement(Modal["a"],{title:"Update Parent Container",onClose:props.clearAll,show:editable.containerParentForm,onSubmit:props.uC},external_React_default.a.createElement(containerParentForm,{display:true,current,container,options,data,setContainer:props.setContainer,setCurrent:props.setCurrent}))))}};var coordinate;if(container.coordinate){coordinate=props.getCoordinateLabel(container)}return external_React_default.a.createElement("div",{className:"item"},external_React_default.a.createElement("div",{className:"field"},"Parent Container",external_React_default.a.createElement("div",{className:"value"},parentContainerBarcodeValue()||"None"),parentContainerBarcodeValue&&container.coordinate?"Coordinate "+coordinate:null),updateParentContainer())}};var candidateSessionField=specimen?external_React_default.a.createElement("div",null,external_React_default.a.createElement(InlineField,{label:"PSCID",value:options.candidates[specimen.candidateId].pscid,link:loris.BaseURL+"/"+specimen.candidateId}),external_React_default.a.createElement(InlineField,{label:"Visit Label",value:options.sessions[specimen.sessionId].label,link:loris.BaseURL+"/instrument_list/?candID="+specimen.candidateId+"&sessionID="+specimen.sessionId})):null;return external_React_default.a.createElement("div",{className:"globals"},external_React_default.a.createElement("div",{className:"list"},specimenTypeField,containerTypeField,poolField,quantityField,fTCycleField(),temperatureField,statusField,projectField,centerField,originField,parentSpecimenField(),parentContainerField(),candidateSessionField))}Globals.propTypes={};function Item(props){return external_React_default.a.createElement("div",{className:"item"},props.children)}function InlineField(props){var fields=external_React_default.a.Children.map(props.children,function(child){return external_React_default.a.createElement("div",{style:{flex:"1 0 25%",minWidth:"90px"}},external_React_default.a.cloneElement(child,{inputClass:"col-lg-11"}))});var editButton=props.edit instanceof Function&&!props.editable&&external_React_default.a.createElement("div",{className:"action",title:"Update "+props.label},external_React_default.a.createElement("span",{className:props.pencil?"glyphicon glyphicon-pencil":"action-button update",onClick:function onClick(){props.edit();props.editValue()}},!props.pencil&&external_React_default.a.createElement("span",{className:"glyphicon glyphicon-chevron-right"})));var loader=props.loading&&external_React_default.a.createElement(external_React_default.a.Fragment,null,external_React_default.a.createElement("div",{style:{flex:"0 1 15%",margin:"0 1%"}},external_React_default.a.createElement(Loader["a"],{size:20})),external_React_default.a.createElement("div",{style:{flex:"0 1 15%",margin:"0 1%"}},external_React_default.a.createElement("h5",{className:"animate-flicker"},"Saving...")));var submitButton=!props.loading&&external_React_default.a.createElement(external_React_default.a.Fragment,null,external_React_default.a.createElement("div",{style:{flex:"0 1 15%",margin:"0 1%"}},external_React_default.a.createElement(ButtonElement,{label:"Update",onUserInput:props.updateValue,columnSize:"col-xs-11"})),external_React_default.a.createElement("div",{style:{flex:"0 1 15%",margin:"0 1%"}},external_React_default.a.createElement("a",{onClick:props.clearAll,style:{cursor:"pointer"}},"Cancel")));var value=props.link?external_React_default.a.createElement("a",{href:props.link},props.value):props.value;var renderField=props.editable?external_React_default.a.createElement("div",{className:"field"},props.label,external_React_default.a.createElement("div",{className:"inline-field"},fields,submitButton,loader)):external_React_default.a.createElement("div",{className:"field"},props.label,props.pencil&&editButton,external_React_default.a.createElement("div",{className:"value"},value),props.subValue);return external_React_default.a.createElement(Item,null,renderField,!props.pencil&&editButton)}InlineField.propTypes={clearAll:prop_types_default.a.func,specimen:prop_types_default.a.object,updateValue:prop_types_default.a.func,subValue:prop_types_default.a.string,className:prop_types_default.a.string};var globals=Globals;function lifeCycle_createSuper(Derived){var hasNativeReflectConstruct=lifeCycle_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function lifeCycle_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var lifeCycle_LifeCycle=function(_React$Component){inherits_default()(LifeCycle,_React$Component);var _super=lifeCycle_createSuper(LifeCycle);function LifeCycle(){classCallCheck_default()(this,LifeCycle);return _super.apply(this,arguments)}createClass_default()(LifeCycle,[{key:"mouseOver",value:function mouseOver(e){$(".collection").css({border:"2px solid #093782","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"})}},{key:"mouseLeave",value:function mouseLeave(e){$(".collection").css({border:"2px solid #A6D3F5","box-shadow":"none"})}},{key:"mouseOverPreparation",value:function mouseOverPreparation(e){$(".preparation").css({border:"2px solid #093782","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"})}},{key:"mouseLeavePreparation",value:function mouseLeavePreparation(e){$(".preparation").css({border:"2px solid #A6D3F5","box-shadow":"none"})}},{key:"render",value:function render(){var _this=this;var collectionNode;if((this.props.specimen||{}).collection||this.props.container){collectionNode=React.createElement("div",{onMouseEnter:function onMouseEnter(e){return _this.mouseOver(e)},onMouseLeave:function onMouseLeave(e){return _this.mouseLeave(e)},className:"lifecycle-node collection"},React.createElement("div",{className:"letter"},"C"))}var preparationNode;if((this.props.specimen||{}).preparation){preparationNode=React.createElement("div",{onMouseEnter:this.mouseOverPreparation,onMouseLeave:this.mouseLeavePreparation,className:"lifecycle-node preparation"},React.createElement("div",{className:"letter"},"P"))}var analysisNode;if((this.props.specimen||{}).analysis){analysisNode=React.createElement("div",{className:"lifecycle-node-container"},React.createElement("div",{className:"lifecycle-node"},React.createElement("div",{className:"letter"},"A")))}var line;var nodes=0;for(var i in this.props.specimen){if(i==="collection"||i==="preparation"||i==="analysis"){nodes++}}var lineWidth=nodes>1?60/(nodes-1):0;var lineStyle={width:lineWidth+"%"};line=React.createElement("div",{className:"lifecycle-line",style:lineStyle});return React.createElement("div",{className:"lifecycle"},React.createElement("div",{className:"lifecycle-graphic"},collectionNode,preparationNode?line:null,preparationNode,analysisNode?line:null,analysisNode))}}]);return LifeCycle}(React.Component);lifeCycle_LifeCycle.propTypes={};var lifeCycle=lifeCycle_LifeCycle;function header_createSuper(Derived){var hasNativeReflectConstruct=header_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function header_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var header_Header=function(_Component){inherits_default()(Header,_Component);var _super=header_createSuper(Header);function Header(){classCallCheck_default()(this,Header);return _super.apply(this,arguments)}createClass_default()(Header,[{key:"render",value:function render(){var _this=this;var _this$props=this.props,options=_this$props.options,container=_this$props.container,specimen=_this$props.specimen,editable=_this$props.editable,current=_this$props.current;var updateContainer=function updateContainer(){return Promise.resolve(_this.props.updateContainer(current.container))};var status=options.container.stati[container.statusId].label;var renderActionButton=function renderActionButton(){if(status=="Available"&&specimen.quantity>0&&!specimen.poolId){var openAliquotForm=function openAliquotForm(){return _this.props.edit("aliquotForm")};return external_React_default.a.createElement("div",{className:"action-button add",onClick:openAliquotForm},"+")}else{return external_React_default.a.createElement("div",{className:"action-button disabled"},"+")}};var addAliquotForm=function addAliquotForm(){if(specimen&&loris.userHasPermission("biobank_specimen_create")){return external_React_default.a.createElement("div",null,external_React_default.a.createElement("div",{className:"action",title:"Make Aliquots"},renderActionButton()),external_React_default.a.createElement(specimenForm,{title:"Add Aliquots",parent:[{specimen,container}],options:_this.props.options,data:_this.props.data,current:_this.props.current,increaseCoordinate:_this.props.increaseCoordinate,show:editable.aliquotForm,onClose:_this.props.clearAll,setSpecimen:_this.props.setSpecimen,onSubmit:_this.props.createSpecimens}))}};var alterLotNumber=function alterLotNumber(){if(loris.userHasPermission("biobank_specimen_alter")){return external_React_default.a.createElement("div",{className:"action",title:"Alter Lot Number"},external_React_default.a.createElement("span",{style:{color:"grey"},className:"glyphicon glyphicon-pencil",onClick:function onClick(){_this.props.edit("lotForm");_this.props.editContainer(_this.props.container)}}))}};var alterExpirationDate=function alterExpirationDate(){if(loris.userHasPermission("biobank_specimen_alter")){return external_React_default.a.createElement("div",{className:"action",title:"Alter Expiration Date"},external_React_default.a.createElement("span",{style:{color:"grey"},className:"glyphicon glyphicon-pencil",onClick:function onClick(){_this.props.edit("expirationForm");_this.props.editContainer(_this.props.container)}}))}};var lotForm=external_React_default.a.createElement(Modal["a"],{title:"Edit Lot Number",onClose:this.props.clearAll,show:editable.lotForm,onSubmit:updateContainer},external_React_default.a.createElement(FormElement,null,external_React_default.a.createElement(TextboxElement,{name:"lotNumber",label:"Lot Number",onUserInput:this.props.setContainer,value:current.container.lotNumber})));var expirationForm=external_React_default.a.createElement(Modal["a"],{title:"Edit Expiration Date",onClose:this.props.clearAll,show:editable.expirationForm,onSubmit:updateContainer},external_React_default.a.createElement(FormElement,null,external_React_default.a.createElement(DateElement,{name:"expirationDate",label:"Expiration Date",onUserInput:this.props.setContainer,value:current.container.expirationDate})));var parentBarcodes=this.props.getParentContainerBarcodes(container);var barcodePathDisplay=this.props.getBarcodePathDisplay(parentBarcodes);var printBarcode=function printBarcode(){var labelParams=[{barcode:container.barcode,type:options.specimen.types[specimen.typeId].label}];_this.props.printLabel(labelParams).then(function(){return sweetalert2_all_default.a.fire("Print Barcode Number: "+container.barcode)})};return external_React_default.a.createElement("div",{className:"specimen-header"},external_React_default.a.createElement("div",{className:"specimen-title"},external_React_default.a.createElement("div",{className:"barcode"},"Barcode",external_React_default.a.createElement("div",{className:"value"},external_React_default.a.createElement("strong",null,container.barcode)),external_React_default.a.createElement("span",{className:"barcodePath"},"Address: ",barcodePathDisplay," ",external_React_default.a.createElement("br",null),"Lot Number: ",container.lotNumber," ",alterLotNumber(),external_React_default.a.createElement("br",null),"Expiration Date: ",container.expirationDate,alterExpirationDate()),lotForm,expirationForm),external_React_default.a.createElement("div",{className:"action",title:"Print Barcode"},external_React_default.a.createElement("div",{className:"action-button update",onClick:printBarcode},external_React_default.a.createElement("span",{className:"glyphicon glyphicon-print"}))),addAliquotForm(),external_React_default.a.createElement(ContainerCheckout,{container,current,editContainer:this.props.editContainer,setContainer:this.props.setContainer,updateContainer})),external_React_default.a.createElement(lifeCycle,{specimen,centers:options.centers}))}}]);return Header}(external_React_["Component"]);function ContainerCheckout(props){var checkoutContainer=function checkoutContainer(){props.editContainer(props.container).then(function(){return props.setContainer("parentContainerId",null)}).then(function(){return props.setContainer("coordinate",null)}).then(function(){return props.updateContainer()})};return loris.userHasPermission("biobank_container_update")&&props.container.parentContainerId?external_React_default.a.createElement("div",{className:"action"},external_React_default.a.createElement("div",{className:"action-button update",title:"Checkout Container",onClick:checkoutContainer},external_React_default.a.createElement("span",{className:"glyphicon glyphicon-share"}))):null}var header=header_Header;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})}keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function BiobankSpecimen(props){var current=props.current,editable=props.editable,errors=props.errors,options=props.options,specimen=props.specimen,container=props.container;var addProcess=function(){var _ref=asyncToGenerator_default()(regenerator_default.a.mark(function _callee(process){var newSpecimen;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:newSpecimen=clone(specimen);newSpecimen[process]={centerId:container.centerId};_context.next=4;return props.editSpecimen(newSpecimen);case 4:props.edit(process);case 5:case"end":return _context.stop()}}},_callee)}));return function addProcess(_x){return _ref.apply(this,arguments)}}();var alterProcess=function alterProcess(process){props.editSpecimen(specimen).then(function(){return props.edit(process)})};return external_React_default.a.createElement("div",{className:"processing"},external_React_default.a.createElement(Processes,{addProcess,alterProcess,specimen,editable,clearAll:props.clearAll,current,errors,options,setCurrent:props.setCurrent,setSpecimen:props.setSpecimen,updateSpecimen:props.updateSpecimen},external_React_default.a.createElement(ProcessPanel,{process:"collection"}),external_React_default.a.createElement(ProcessPanel,{process:"preparation"}),external_React_default.a.createElement(ProcessPanel,{process:"analysis"})))}BiobankSpecimen.propTypes={specimenPageDataURL:prop_types_default.a.string.isRequired};function Processes(props){return external_React_default.a.Children.map(props.children,function(child){return external_React_default.a.cloneElement(child,_objectSpread({},props))})}function ProcessPanel(props){var editable=props.editable,process=props.process,current=props.current,specimen=props.specimen,options=props.options;var alterProcess=function alterProcess(){if(loris.userHasPermission("biobank_specimen_alter")){return external_React_default.a.createElement("span",{className:editable[process]?null:"glyphicon glyphicon-pencil",onClick:editable[process]?null:function(){return props.alterProcess(process)}})}};var cancelAlterProcess=function cancelAlterProcess(){if(editable[process]){return external_React_default.a.createElement("a",{className:"pull-right",style:{cursor:"pointer"},onClick:props.clearAll},"Cancel")}};var protocolExists=Object.values(options.specimen.protocols).find(function(protocol){return protocol.typeId==specimen.typeId&&options.specimen.processes[protocol.processId].label==process.replace(/^\w/,function(c){return c.toUpperCase()})});var panel=null;if(protocolExists&&!specimen[process]&&!editable[process]&&loris.userHasPermission("biobank_specimen_update")){var addProcess=function addProcess(){return props.addProcess(process)};panel=external_React_default.a.createElement("div",{className:"panel specimen-panel inactive"},external_React_default.a.createElement("div",{className:"add-process",onClick:addProcess},external_React_default.a.createElement("span",{className:"glyphicon glyphicon-plus"})),external_React_default.a.createElement("div",null,"ADD ",process.toUpperCase()))}var form=external_React_default.a.createElement(FormElement,null,external_React_default.a.createElement(processForm,{current,errors:props.errors.specimen[process],edit:editable[process],specimen:current.specimen,options,process:editable[process]?current.specimen[process]:specimen[process],processStage:process,setCurrent:props.setCurrent,setParent:props.setSpecimen,typeId:editable[process]?current.specimen.typeId:specimen.typeId,updateSpecimen:props.updateSpecimen}));if(specimen[process]||editable[process]){panel=external_React_default.a.createElement("div",{className:"panel specimen-panel panel-default"},external_React_default.a.createElement("div",{className:"panel-heading"},external_React_default.a.createElement("div",{className:"lifecycle-node "+process},external_React_default.a.createElement("div",{className:"letter"},process.charAt(0).toUpperCase())),external_React_default.a.createElement("div",{className:"title"},process.replace(/^\w/,function(c){return c.toUpperCase()})),alterProcess()),external_React_default.a.createElement("div",{className:"panel-body"},form,cancelAlterProcess()))}return panel}var jsx_specimen=BiobankSpecimen;function container_createSuper(Derived){var hasNativeReflectConstruct=container_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function container_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var container_BiobankContainer=function(_Component){inherits_default()(BiobankContainer,_Component);var _super=container_createSuper(BiobankContainer);function BiobankContainer(){var _this;classCallCheck_default()(this,BiobankContainer);_this=_super.call(this);_this.drag=_this.drag.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(BiobankContainer,[{key:"drag",value:function drag(e){var container=JSON.stringify(this.props.data.containers[e.target.id]);e.dataTransfer.setData("text/plain",container)}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,current=_this$props.current,data=_this$props.data,editable=_this$props.editable,options=_this$props.options,container=_this$props.container;var checkoutButton=function checkoutButton(){if(!loris.userHasPermission("biobank_container_update")||data.containers[container.id].childContainerIds.length==0){return}return external_React_default.a.createElement("div",{style:{marginLeft:"auto",height:"10%",marginRight:"10%"}},external_React_default.a.createElement("div",{className:!editable.containerCheckout&&!editable.loadContainer?"action-button update open":"action-button update closed",title:"Checkout Child Containers",onClick:function onClick(){_this2.props.edit("containerCheckout")}},external_React_default.a.createElement("span",{className:"glyphicon glyphicon-share"})))};var parentBarcodes=this.props.getParentContainerBarcodes(container);var barcodes=mapFormOptions(data.containers,"barcode");Object.keys(parentBarcodes).forEach(function(key){return Object.keys(barcodes).forEach(function(i){return parentBarcodes[key]==barcodes[i]&&delete barcodes[i]})});var barcodePathDisplay=this.props.getBarcodePathDisplay(parentBarcodes);var coordinates=data.containers[container.id].childContainerIds.reduce(function(result,id){var container=data.containers[id];if(container.coordinate){result[container.coordinate]=id}return result},{});var containerDisplay=external_React_default.a.createElement("div",{className:"display-container"},checkoutButton(),external_React_default.a.createElement(jsx_containerDisplay,{history:this.props.history,data,container,barcodes,current,options,dimensions:options.container.dimensions[container.dimensionId],coordinates,editable,edit:this.props.edit,clearAll:this.props.clearAll,setCurrent:this.props.setCurrent,setCheckoutList:this.props.setCheckoutList,editContainer:this.props.editContainer,updateContainer:this.props.updateContainer}),external_React_default.a.createElement("div",{style:{display:"inline"}},barcodePathDisplay));var containerList=function containerList(){if(!container.childContainerIds){return external_React_default.a.createElement("div",{className:"title"},"This Container is Empty!")}var childIds=container.childContainerIds;var listAssigned=[];var coordinateList=[];var listUnassigned=[];childIds.forEach(function(childId){if(!loris.userHasPermission("biobank_specimen_view")){return}var child=data.containers[childId];if(child.coordinate){listAssigned.push(external_React_default.a.createElement("div",null,external_React_default.a.createElement(Link,{key:childId,to:"/barcode=".concat(child.barcode)},child.barcode)));var coordinate=_this2.props.getCoordinateLabel(child);coordinateList.push(external_React_default.a.createElement("div",null,"at ",coordinate))}else{listUnassigned.push(external_React_default.a.createElement("div",null,external_React_default.a.createElement(Link,{key:childId,to:"/barcode=".concat(child.barcode),id:child.id,draggable:true,onDragStart:_this2.drag},child.barcode),external_React_default.a.createElement("br",null)))}});return external_React_default.a.createElement("div",null,external_React_default.a.createElement("div",{className:"title"},listAssigned.length!==0?"Assigned Containers":null),external_React_default.a.createElement("div",{className:"container-coordinate"},external_React_default.a.createElement("div",null,listAssigned),external_React_default.a.createElement("div",{style:{paddingLeft:10}},coordinateList)),listAssigned.length!==0?external_React_default.a.createElement("br",null):null,external_React_default.a.createElement("div",{className:"title"},listUnassigned.length!==0?"Unassigned Containers":null),listUnassigned)};return external_React_default.a.createElement("div",{className:"container-display"},containerDisplay,external_React_default.a.createElement("div",{className:"container-list"},containerList()))}}]);return BiobankContainer}(external_React_["Component"]);container_BiobankContainer.propTypes={containerPageDataURL:prop_types_default.a.string.isRequired};var jsx_container=container_BiobankContainer;var LoadingBar=__webpack_require__(10);function barcodePage_createSuper(Derived){var hasNativeReflectConstruct=barcodePage_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function barcodePage_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var barcodePage_initialState={loading:false,current:{files:{},list:{},coordinate:null,sequential:false,count:null,multiplier:1,specimen:{},container:{}},errors:{container:{},specimen:{}},editable:{aliquotForm:false,containerParentForm:false,loadContainer:false,containerCheckout:false,containerType:false,temperature:false,quantity:false,status:false,center:false,collection:false,preparation:false,analysis:false}};var barcodePage_BarcodePage=function(_Component){inherits_default()(BarcodePage,_Component);var _super=barcodePage_createSuper(BarcodePage);function BarcodePage(){var _this;classCallCheck_default()(this,BarcodePage);_this=_super.call(this);_this.state=barcodePage_initialState;_this.getParentContainerBarcodes=_this.getParentContainerBarcodes.bind(assertThisInitialized_default()(_this));_this.getCoordinateLabel=_this.getCoordinateLabel.bind(assertThisInitialized_default()(_this));_this.edit=_this.edit.bind(assertThisInitialized_default()(_this));_this.clearEditable=_this.clearEditable.bind(assertThisInitialized_default()(_this));_this.clearAll=_this.clearAll.bind(assertThisInitialized_default()(_this));_this.setCheckoutList=_this.setCheckoutList.bind(assertThisInitialized_default()(_this));_this.editSpecimen=_this.editSpecimen.bind(assertThisInitialized_default()(_this));_this.editContainer=_this.editContainer.bind(assertThisInitialized_default()(_this));_this.setSpecimen=_this.setSpecimen.bind(assertThisInitialized_default()(_this));_this.setContainer=_this.setContainer.bind(assertThisInitialized_default()(_this));_this.setCurrent=_this.setCurrent.bind(assertThisInitialized_default()(_this));_this.setErrors=_this.setErrors.bind(assertThisInitialized_default()(_this));_this.getBarcodePathDisplay=_this.getBarcodePathDisplay.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(BarcodePage,[{key:"getParentContainerBarcodes",value:function getParentContainerBarcodes(container){var barcodes=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];barcodes.push(container.barcode);var parent=Object.values(this.props.data.containers).find(function(c){return container.parentContainerId==c.id});parent&&this.getParentContainerBarcodes(parent,barcodes);return barcodes.slice(0).reverse()}},{key:"getCoordinateLabel",value:function getCoordinateLabel(container){var parentContainer=this.props.data.containers[container.parentContainerId];var dimensions=this.props.options.container.dimensions[parentContainer.dimensionId];var coordinate;var j=1;outerloop:for(var y=1;y<=dimensions.y;y++){innerloop:for(var x=1;x<=dimensions.x;x++){if(j==container.coordinate){if(dimensions.xNum==1&&dimensions.yNum==1){coordinate=x+dimensions.x*(y-1)}else{var xVal=dimensions.xNum==1?x:String.fromCharCode(64+x);var yVal=dimensions.yNum==1?y:String.fromCharCode(64+y);coordinate=yVal+""+xVal}break outerloop}j++}}return coordinate}},{key:"edit",value:function edit(stateKey){var _this2=this;return new Promise(function(resolve){_this2.clearEditable().then(function(){var editable=clone(_this2.state.editable);editable[stateKey]=true;_this2.setState({editable},resolve())})})}},{key:"clearEditable",value:function clearEditable(){var _this3=this;var state=clone(this.state);state.editable=barcodePage_initialState.editable;return new Promise(function(res){return _this3.setState(state,res())})}},{key:"clearAll",value:function clearAll(){var _this4=this;return new Promise(function(res){return _this4.setState(barcodePage_initialState,res())})}},{key:"setCheckoutList",value:function setCheckoutList(container){var _this5=this;this.setCurrent("containerId",1).then(function(){return _this5.setCurrent("containerId",null)});var list=this.state.current.list;list[container.coordinate]=container;this.setCurrent("list",list)}},{key:"editSpecimen",value:function editSpecimen(specimen){specimen=clone(specimen);return this.setCurrent("specimen",specimen)}},{key:"editContainer",value:function editContainer(container){container=clone(container);return this.setCurrent("container",container)}},{key:"setCurrent",value:function setCurrent(name,value){var _this6=this;var current=clone(this.state.current);current[name]=value;return new Promise(function(res){return _this6.setState({current},res())})}},{key:"setErrors",value:function setErrors(name,value){var errors=this.state.errors;errors[name]=value;this.setState({errors})}},{key:"getBarcodePathDisplay",value:function getBarcodePathDisplay(parentBarcodes){var _this7=this;return Object.keys(parentBarcodes).map(function(i){var container=Object.values(_this7.props.data.containers).find(function(container){return container.barcode==parentBarcodes[parseInt(i)+1]});var coordinateDisplay;if(container){var coordinate=_this7.getCoordinateLabel(container);coordinateDisplay=external_React_default.a.createElement("b",null,"-"+(coordinate||"UAS"))}return external_React_default.a.createElement("span",{className:"barcodePath"},i!=0&&": ",external_React_default.a.createElement(Link,{key:i,to:"/barcode=".concat(parentBarcodes[i])},parentBarcodes[i]),coordinateDisplay)})}},{key:"setSpecimen",value:function setSpecimen(name,value){var _this8=this;return new Promise(function(resolve){var specimen=clone(_this8.state.current.specimen);specimen[name]=value;_this8.setCurrent("specimen",specimen).then(function(){return resolve()})})}},{key:"setContainer",value:function setContainer(name,value){var _this9=this;return new Promise(function(resolve){var container=clone(_this9.state.current.container);value?container[name]=value:delete container[name];_this9.setCurrent("container",container).then(function(){return resolve()})})}},{key:"render",value:function render(){var _this10=this,_React$createElement;var _clone=clone(this.state),current=_clone.current,editable=_clone.editable,errors=_clone.errors;var _this$props=this.props,specimen=_this$props.specimen,container=_this$props.container,data=_this$props.data,options=_this$props.options;if(isEmpty(data.containers)||isEmpty(data.specimens)||isEmpty(data.pools)){return external_React_default.a.createElement(LoadingBar["a"],{progress:this.props.loading})}var updateContainer=function updateContainer(container){var close=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;_this10.setErrors("container",{});return new Promise(function(resolve){return _this10.setState({loading:true},function(){return _this10.props.updateContainer(container).then(function(){return close&&_this10.clearEditable()},function(errors){return errors&&_this10.setErrors("container",errors.container)}).then(function(){return _this10.setState({loading:false},resolve())})})})};var updateSpecimen=function updateSpecimen(specimen){_this10.setErrors("specimen",{});return _this10.setState({loading:true},function(){return _this10.props.updateSpecimen(specimen).then(function(){return _this10.clearEditable()},function(errors){return errors&&_this10.setErrors("specimen",errors.specimen)}).then(function(){return _this10.setState({loading:false})})})};var renderMain=function renderMain(){if(_this10.props.specimen){return external_React_default.a.createElement(jsx_specimen,{specimen,container,options,errors:_this10.state.errors,current:_this10.state.current,editable:_this10.state.editable,setCurrent:_this10.setCurrent,edit:_this10.edit,clearAll:_this10.clearAll,setSpecimen:_this10.setSpecimen,editSpecimen:_this10.editSpecimen,updateSpecimen})}else{return external_React_default.a.createElement(jsx_container,{history:_this10.props.history,container,data,options,current:_this10.state.current,editable:_this10.state.editable,editContainer:_this10.editContainer,updateContainer,setCurrent:_this10.setCurrent,setCheckoutList:_this10.setCheckoutList,edit:_this10.edit,clearAll:_this10.clearAll,getCoordinateLabel:_this10.getCoordinateLabel,getParentContainerBarcodes:_this10.getParentContainerBarcodes,getBarcodePathDisplay:_this10.getBarcodePathDisplay})}};return external_React_default.a.createElement("div",null,external_React_default.a.createElement(Link,{to:"/"},external_React_default.a.createElement("span",{className:"glyphicon glyphicon-chevron-left"}),"Return to Filter"),external_React_default.a.createElement(header,(_React$createElement={data,current,editable,options,editContainer:this.editContainer,edit:this.edit,specimen:this.props.specimen,container:this.props.container,clearAll:this.clearAll,setContainer:this.setContainer,setSpecimen:this.setSpecimen,createSpecimens:this.props.createSpecimens,updateContainer},defineProperty_default()(_React$createElement,"editContainer",this.editContainer),defineProperty_default()(_React$createElement,"getParentContainerBarcodes",this.getParentContainerBarcodes),defineProperty_default()(_React$createElement,"getBarcodePathDisplay",this.getBarcodePathDisplay),defineProperty_default()(_React$createElement,"increaseCoordinate",this.props.increaseCoordinate),defineProperty_default()(_React$createElement,"printLabel",this.props.printLabel),_React$createElement)),external_React_default.a.createElement("div",{className:"summary"},external_React_default.a.createElement(globals,{loading:this.state.loading,current,errors,editable,data,options,specimen,container,edit:this.edit,clearAll:this.clearAll,editContainer:this.editContainer,editSpecimen:this.editSpecimen,setContainer:this.setContainer,setSpecimen:this.setSpecimen,uC:function uC(){return _this10.props.updateContainer(current.container)},updateContainer,updateSpecimen,getCoordinateLabel:this.getCoordinateLabel,setCurrent:this.setCurrent}),renderMain()))}}]);return BarcodePage}(external_React_["Component"]);var barcodePage=barcodePage_BarcodePage;function biobankIndex_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})}keys.push.apply(keys,symbols)}return keys}function biobankIndex_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){biobankIndex_ownKeys(Object(source),true).forEach(function(key){defineProperty_default()(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{biobankIndex_ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function biobankIndex_createSuper(Derived){var hasNativeReflectConstruct=biobankIndex_isNativeReflectConstruct();return function _createSuperInternal(){var Super=getPrototypeOf_default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return possibleConstructorReturn_default()(this,result)}}function biobankIndex_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var biobankIndex_BiobankIndex=function(_React$Component){inherits_default()(BiobankIndex,_React$Component);var _super=biobankIndex_createSuper(BiobankIndex);function BiobankIndex(){var _this;classCallCheck_default()(this,BiobankIndex);_this=_super.call(this);_this.state={data:{containers:{},pools:{},specimens:{}},loading:0,options:{candidatesSessions:{},candidates:{},centers:{},container:{types:{},typesPrimary:{},typesNonPrimary:{},dimensions:{},stati:{}},diagnoses:{},examiners:{},projects:{},sessionCenters:{},sessions:{},specimen:{types:{},typeUnits:{},typeContainerTypes:{},protocols:{},protocolAttributes:{},protocolContainers:{},processes:{},processAttributes:{},attributes:{},attributeDatatypes:{},attributesOptions:{},units:{}}}};_this.printLabel=_this.printLabel.bind(assertThisInitialized_default()(_this));_this.routeBarcode=_this.routeBarcode.bind(assertThisInitialized_default()(_this));_this.setData=_this.setData.bind(assertThisInitialized_default()(_this));_this.increaseCoordinate=_this.increaseCoordinate.bind(assertThisInitialized_default()(_this));_this.updateSpecimen=_this.updateSpecimen.bind(assertThisInitialized_default()(_this));_this.updateSpecimens=_this.updateSpecimens.bind(assertThisInitialized_default()(_this));_this.editSpecimens=_this.editSpecimens.bind(assertThisInitialized_default()(_this));_this.updateContainer=_this.updateContainer.bind(assertThisInitialized_default()(_this));_this.createPool=_this.createPool.bind(assertThisInitialized_default()(_this));_this.saveBatchEdit=_this.saveBatchEdit.bind(assertThisInitialized_default()(_this));_this.createSpecimens=_this.createSpecimens.bind(assertThisInitialized_default()(_this));_this.createContainers=_this.createContainers.bind(assertThisInitialized_default()(_this));_this.validateSpecimen=_this.validateSpecimen.bind(assertThisInitialized_default()(_this));_this.validateProcess=_this.validateProcess.bind(assertThisInitialized_default()(_this));_this.validateContainer=_this.validateContainer.bind(assertThisInitialized_default()(_this));return _this}createClass_default()(BiobankIndex,[{key:"componentDidMount",value:function(){var _componentDidMount=asyncToGenerator_default()(regenerator_default.a.mark(function _callee(){var _this2=this;var updateProgress,specimens,containers,pools,options,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:updateProgress=function updateProgress(loading){return _this2.setState({loading})};specimens=getStream(this.props.specimenAPI,updateProgress);containers=get(this.props.containerAPI);pools=get(this.props.poolAPI);_context.next=6;return get(this.props.optionsAPI,updateProgress);case 6:options=_context.sent;this.setState({options});data=this.state.data;_context.next=11;return containers;case 11:data.containers=_context.sent;_context.next=14;return specimens;case 14:data.specimens=_context.sent;_context.next=17;return pools;case 17:data.pools=_context.sent;this.setState({data});case 19:case"end":return _context.stop()}}},_callee,this)}));function componentDidMount(){return _componentDidMount.apply(this,arguments)}return componentDidMount}()},{key:"setData",value:function setData(type,entities){var _this3=this;return new Promise(function(resolve){var data=clone(_this3.state.data);entities.forEach(function(entity){return data[type][entity.id]=entity});_this3.setState({data},resolve())})}},{key:"printLabel",value:function printLabel(labelParams){return post(labelParams,this.props.labelAPI,"POST")}},{key:"routeBarcode",value:function routeBarcode(barcode){var container=Object.values(this.state.data.containers).find(function(container){return container.barcode==barcode});var specimen=Object.values(this.state.data.specimens).find(function(specimen){return specimen.containerId==container.id});return{container,specimen}}},{key:"updateSpecimen",value:function updateSpecimen(specimen){var _this4=this;var errors=this.validateSpecimen(specimen);if(!isEmpty(errors)){return Promise.reject({specimen:errors})}return post(specimen,this.props.specimenAPI,"PUT").then(function(specimens){return _this4.setData("specimens",specimens)})}},{key:"updateSpecimens",value:function updateSpecimens(list){var _this5=this;var updateList=list.map(function(specimen){return function(){return _this5.updateSpecimen(specimen)}});return Promise.all(updateList.map(function(updateSpecimen){return updateSpecimen()}))}},{key:"editSpecimens",value:function editSpecimens(list){var _this6=this;var errors={};errors.specimen=this.validateSpecimen(list[0].specimen);errors.container=this.validateContainer(list[0].container);if(!isEmpty(errors.specimen)||!isEmpty(errors.container)){return Promise.reject(errors)}var specimenList=list.map(function(item){return function(){return _this6.updateSpecimen(item.specimen)}});var containerList=list.map(function(item){return function(){return _this6.updateContainer(item.container)}});return Promise.all(specimenList.map(function(item){return item()})).then(function(){return Promise.all(containerList.map(function(item){return item()}))})}},{key:"updateContainer",value:function updateContainer(container){var _this7=this;var errors=this.validateContainer(container);if(!isEmpty(errors)){return Promise.reject({container:errors})}return post(container,this.props.containerAPI,"PUT").then(function(containers){return _this7.setData("containers",containers)})}},{key:"increaseCoordinate",value:function increaseCoordinate(coordinate,parentContainerId){var _this8=this;var childCoordinates=this.state.data.containers[parentContainerId].childContainerIds.reduce(function(result,id){var container=_this8.state.data.containers[id];if(container.coordinate){result[container.coordinate]=id}return result},{});var increment=function increment(coord){coord++;if(childCoordinates.hasOwnProperty(coord)){coord=increment(coord)}return coord};return increment(coordinate)}},{key:"createSpecimens",value:function createSpecimens(list,current,print){var _this9=this;var _this$state=this.state,options=_this$state.options,data=_this$state.data;var labelParams=[];var projectIds=current.projectIds;var centerId=current.centerId;var availableId=Object.keys(options.container.stati).find(function(key){return options.container.stati[key].label==="Available"});var errors={specimen:{},container:{},list:{}};var isError=false;Object.keys(list).reduce(function(coord,key){var specimen=list[key];specimen.candidateId=current.candidateId;specimen.sessionId=current.sessionId;specimen.quantity=specimen.collection.quantity;specimen.unitId=specimen.collection.unitId;specimen.collection.centerId=centerId;if((options.specimen.types[specimen.typeId]||{}).freezeThaw==1){specimen.fTCycle=0}specimen.parentSpecimenIds=current.parentSpecimenIds||null;var container=specimen.container;container.statusId=availableId;container.temperature=20;container.projectIds=projectIds;container.centerId=centerId;container.originId=centerId;if(current.container.parentContainerId){container.parentContainerId=current.container.parentContainerId;var parentContainer=data.containers[current.container.parentContainerId];var dimensions=options.container.dimensions[parentContainer.dimensionId];var capacity=dimensions.x*dimensions.y*dimensions.z;coord=_this9.increaseCoordinate(coord,current.container.parentContainerId);if(coord<=capacity){container.coordinate=parseInt(coord)}else{container.coordinate=null}container.statusId=parentContainer.statusId;container.temperature=parentContainer.temperature;container.centerId=parentContainer.centerId}if(specimen.typeId){labelParams.push({barcode:container.barcode,type:options.specimen.types[specimen.typeId].label})}specimen.container=container;list[key]=specimen;errors.container=_this9.validateContainer(container,key);errors.specimen=_this9.validateSpecimen(specimen,key);if(!isEmpty(errors.container)){errors.list[key]={container:errors.container}}if(!isEmpty(errors.specimen)){errors.list[key]=biobankIndex_objectSpread(biobankIndex_objectSpread({},errors.list[key]),{},{specimen:errors.specimen})}if(!isEmpty(errors.list[key])){isError=true}return coord},0);if(isError){return Promise.reject(errors)}var printBarcodes=function printBarcodes(){return new Promise(function(resolve){if(print){sweetalert2_all_default()({title:"Print Barcodes?",type:"question",confirmButtonText:"Yes",cancelButtonText:"No",showCancelButton:true}).then(function(result){return result.value&&_this9.printLabel(labelParams)}).then(function(){return resolve()})}else{resolve()}})};return printBarcodes().then(function(){return post(list,_this9.props.specimenAPI,"POST")}).then(function(entities){_this9.setData("containers",entities.containers);_this9.setData("specimens",entities.specimens)}).then(function(){return Promise.resolve()})}},{key:"createContainers",value:function createContainers(list,current,errors){var _this10=this;var availableId=Object.keys(this.state.options.container.stati).find(function(key){return _this10.state.options.container.stati[key].label==="Available"});var isError=false;Object.entries(list).forEach(function(_ref){var _ref2=slicedToArray_default()(_ref,2),key=_ref2[0],container=_ref2[1];container.statusId=availableId;container.temperature=20;container.projectIds=current.projectIds;container.originId=current.centerId;container.centerId=current.centerId;errors.container=_this10.validateContainer(container,key);errors.list[key]=_this10.validateContainer(container,key);if(!isEmpty(errors.list[key])){isError=true}});if(isError){return Promise.reject(errors)}return post(list,this.props.containerAPI,"POST").then(function(containers){return _this10.setData("containers",containers)}).then(function(){return Promise.resolve()})}},{key:"createPool",value:function createPool(pool,list){var _this11=this;var dispensedId=Object.keys(this.state.options.container.stati).find(function(key){return _this11.state.options.container.stati[key].label==="Dispensed"});var update=Object.values(list).reduce(function(result,item){item.container.statusId=dispensedId;item.specimen.quantity="0";return[].concat(toConsumableArray_default()(result),[function(){return _this11.updateContainer(item.container,false)},function(){return _this11.updateSpecimen(item.specimen,false)}])},[]);var errors=this.validatePool(pool);if(!isEmpty(errors)){return Promise.reject(errors)}return post(pool,this.props.poolAPI,"POST").then(function(pools){return _this11.setData("pools",pools)}).then(function(){return Promise.all(update.map(function(update){return update()}))})}},{key:"saveBatchEdit",value:function saveBatchEdit(list){var _this12=this;var saveList=list.map(function(specimen){return function(){return post(specimen,_this12.props.specimenAPI,"PUT")}});var errors=this.validateSpecimen(list[0]);if(!isEmpty(errors)){return Promise.reject(errors)}return Promise.all(saveList.map(function(item){return item()})).then(function(data){return Promise.all(data.map(function(item){return _this12.setData("specimens",item)}))}).then(function(){return sweetalert2_all_default()("Batch Preparation Successful!","","success")})}},{key:"validateSpecimen",value:function validateSpecimen(specimen,key){var errors={};var required=["typeId","quantity","unitId","candidateId","sessionId","collection"];var _float=["quantity"];var positive=["quantity","fTCycle"];var integer=["fTCycle"];required.map(function(field){if(!specimen[field]){errors[field]="This field is required! "}});_float.map(function(field){if(isNaN(parseInt(specimen[field]))||!isFinite(specimen[field])){errors[field]="This field must be a number! "}});positive.map(function(field){if(specimen[field]!=null&&specimen[field]<0){errors[field]="This field must not be negative!"}});integer.map(function(field){if(specimen[field]!=null&&!/^\+?(0|[1-9]\d*)$/.test(specimen[field])){errors[field]="This field must be an integer!"}});errors.collection=this.validateProcess(specimen.collection,this.state.options.specimen.protocolAttributes[specimen.collection.protocolId],["protocolId","examinerId","quantity","unitId","centerId","date","time"],["quantity"]);if(isEmpty(errors.collection)){delete errors.collection}if(specimen.preparation){errors.preparation=this.validateProcess(specimen.preparation,this.state.options.specimen.protocolAttributes[specimen.preparation.protocolId],["protocolId","examinerId","centerId","date","time"])}if(isEmpty(errors.preparation)){delete errors.preparation}if(specimen.analysis){errors.analysis=this.validateProcess(specimen.analysis,this.state.options.specimen.protocolAttributes[specimen.analysis.protocolId],["protocolId","examinerId","centerId","date","time"])}if(isEmpty(errors.analysis)){delete errors.analysis}return errors}},{key:"validateProcess",value:function validateProcess(process,attributes,required,number){var errors={};var regex;required&&required.map(function(field){if(!process[field]){errors[field]="This field is required! "}});number&&number.map(function(field){if(isNaN(parseInt(process[field]))||!isFinite(process[field])){errors[field]="This field must be a number! "}});regex=/^[12]\d{3}\-(0[1-9]|1[012])\-(0[1-9]|[12][0-9]|3[01])$/;if(regex.test(process.date)===false){errors.date="This field must be a valid date! "}regex=/^([01]\d|2[0-3]):([0-5]\d)$/;if(regex.test(process.time)===false){errors.time="This field must be a valid time! "}if(!isEmpty(process.data)){errors.data={};var datatypes=this.state.options.specimen.attributeDatatypes;var protocolAttributes=this.state.options.specimen.protocolAttributes[process.protocolId];if(protocolAttributes){Object.keys(protocolAttributes).forEach(function(attributeId){if(protocolAttributes[attributeId].required==1&&!process.data[attributeId]){errors.data[attributeId]="This field is required!"}if(datatypes[attributes[attributeId].datatypeId].datatype==="number"){if(isNaN(parseInt(process.data[attributeId]))||!isFinite(process.data[attributeId])){errors.data[attributeId]="This field must be a number!"}}if(datatypes[attributes[attributeId].datatypeId].datatype==="date"){regex=/^[12]\d{3}\-(0[1-9]|1[012])\-(0[1-9]|[12][0-9]|3[01])$/;if(regex.test(process.data[attributeId])===false){errors.data[attributeId]="This field must be a valid date! "}}if(datatypes[attributes[attributeId].datatypeId].datatype==="time"){regex=/^([01]\d|2[0-3]):([0-5]\d)$/;if(regex.test(process.data[attributeId])===false){errors.data[attributeId]="This field must be a valid time! "}}})}if(isEmpty(errors.data)){delete errors.data}}return errors}},{key:"validateContainer",value:function validateContainer(container,key){var errors={};var required=["barcode","typeId","temperature","statusId","projectIds","centerId"];var _float2=["temperature"];required.map(function(field){if(!container[field]){errors[field]="This field is required! "}});_float2.map(function(field){if(isNaN(parseInt(container[field]))||!isFinite(container[field])){errors[field]="This field must be a number! "}});Object.values(this.state.data.containers).map(function(c){if(container.barcode===c.barcode&&container.id!==c.id){errors.barcode="Barcode must be unique."}});return errors}},{key:"validatePool",value:function validatePool(pool){var regex;var errors={};var required=["label","quantity","unitId","date","time"];required.forEach(function(field){if(!pool[field]){errors[field]="This field is required! "}});if(isNaN(parseInt(pool.quantity))||!isFinite(pool.quantity)){errors.quantity="This field must be a number! "}regex=/^[12]\d{3}\-(0[1-9]|1[012])\-(0[1-9]|[12][0-9]|3[01])$/;if(regex.test(pool.date)===false){errors.date="This field must be a valid date! "}regex=/^([01]\d|2[0-3]):([0-5]\d)$/;if(regex.test(pool.time)===false){errors.time="This field must be a valid time! "}if(pool.specimenIds==null||pool.specimenIds.length<2){errors.total="Pooling requires at least 2 specimens"}return errors}},{key:"render",value:function render(){var _this13=this;var barcode=function barcode(props){var target=_this13.routeBarcode(props.match.params.barcode);return React.createElement(barcodePage,{history:props.history,specimen:target.specimen,container:target.container,data:_this13.state.data,options:_this13.state.options,updateSpecimen:_this13.updateSpecimen,updateContainer:_this13.updateContainer,createSpecimens:_this13.createSpecimens,createContainers:_this13.createContainers,printLabel:_this13.printLabel,increaseCoordinate:_this13.increaseCoordinate,loading:_this13.state.loading})};var filter=function filter(props){return React.createElement("div",null,React.createElement(jsx_filter,{history:props.history,data:_this13.state.data,options:_this13.state.options,increaseCoordinate:_this13.increaseCoordinate,createPool:_this13.createPool,createContainers:_this13.createContainers,createSpecimens:_this13.createSpecimens,editSpecimens:_this13.editSpecimens,updateSpecimens:_this13.updateSpecimens,loading:_this13.state.loading}))};return React.createElement(react_router_dom_BrowserRouter,{basename:"/biobank"},React.createElement("div",null,React.createElement(react_router_Switch,null,React.createElement(react_router_Route,{exact:true,path:"/",render:filter}),React.createElement(react_router_Route,{exact:true,path:"/barcode=:barcode",render:barcode}))))}}]);return BiobankIndex}(React.Component);window.addEventListener("load",function(){var biobank="".concat(loris.BaseURL,"/biobank/");ReactDOM.render(React.createElement(biobankIndex_BiobankIndex,{specimenAPI:"".concat(biobank,"specimenendpoint/"),containerAPI:"".concat(biobank,"containerendpoint/"),poolAPI:"".concat(biobank,"poolendpoint/"),optionsAPI:"".concat(biobank,"optionsendpoint/"),labelAPI:"".concat(biobank,"labelendpoint/")}),document.getElementById("lorisworkspace"))})}]);
//# sourceMappingURL=biobankIndex.js.map