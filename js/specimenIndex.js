!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _specimen=__webpack_require__(27),_specimen2=_interopRequireDefault(_specimen),args=QueryString.get(document.currentScript.src);$(function(){var biobankSpecimen=React.createElement("div",{className:"page-specimen-form"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-9 col-lg-12"},React.createElement(_specimen2.default,{specimenPageDataURL:loris.BaseURL+"/biobank/ajax/requestData.php?action=getSpecimenData&barcode="+args.barcode,optionsURL:loris.BaseURL+"/biobank/ajax/requestData.php?action=getFormOptions",saveContainer:loris.BaseURL+"/biobank/ajax/submitData.php?action=saveContainer",saveSpecimen:loris.BaseURL+"/biobank/ajax/submitData.php?action=saveSpecimen"}))));ReactDOM.render(biobankSpecimen,document.getElementById("lorisworkspace"))})},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_barcodeForm=__webpack_require__(4),_barcodeForm2=_interopRequireDefault(_barcodeForm),BiobankSpecimenForm=function(_React$Component){function BiobankSpecimenForm(){_classCallCheck(this,BiobankSpecimenForm);var _this=_possibleConstructorReturn(this,(BiobankSpecimenForm.__proto__||Object.getPrototypeOf(BiobankSpecimenForm)).call(this));return _this.state={formErrors:{},errorMessage:null,candidateId:null,sessionId:null,centerId:null,barcodeList:{1:{specimen:{collection:{}},container:{}}},count:1,collapsed:{1:!0},copyMultiplier:1},_this.toggleCollapse=_this.toggleCollapse.bind(_this),_this.setSpecimen=_this.setSpecimen.bind(_this),_this.setContainer=_this.setContainer.bind(_this),_this.addBarcode=_this.addBarcode.bind(_this),_this.setCopyMultiplier=_this.setCopyMultiplier.bind(_this),_this.copyBarcode=_this.copyBarcode.bind(_this),_this.removeBarcode=_this.removeBarcode.bind(_this),_this.saveBarcodeList=_this.saveBarcodeList.bind(_this),_this.save=_this.save.bind(_this),_this}return _inherits(BiobankSpecimenForm,_React$Component),_createClass(BiobankSpecimenForm,[{key:"toggleCollapse",value:function(key){var collapsed=this.state.collapsed;collapsed[key]=!collapsed[key],this.setState({collapsed:collapsed})}},{key:"saveBarcodeList",value:function(){var _this2=this,barcodeList=JSON.parse(JSON.stringify(this.state.barcodeList)),availableId=Object.keys(this.props.containerStati).find(function(key){return"Available"===_this2.props.containerStati[key]});for(var barcode in barcodeList){var container=barcodeList[barcode].container;container.statusId=availableId,container.temperature=20,container.locationId=this.state.centerId,container.originId=this.state.centerId;var specimen=barcodeList[barcode].specimen;specimen.candidateId=this.state.candidateId,specimen.sessionId=this.state.sessionId,specimen.quantity=specimen.collection.quantity,specimen.unitId=specimen.collection.unitId,specimen.collection.locationId=this.state.centerId,1===this.props.specimenTypes[specimen.typeId].freezeThaw&&(specimen.fTCycle=0),this.props.data&&(specimen.candidateId=this.props.data.candidate.CandID,specimen.sessionId=this.props.data.session.ID,specimen.parentSpecimenId=this.props.data.specimen.id,specimen.collection.locationId=this.props.data.container.locationId,container.locationId=this.props.data.container.locationId,container.originId=this.props.data.container.locationId),barcodeList[barcode].container=container,barcodeList[barcode].specimen=specimen}console.log(barcodeList),this.save(barcodeList,this.props.saveBarcodeList).then(function(){_this2.props.refreshParent(),_this2.props.onSuccess()})}},{key:"save",value:function(data,url){var _this3=this;return new Promise(function(resolve){$.ajax({type:"POST",url:url,data:{data:JSON.stringify(data)},cache:!1,success:function(){resolve(),swal("Save Successful!","","success")},error:function(err,textStatus,errorThrown){var msg=err.responseJSON?err.responseJSON.message:"Specimen error!";_this3.setState({errorMessage:msg}),swal(msg,"","error")}})})}},{key:"setSpecimen",value:function(name,value,key){this.props.onChange instanceof Function&&this.props.onChange();var centerId=this.state.centerId,candidateId=this.state.candidateId,sessionId=this.state.sessionId,barcodeList=this.state.barcodeList;"candidateId"===name?candidateId=value:"sessionId"===name?(sessionId=value,centerId=this.props.sessionCenters[sessionId].centerId):("typeId"===name&&(barcodeList[key].specimen={collection:{}}),barcodeList[key].specimen[name]=value),this.setState({barcodeList:barcodeList,centerId:centerId,candidateId:candidateId,sessionId:sessionId})}},{key:"setContainer",value:function(name,value,key){this.props.onChange instanceof Function&&this.props.onChange();var barcodeList=this.state.barcodeList;barcodeList[key].container[name]=value,this.setState({barcodeList:barcodeList})}},{key:"addBarcode",value:function(){var barcodeList=this.state.barcodeList,count=this.state.count,collapsed=this.state.collapsed;barcodeList[count+1]={specimen:{},container:{collection:{}}},collapsed[count+1]=!0,count+=1,this.setState({barcodeList:barcodeList,collapsed:collapsed,count:count})}},{key:"setCopyMultiplier",value:function(e){var copyMultiplier=e.target.value;this.setState({copyMultiplier:copyMultiplier})}},{key:"copyBarcode",value:function(key){for(var count=this.state.count,collapsed=this.state.collapsed,nextKey=count+1,barcodeList=this.state.barcodeList,multiplier=this.state.copyMultiplier,i=1;i<=multiplier;i++)barcodeList[nextKey]=JSON.parse(JSON.stringify(barcodeList[key])),delete barcodeList[nextKey].container.barcode,collapsed[nextKey]=!0,nextKey++;this.setState({barcodeList:barcodeList,count:nextKey,collapsed:collapsed})}},{key:"removeBarcode",value:function(key){var barcodeList=this.state.barcodeList;delete barcodeList[key],this.setState({barcodeList:barcodeList})}},{key:"render",value:function(){var _this4=this,barcodeListArray=Object.keys(this.state.barcodeList),barcodes=[],i=1,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_loop=function(){var key=_step.value;barcodes.push(React.createElement(_barcodeForm2.default,{data:_this4.props.data||null,key:key,barcodeKey:key,id:i,collapsed:_this4.state.collapsed[key],toggleCollapse:_this4.toggleCollapse,mapFormOptions:_this4.props.mapFormOptions,container:_this4.state.barcodeList[key].container||null,specimen:_this4.state.barcodeList[key].specimen||null,removeBarcode:1!==barcodeListArray.length?function(){return _this4.removeBarcode(key)}:null,addBarcode:i==barcodeListArray.length?_this4.addBarcode:null,setCopyMultiplier:_this4.setCopyMultiplier,copyMultiplier:_this4.state.copyMultiplier,copyBarcode:i==barcodeListArray.length&&_this4.state.barcodeList[key]?_this4.copyBarcode:null,setContainer:_this4.setContainer,setSpecimen:_this4.setSpecimen,onChange:_this4.props.onChange,specimenTypes:_this4.props.specimenTypes,containerTypesPrimary:_this4.props.containerTypesPrimary,containersNonPrimary:_this4.props.containersNonPrimary,specimenTypeAttributes:_this4.props.specimenTypeAttributes,attributeDatatypes:_this4.props.attributeDatatypes,attributeOptions:_this4.props.attributeOptions,capacities:_this4.props.capacities,containerDimensions:_this4.props.containerDimensions,containerCoordinates:_this4.props.containerCoordinates,specimenTypeUnits:_this4.props.specimenTypeUnits,units:_this4.props.units})),i++},_iterator=barcodeListArray[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)_loop()}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var globalFields=void 0,remainingQuantityFields=void 0;if(this.props.data)globalFields=React.createElement("div",null,React.createElement(StaticElement,{label:"Parent Specimen",text:this.props.data.container.barcode}),React.createElement(StaticElement,{label:"PSCID",text:this.props.data.candidate.PSCID}),React.createElement(StaticElement,{label:"Visit Label",text:this.props.data.session.Visit_label})),remainingQuantityFields=React.createElement("div",null,React.createElement(TextboxElement,{name:"quantity",label:"Remaining Quantity",onUserInput:this.props.setSpecimenData,required:!0,value:this.props.specimen.quantity}),React.createElement(SelectElement,{name:"unitId",label:"Unit",options:this.props.specimenUnits,onUserInput:this.props.setSpecimenData,emptyOption:!1,required:!0,value:this.props.specimen.unitId}));else{var sessions={};this.state.candidateId&&(sessions=this.props.mapFormOptions(this.props.candidateSessions[this.state.candidateId],"label")),globalFields=React.createElement("div",null,React.createElement(SelectElement,{name:"candidateId",label:"PSCID",options:this.props.candidates,onUserInput:this.setSpecimen,required:!0,value:this.state.candidateId,placeHolder:"Search for a PSCID"}),React.createElement(SelectElement,{name:"sessionId",label:"Visit Label",options:sessions,onUserInput:this.setSpecimen,required:!0,value:this.state.sessionId,disabled:!this.state.candidateId}))}return React.createElement(FormElement,{name:"specimenForm",id:"specimenForm",onSubmit:function(){_this4.saveBarcodeList(),_this4.props.saveSpecimen instanceof Function&&_this4.props.saveSpecimen()},ref:"form"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-9 col-xs-offset-1"},globalFields,remainingQuantityFields)),barcodes,React.createElement(ButtonElement,{label:"Submit",columnSize:"col-sm-2 col-sm-offset-10"}))}}]),BiobankSpecimenForm}(React.Component);BiobankSpecimenForm.propTypes={},exports.default=BiobankSpecimenForm},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_collectionForm=__webpack_require__(5),_collectionForm2=_interopRequireDefault(_collectionForm),_containerParentForm=__webpack_require__(6),_containerParentForm2=_interopRequireDefault(_containerParentForm),SpecimenBarcodeForm=function(_React$Component){function SpecimenBarcodeForm(){_classCallCheck(this,SpecimenBarcodeForm);var _this=_possibleConstructorReturn(this,(SpecimenBarcodeForm.__proto__||Object.getPrototypeOf(SpecimenBarcodeForm)).call(this));return _this.setContainer=_this.setContainer.bind(_this),_this.setSpecimen=_this.setSpecimen.bind(_this),_this.copy=_this.copy.bind(_this),_this}return _inherits(SpecimenBarcodeForm,_React$Component),_createClass(SpecimenBarcodeForm,[{key:"setContainer",value:function(name,value){this.props.setContainer(name,value,this.props.barcodeKey)}},{key:"setSpecimen",value:function(name,value){this.props.setSpecimen(name,value,this.props.barcodeKey)}},{key:"copy",value:function(){this.props.copyBarcode(this.props.copyMultiplier)}},{key:"render",value:function(){var _this2=this,addBarcodeButton=void 0,addBarcodeText=void 0,copyBarcodeButton=void 0,copyBarcodeText=void 0;this.props.addBarcode&&(addBarcodeButton=React.createElement("span",{className:"action"},React.createElement("div",{className:"action-button add",onClick:this.props.addBarcode},"+")),addBarcodeText=React.createElement("span",{className:"action-title"},"New Entry")),this.props.copyBarcode&&(copyBarcodeButton=React.createElement("span",{className:"action"},React.createElement("div",{className:"action-button add",onClick:this.copy},React.createElement("span",{className:"glyphicon glyphicon-duplicate"}))),copyBarcodeText=React.createElement("span",{className:"action-title"},React.createElement("input",{className:"form-control input-sm",type:"number",min:"1",max:"50",style:{width:50,display:"inline"},onChange:this.props.setCopyMultiplier,value:this.props.copyMultiplier}),"Copies"));var removeBarcodeButton=void 0;if(this.props.removeBarcode){var glyphStyle={color:"#DDDDDD",marginLeft:10,cursor:"pointer",fontSize:15};removeBarcodeButton=React.createElement("span",{className:"glyphicon glyphicon-remove",onClick:this.props.removeBarcode,style:glyphStyle})}var specimenTypes={};if(this.props.data)for(var id in this.props.specimenTypes)this.props.specimenTypes[id].parentTypeId!=this.props.data.specimen.typeId&&id!=this.props.data.specimen.typeId||(specimenTypes[id]=this.props.specimenTypes[id].type);else specimenTypes=this.props.mapFormOptions(this.props.specimenTypes,"type");return React.createElement(FormElement,{name:"biobankBarcode"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-9 col-xs-offset-1"},React.createElement("div",null,React.createElement(TextboxElement,{name:"barcode",label:"Barcode "+this.props.id,onUserInput:this.setContainer,required:!0,value:this.props.container.barcode}))),React.createElement("div",{className:"col-xs-1",style:{paddingLeft:0,marginTop:10}},React.createElement("span",{className:this.props.collapsed?"glyphicon glyphicon-chevron-down":"glyphicon glyphicon-chevron-up",style:{cursor:"pointer",fontSize:15,position:"relative",right:40},"data-toggle":"collapse","data-target":"#item-"+this.props.barcodeKey,onClick:function(){return _this2.props.toggleCollapse(_this2.props.barcodeKey)}}),removeBarcodeButton)),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-2"}),React.createElement("div",{className:"col-xs-8"},React.createElement("div",{id:"item-"+this.props.barcodeKey,className:"collapse"},React.createElement(SelectElement,{name:"typeId",label:"Specimen Type",options:specimenTypes,onUserInput:this.setSpecimen,required:!0,value:this.props.specimen.typeId}),React.createElement(SelectElement,{name:"typeId",label:"Container Type",options:this.props.containerTypesPrimary,onUserInput:this.setContainer,ref:"containerType",required:!0,value:this.props.container.typeId}),React.createElement(_collectionForm2.default,{specimen:this.props.specimen,setSpecimenData:this.setSpecimen,specimenTypeUnits:this.props.specimenTypeUnits,specimenTypeAttributes:this.props.specimenTypeAttributes,attributeDatatypes:this.props.attributeDatatypes,attributeOptions:this.props.attributeOptions}),React.createElement(_containerParentForm2.default,{setContainerData:this.setContainer,mapFormOptions:this.props.mapFormOptions,container:this.props.container,containersNonPrimary:this.props.containersNonPrimary,containerDimensions:this.props.containerDimensions,containerCoordinates:this.props.containerCoordinates})))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-11"},React.createElement("div",{className:"col-xs-4"}),React.createElement("div",{className:"col-xs-3 action"},addBarcodeButton,addBarcodeText),React.createElement("div",{className:"col-xs-3 action"},copyBarcodeButton,copyBarcodeText))))}}]),SpecimenBarcodeForm}(React.Component);SpecimenBarcodeForm.propTypes={},exports.default=SpecimenBarcodeForm},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SpecimenCollectionForm=function(_React$Component){function SpecimenCollectionForm(){_classCallCheck(this,SpecimenCollectionForm);var _this=_possibleConstructorReturn(this,(SpecimenCollectionForm.__proto__||Object.getPrototypeOf(SpecimenCollectionForm)).call(this));return _this.getSpecimenTypeFields=_this.getSpecimenTypeFields.bind(_this),_this.setCollectionData=_this.setCollectionData.bind(_this),_this.addData=_this.addData.bind(_this),_this.setData=_this.setData.bind(_this),_this}return _inherits(SpecimenCollectionForm,_React$Component),_createClass(SpecimenCollectionForm,[{key:"setCollectionData",value:function(name,value){var collection=this.props.specimen.collection;collection[name]=value,this.props.setSpecimenData("collection",collection)}},{key:"addData",value:function(){var collection=this.props.specimen.collection;collection.data={},this.props.setSpecimenData("collection",collection)}},{key:"setData",value:function(name,value){var data=this.props.specimen.collection.data;data[name]=value,this.setCollectionData("data",data)}},{key:"getSpecimenTypeFields",value:function(fieldsObject){var _this2=this,specimenTypeFields=Object.keys(fieldsObject).map(function(attribute){var datatype=_this2.props.attributeDatatypes[fieldsObject[attribute].datatypeId].datatype;if("text"===datatype||"number"===datatype){if(null==fieldsObject[attribute].refTableId)return React.createElement(TextboxElement,{name:attribute,label:fieldsObject[attribute].name,onUserInput:_this2.setData,required:fieldsObject[attribute].required,value:_this2.props.specimen.collection.data[attribute]});if(null!==fieldsObject[attribute].refTableId)return React.createElement(SelectElement,{name:attribute,label:fieldsObject[attribute].name,options:_this2.props.attributeOptions[fieldsObject[attribute].refTableId],onUserInput:_this2.setData,required:fieldsObject[attribute].required,value:_this2.props.specimen.collection.data[attribute]})}if("datetime"===datatype)return React.createElement(DateElement,{name:attribute,label:fieldsObject[attribute].name,onUserInput:_this2.setData,ref:attribute,required:fieldsObject[attribute].required,value:_this2.props.specimen.collection.data[attribute]})});return specimenTypeFields}},{key:"render",value:function(){var updateButton=void 0;((this.props.data||{}).specimen||{}).collection&&(updateButton=React.createElement(ButtonElement,{label:"Update"}));var specimenTypeUnits={},specimenTypeFields=void 0;if(this.props.specimen.typeId){for(var id in this.props.specimenTypeUnits[this.props.specimen.typeId])specimenTypeUnits[id]=this.props.specimenTypeUnits[this.props.specimen.typeId][id].unit;var specimenTypeFieldsObject=this.props.specimenTypeAttributes[this.props.specimen.typeId];specimenTypeFieldsObject&&(((this.props.specimen||{}).collection||{}).data?specimenTypeFields=this.getSpecimenTypeFields(specimenTypeFieldsObject):this.addData())}var specimenFields=void 0;return this.props.specimen.typeId&&(specimenFields=React.createElement("div",null,React.createElement(TextboxElement,{name:"quantity",label:"Quantity",onUserInput:this.setCollectionData,required:!0,value:this.props.specimen.collection.quantity}),React.createElement(SelectElement,{name:"unitId",label:"Unit",options:specimenTypeUnits,onUserInput:this.setCollectionData,required:!0,value:this.props.specimen.collection.unitId}),specimenTypeFields,React.createElement(DateElement,{name:"date",label:"Date",minYear:"2000",maxYear:"2018",onUserInput:this.setCollectionData,required:!0,value:this.props.specimen.collection.date}),React.createElement(TimeElement,{name:"time",label:"Time",onUserInput:this.setCollectionData,required:!0,value:this.props.specimen.collection.time}),React.createElement(TextareaElement,{name:"comments",label:"Comments",onUserInput:this.setCollectionData,ref:"comments",value:this.props.specimen.collection.comments}))),React.createElement(FormElement,{name:"biobankSpecimen",onSubmit:this.props.saveSpecimen,ref:"form"},specimenFields,updateButton)}}]),SpecimenCollectionForm}(React.Component);SpecimenCollectionForm.propTypes={setSpecimenData:React.PropTypes.func.isRequired,saveSpecimen:React.PropTypes.func,specimen:React.PropTypes.object.isRequired,attributeDatatypes:React.PropTypes.object.isRequired,attributeOptions:React.PropTypes.object.isRequired,specimenTypeUnits:React.PropTypes.object.isRequired,specimenTypeAttributes:React.PropTypes.object.isRequired},exports.default=SpecimenCollectionForm},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_containerDisplay=__webpack_require__(7),_containerDisplay2=_interopRequireDefault(_containerDisplay),ContainerParentForm=function(_React$Component){function ContainerParentForm(){return _classCallCheck(this,ContainerParentForm),_possibleConstructorReturn(this,(ContainerParentForm.__proto__||Object.getPrototypeOf(ContainerParentForm)).apply(this,arguments))}return _inherits(ContainerParentForm,_React$Component),_createClass(ContainerParentForm,[{key:"render",value:function(){var containerDisplay=void 0,containerBarcodesNonPrimary=this.props.mapFormOptions(this.props.containersNonPrimary,"barcode"),parentContainerField=React.createElement(SelectElement,{name:"parentContainerId",label:"Parent Container Barcode",options:containerBarcodesNonPrimary,onUserInput:this.props.setContainerData,required:!0,value:this.props.container.parentContainerId});if(this.props.container.parentContainerId){var dimensionId=this.props.containersNonPrimary[this.props.container.parentContainerId].dimensionId;if(dimensionId){var dimensions=this.props.containerDimensions[dimensionId],coordinatesTotal=1;for(var dimension in dimensions)coordinatesTotal*=dimensions[dimension];for(var coordinates={},i=1;i<=coordinatesTotal;i++)this.props.containerCoordinates[this.props.container.parentContainerId]&&this.props.containerCoordinates[this.props.container.parentContainerId][i]||(coordinates[i]=i);containerDisplay=React.createElement(_containerDisplay2.default,{dimensions:this.props.containerDimensions[this.props.containersNonPrimary[this.props.container.parentContainerId].dimensionId],coordinates:this.props.containerCoordinates[this.props.container.parentContainerId],containerTypes:this.props.containerTypes,containerStati:this.props.containerStati,select:!0,selectedCoordinate:this.props.container.coordinate,setContainerData:this.props.setContainerData})}}var updateButton=void 0;return(this.props.data||{}).container&&(updateButton=React.createElement("div",null,React.createElement("br",null),React.createElement(ButtonElement,{label:"Update"}))),React.createElement(FormElement,{onSubmit:this.props.saveContainer},parentContainerField,containerDisplay,updateButton)}}]),ContainerParentForm}(React.Component);ContainerParentForm.propTypes={mapFormOptions:React.PropTypes.func.isRequired,setContainerData:React.PropTypes.func.isRequired,saveContainer:React.PropTypes.func,data:React.PropTypes.object,container:React.PropTypes.object.isRequired,containersNonPrimary:React.PropTypes.object.isRequired,containerDimensions:React.PropTypes.object.isRequired,containerCoordinates:React.PropTypes.object.isRequired,containerTypes:React.PropTypes.object,containerStati:React.PropTypes.object},exports.default=ContainerParentForm},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ContainerDisplay=function(_React$Component){function ContainerDisplay(){_classCallCheck(this,ContainerDisplay);var _this=_possibleConstructorReturn(this,(ContainerDisplay.__proto__||Object.getPrototypeOf(ContainerDisplay)).call(this));return _this.redirectURL=_this.redirectURL.bind(_this),_this.drag=_this.drag.bind(_this),_this.drop=_this.drop.bind(_this),_this}return _inherits(ContainerDisplay,_React$Component),_createClass(ContainerDisplay,[{key:"componentDidMount",value:function(){$('[data-toggle="tooltip"]').tooltip()}},{key:"componenDidUpdate",value:function(){$('[data-toggle="tooltip"]').tooltip()}},{key:"redirectURL",value:function(e){var coordinate=e.target.id;if(this.props.coordinates[coordinate]){var type=this.props.types[this.props.children[this.props.coordinates[coordinate]].typeId].primary?"specimen":"container",url=loris.BaseURL+"/biobank/"+type+"/?barcode="+this.props.children[this.props.coordinates[coordinate]].barcode;window.location.href=url}}},{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"drag",value:function(e){var container=JSON.stringify(this.props.children[this.props.coordinates[e.target.id]]);e.dataTransfer.setData("text/plain",container)}},{key:"drop",value:function(e){e.preventDefault();var container=JSON.parse(e.dataTransfer.getData("text/plain")),newCoordinate=parseInt(e.target.id);container.coordinate=newCoordinate,this.props.saveChildContainer(container)}},{key:"render",value:function(){var _this2=this,column=[],row=[],display=void 0,coordinate=1;if(this.props.dimensions){for(var y=0;y<this.props.dimensions.y;y++){column=[];for(var x=1;x<=this.props.dimensions.x;x++){var nodeWidth=500/this.props.dimensions.x-500/this.props.dimensions.x*.08,nodeStyle={width:nodeWidth},nodeClass="node",tooltipTitle=null,dataHtml="false",dataToggle=null,dataPlacement=null,draggable="false",onDragStart=null,onDragOver=this.allowDrop,onDrop=this.drop,onClick=null;this.props.select||this.props.coordinates&&this.props.coordinates[coordinate]&&(nodeClass="node occupied",dataHtml="true",dataToggle="tooltip",dataPlacement="top",tooltipTitle="<h5>"+this.props.children[this.props.coordinates[coordinate]].barcode+"</h5><h5>"+this.props.containerTypes[this.props.children[this.props.coordinates[coordinate]].typeId].label+"</h5><h5>"+this.props.containerStati[this.props.children[this.props.coordinates[coordinate]].statusId].status+"</h5>",draggable="true",onDragStart=this.drag,onDragOver=null,onDrop=null,onClick=this.redirectURL),this.props.select&&(coordinate==this.props.selectedCoordinate?nodeClass="node occupied":this.props.coordinates?this.props.coordinates&&(this.props.coordinates[coordinate]?this.props.coordinates[coordinate]:(nodeClass="node available",
onClick=function(e){return _this2.props.setContainerData("coordinate",e.target.id)})):(nodeClass="node available",onClick=function(e){return _this2.props.setContainerData("coordinate",e.target.id)}));var coordinateDisplay=void 0;coordinateDisplay=x+this.props.dimensions.x*y,column.push(React.createElement("div",{id:coordinate,className:nodeClass,"data-html":dataHtml,"data-toggle":dataToggle,"data-placement":dataPlacement,"data-original-title":tooltipTitle,style:nodeStyle,onClick:onClick,draggable:draggable,onDragStart:onDragStart,onDragOver:onDragOver,onDrop:onDrop},coordinateDisplay)),coordinate++}var rowHeight=500/this.props.dimensions.y-500/this.props.dimensions.y*.08,rowStyle=(500/this.props.dimensions.y*.04,{height:rowHeight});row.push(React.createElement("div",{className:"row",style:rowStyle},column))}display=row}return React.createElement("div",{className:"display"},display)}}]),ContainerDisplay}(React.Component);ContainerDisplay.propTypes={},exports.default=ContainerDisplay},,function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SpecimenPreparationForm=function(_React$Component){function SpecimenPreparationForm(){_classCallCheck(this,SpecimenPreparationForm);var _this=_possibleConstructorReturn(this,(SpecimenPreparationForm.__proto__||Object.getPrototypeOf(SpecimenPreparationForm)).call(this));return _this.getSpecimenProtocolFields=_this.getSpecimenProtocolFields.bind(_this),_this.setPreparation=_this.setPreparation.bind(_this),_this.addData=_this.addData.bind(_this),_this.setData=_this.setData.bind(_this),_this}return _inherits(SpecimenPreparationForm,_React$Component),_createClass(SpecimenPreparationForm,[{key:"setPreparation",value:function(name,value){var preparation=this.props.specimen.preparation;preparation[name]=value,this.props.setSpecimenData("preparation",preparation)}},{key:"addData",value:function(){var preparation=this.props.specimen.preparation;preparation.data={},this.props.setSpecimenData("preparation",preparation)}},{key:"setData",value:function(name,value){var data=this.props.specimen.preparation.data;data[name]=value,this.setPreparation("data",data)}},{key:"getSpecimenProtocolFields",value:function(fieldsObject){var _this2=this,specimenProtocolFields=Object.keys(fieldsObject).map(function(attribute){var datatype=_this2.props.attributeDatatypes[fieldsObject[attribute].datatypeId].datatype;if("text"===datatype||"number"===datatype){if(null==fieldsObject[attribute].refTableId)return React.createElement(TextboxElement,{name:attribute,label:fieldsObject[attribute].name,onUserInput:_this2.setData,required:fieldsObject[attribute].required,value:_this2.props.specimen.preparation.data[attribute]});if(null!==fieldsObject[attribute].refTableId)return React.createElement(SelectElement,{name:attribute,label:fieldsObject[attribute].name,options:_this2.props.attributeOptions[fieldsObject[attribute].refTableId],onUserInput:_this2.setData,required:fieldsObject[attribute].required,value:_this2.props.specimen.preparation.data[attribute]})}if("datetime"===datatype)return React.createElement(DateElement,{name:attribute,label:fieldsObject[attribute].name,onUserInput:_this2.setData,ref:attribute,required:fieldsObject[attribute].required,value:_this2.props.specimen.preparation.data[attribute]})});return specimenProtocolFields}},{key:"render",value:function(){var submitButton=void 0;submitButton=this.props.data.specimen.preparation?React.createElement(ButtonElement,{label:"Update"}):React.createElement(ButtonElement,{label:"Submit"});var specimenProtocolFields=void 0;if(this.props.specimen.preparation.protocolId){var specimenProtocolFieldsObject=this.props.specimenProtocolAttributes[this.props.specimen.preparation.protocolId];specimenProtocolFieldsObject&&(this.props.specimen.preparation.data?specimenProtocolFields=this.getSpecimenProtocolFields(specimenProtocolFieldsObject):this.addData())}return React.createElement(FormElement,{name:"specimenPreparation",onSubmit:this.props.saveSpecimen,ref:"form"},React.createElement(SelectElement,{name:"protocolId",label:"Protocol",options:this.props.specimenProtocols,onUserInput:this.setPreparation,required:!0,value:this.props.specimen.preparation.protocolId}),specimenProtocolFields,React.createElement(DateElement,{name:"date",label:"Date",onUserInput:this.setPreparation,required:!0,value:this.props.specimen.preparation.date}),React.createElement(TimeElement,{name:"time",label:"Time",onUserInput:this.setPreparation,required:!0,value:this.props.specimen.preparation.time}),React.createElement(TextareaElement,{name:"comments",label:"Comments",onUserInput:this.setPreparation,value:this.props.specimen.preparation.comments}),submitButton)}}]),SpecimenPreparationForm}(React.Component);SpecimenPreparationForm.propTypes={},exports.default=SpecimenPreparationForm},,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Modal=__webpack_require__(14),_Modal2=_interopRequireDefault(_Modal),FormModal=function(_React$Component){function FormModal(props){_classCallCheck(this,FormModal);var _this=_possibleConstructorReturn(this,(FormModal.__proto__||Object.getPrototypeOf(FormModal)).call(this,props));return _this.state={show:!1,throwWarning:!1},_this.openModal=_this.openModal.bind(_this),_this.closeModal=_this.closeModal.bind(_this),_this.confirmClose=_this.confirmClose.bind(_this),_this.setWarning=_this.setWarning.bind(_this),_this}return _inherits(FormModal,_React$Component),_createClass(FormModal,[{key:"renderChildren",value:function(){var _this2=this;return React.Children.map(this.props.children,function(child){return React.cloneElement(child,{onSuccess:_this2.closeModal,onChange:_this2.setWarning})})}},{key:"openModal",value:function(){this.setState({show:!0})}},{key:"setWarning",value:function(){this.setState({throwWarning:!0})}},{key:"confirmClose",value:function(){this.state.throwWarning?swal({title:"Are You Sure?",text:"Leaving the form will result in the loss of any information entered.",type:"warning",showCancelButton:!0,confirmButtonText:"Proceed",cancelButtonText:"Cancel"},function(){this.closeModal()}.bind(this)):this.closeModal()}},{key:"closeModal",value:function(){this.setState({show:!1,throwWarning:!1})}},{key:"render",value:function(){return React.createElement(_Modal2.default,_extends({closeModal:this.confirmClose,openModal:this.openModal,show:this.state.show},this.props),this.renderChildren())}}]),FormModal}(React.Component);FormModal.propTypes={title:React.PropTypes.string,buttonClass:React.PropTypes.string,buttonStyle:React.PropTypes.object,buttonContent:React.PropTypes.object},FormModal.defaultProps={buttonClass:"btn btn-primary"},exports.default=FormModal},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Modal=function(_React$Component){function Modal(props){return _classCallCheck(this,Modal),_possibleConstructorReturn(this,(Modal.__proto__||Object.getPrototypeOf(Modal)).call(this,props))}return _inherits(Modal,_React$Component),_createClass(Modal,[{key:"render",value:function(){var modal,backdropStyle={position:"fixed",zIndex:9998,top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0,0,0,0.3)",padding:50},modalStyle={position:"relative",maxWidth:1e3,maxHeight:"100%",margin:"0 auto",backgroundColor:"#fff",borderRadius:10,overflowY:"auto",zIndex:9999},titleStyle={display:"flex",flexDirection:"row",alignItems:"center",background:"#093782",height:"70px",borderTopRightRadius:"10",color:"#FFFFFF",fontSize:24,padding:20},glyphStyle={marginLeft:"auto",cursor:"pointer"},bodyStyle={padding:15},button=React.createElement("div",{className:this.props.buttonClass,onClick:this.props.openModal},this.props.buttonContent);return this.props.show&&(modal=React.createElement("div",{style:backdropStyle,onClick:this.props.closeModal},React.createElement("div",{style:modalStyle,onClick:function(e){e.stopPropagation()}},React.createElement("div",{style:titleStyle},this.props.title,React.createElement("span",{style:glyphStyle,onClick:this.props.closeModal},"Ã—")),React.createElement("div",{style:bodyStyle},this.props.children)))),React.createElement("div",{style:this.props.style},button,modal)}}]),Modal}(React.Component);Modal.propTypes={title:React.PropTypes.string,buttonClass:React.PropTypes.string,buttonStyle:React.PropTypes.object,buttonContent:React.PropTypes.object,show:React.PropTypes.boolean,closeModal:React.PropTypes.func,openModal:React.PropTypes.func},Modal.defaultProps={buttonClass:"btn btn-primary"},exports.default=Modal},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Loader=function(_React$Component){function Loader(props){return _classCallCheck(this,Loader),_possibleConstructorReturn(this,(Loader.__proto__||Object.getPrototypeOf(Loader)).call(this,props))}return _inherits(Loader,_React$Component),_createClass(Loader,[{key:"render",value:function(){return React.createElement("div",{className:"loader-container"},React.createElement("div",{className:"loader"}))}}]),Loader}(React.Component);exports.default=Loader},,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_FormModal=__webpack_require__(13),_FormModal2=_interopRequireDefault(_FormModal),_quantityField=__webpack_require__(20),_quantityField2=_interopRequireDefault(_quantityField),_temperatureField=__webpack_require__(21),_temperatureField2=_interopRequireDefault(_temperatureField),_statusField=__webpack_require__(22),_statusField2=_interopRequireDefault(_statusField),_locationField=__webpack_require__(23),_locationField2=_interopRequireDefault(_locationField),_containerParentForm=__webpack_require__(6),_containerParentForm2=_interopRequireDefault(_containerParentForm),Globals=function(_React$Component){function Globals(){_classCallCheck(this,Globals);var _this=_possibleConstructorReturn(this,(Globals.__proto__||Object.getPrototypeOf(Globals)).call(this));return _this.increaseCycle=_this.increaseCycle.bind(_this),_this.decreaseCycle=_this.decreaseCycle.bind(_this),_this}return _inherits(Globals,_React$Component),_createClass(Globals,[{key:"increaseCycle",value:function(){var cycle=this.props.specimen.fTCycle;cycle++,this.props.setSpecimenData("fTCycle",cycle),this.props.saveSpecimen()}},{key:"decreaseCycle",value:function(){var cycle=this.props.specimen.fTCycle;cycle--,this.props.setSpecimenData("fTCycle",cycle),this.props.saveSpecimen()}},{key:"render",value:function(){var _this2=this,specimenTypeField=void 0;this.props.data.specimen&&(specimenTypeField=React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Specimen Type",React.createElement("div",{className:"value"},this.props.options.specimenTypes[this.props.data.specimen.typeId].type))));var containerTypeField=React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Container Type",React.createElement("div",{className:"value"},this.props.options.containerTypes[this.props.data.container.typeId].label))),quantityField=void 0;if(this.props.data.specimen)if(this.props.edit.quantity){var units=this.props.mapFormOptions(this.props.options.specimenTypeUnits[this.props.data.specimen.typeId],"unit");quantityField=React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Quantity",React.createElement(_quantityField2.default,{className:"centered-horizontal",specimen:this.props.specimen,units:units,toggle:function(){return _this2.props.toggle("quantity")},setSpecimenData:this.props.setSpecimenData,revertSpecimenData:this.props.revertSpecimenData,saveSpecimen:this.props.saveSpecimen})))}else quantityField=React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Quantity",React.createElement("div",{className:"value"},this.props.data.specimen.quantity," "+this.props.options.specimenUnits[this.props.data.specimen.unitId].unit)),React.createElement("div",{className:"action",title:"Update Quantity"},React.createElement("div",{className:"action-button update",onClick:function(){return _this2.props.toggle("quantity")}},React.createElement("span",{className:"glyphicon glyphicon-chevron-right"}))));var fTCycleField=void 0;if(void 0!==(this.props.data.specimen||{}).fTCycle){var decreaseCycle=void 0;this.props.data.specimen.fTCycle>0&&(decreaseCycle=React.createElement("div",{className:"action",title:"Remove Cycle"},React.createElement("span",{className:"action-button update",onClick:this.decreaseCycle},React.createElement("span",{className:"glyphicon glyphicon-minus"})))),fTCycleField=React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Freeze-Thaw Cycle",React.createElement("div",{className:"value"},this.props.data.specimen.fTCycle)),decreaseCycle,React.createElement("div",{className:"action",title:"Add Cycle"},React.createElement("span",{className:"action-button update",onClick:this.increaseCycle},React.createElement("span",{className:"glyphicon glyphicon-plus"}))))}var temperatureField=void 0;temperatureField=this.props.edit.temperature?React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Temperature",React.createElement(_temperatureField2.default,{className:"centered-horizontal",container:this.props.container,toggle:function(){return _this2.props.toggle("temperature")},setContainerData:this.props.setContainerData,revertContainerData:this.props.revertContainerData,saveContainer:this.props.saveContainer}))):React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Temperature",React.createElement("div",{className:"value"},this.props.data.container.temperature+"Â°C")),React.createElement("div",{className:"action",title:"Update Temperature"},React.createElement("span",{className:"action-button update",onClick:function(){return _this2.props.toggle("temperature")}},React.createElement("span",{className:"glyphicon glyphicon-chevron-right"}))));var statusField=void 0;if(this.props.edit.status){var stati=this.props.mapFormOptions(this.props.options.containerStati,"status");statusField=React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Status",React.createElement(_statusField2.default,{className:"centered-horizontal",container:this.props.container,stati:stati,toggle:function(){return _this2.props.toggle("status")},setContainerData:this.props.setContainerData,revertContainerData:this.props.revertContainerData,saveContainer:this.props.saveContainer})))}else statusField=React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Status",React.createElement("div",{className:"value"},this.props.options.containerStati[this.props.data.container.statusId].status)),React.createElement("div",{className:"action",title:"Update Status"},React.createElement("span",{className:"action-button update",onClick:function(){return _this2.props.toggle("status")}},React.createElement("span",{className:"glyphicon glyphicon-chevron-right"}))));var locationField=void 0;locationField=this.props.edit.location?React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Location",React.createElement(_locationField2.default,{className:"centered-horizontal",container:this.props.container,centers:this.props.options.centers,toggle:function(){return _this2.props.toggle("location")},setContainerData:this.props.setContainerData,revertContainerData:this.props.revertContainerData,saveContainer:this.props.saveContainer}))):React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Location",React.createElement("div",{className:"value"},this.props.options.centers[this.props.data.container.locationId])),React.createElement("div",{className:"action",title:"Update Status"},React.createElement("span",{className:"action-button update",onClick:function(){return _this2.props.toggle("location")}},React.createElement("span",{className:"glyphicon glyphicon-chevron-right"}))));var originField=React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Origin",React.createElement("div",{className:"value"},this.props.options.centers[this.props.data.container.originId]))),parentSpecimenField=(React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Creation Date",React.createElement("div",{className:"value"},this.props.data.container.dateTimeCreate))),void 0);if((this.props.data.specimen||{}).parentSpecimenId){var specimenURL=loris.BaseURL="/biobank/specimen/?barcode=",parentSpecimenFieldValue=React.createElement("a",{href:specimenURL+this.props.data.parentSpecimenContainer.barcode},this.props.data.parentSpecimenContainer.barcode);parentSpecimenField=React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Parent Specimen",React.createElement("div",{className:"value"},parentSpecimenFieldValue||"None")))}var parentContainerBarcodeValue=void 0;if(this.props.data.container.parentContainerId){var containerURL=loris.BaseURL+"/biobank/container/?barcode=";parentContainerBarcodeValue=React.createElement("div",null,React.createElement("a",{href:containerURL+this.props.options.containersNonPrimary[this.props.data.container.parentContainerId].barcode},this.props.options.containersNonPrimary[this.props.data.container.parentContainerId].barcode))}var parentContainerField=React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"Parent Container",React.createElement("div",{className:"value"},parentContainerBarcodeValue||"None"),parentContainerBarcodeValue&&this.props.data.container.coordinate?"Coordinate "+this.props.data.container.coordinate:null),React.createElement("div",{className:"action",title:"Move Container"},React.createElement(_FormModal2.default,{title:"Update Parent Container",buttonClass:"action-button update",buttonContent:React.createElement("span",{className:"glyphicon glyphicon-chevron-right"})},React.createElement(_containerParentForm2.default,{data:this.props.data,container:this.props.container,containersNonPrimary:this.props.options.containersNonPrimary,containerDimensions:this.props.options.containerDimensions,containerCoordinates:this.props.options.containerCoordinates,containerTypes:this.props.options.containerTypes,containerStati:this.props.options.containerStati,mapFormOptions:this.props.mapFormOptions,setContainerData:this.props.setContainerData,revertContainerData:this.props.revertContainerData,saveContainer:this.props.saveContainer})))),candidateSessionField=void 0;this.props.data.specimen&&(candidateSessionField=React.createElement("div",{className:"item"},React.createElement("div",{className:"field"},"PSCID",React.createElement("div",{className:"value"},React.createElement("a",{href:loris.BaseURL+"/"+this.props.data.specimen.candidateId},this.props.data.candidate.PSCID))),React.createElement("div",{className:"field"},"Visit Label",React.createElement("div",{className:"value"},React.createElement("a",{href:loris.BaseURL+"/instrument_list/?candID="+this.props.data.specimen.candidateId+"&sessionID="+this.props.data.specimen.sessionId},this.props.data.session.Visit_label)))));var fieldList=React.createElement("div",{className:"list"},specimenTypeField,containerTypeField,quantityField,fTCycleField,temperatureField,statusField,locationField,originField,parentSpecimenField,parentContainerField,candidateSessionField);return React.createElement("div",{className:"globals"},fieldList)}}]),Globals}(React.Component);Globals.propTypes={},exports.default=Globals},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),QuantityField=function(_React$Component){function QuantityField(){return _classCallCheck(this,QuantityField),_possibleConstructorReturn(this,(QuantityField.__proto__||Object.getPrototypeOf(QuantityField)).apply(this,arguments))}return _inherits(QuantityField,_React$Component),_createClass(QuantityField,[{key:"render",value:function(){var _this2=this;return React.createElement("div",{className:this.props.className},React.createElement(TextboxElement,{name:"quantity",labelClass:"col-xl-0",inputClass:"col-lg-12",onUserInput:this.props.setSpecimenData,value:this.props.specimen.quantity}),React.createElement(SelectElement,{name:"unit",labelClass:"col-xl-0",inputClass:"col-lg-12",options:this.props.units,onUserInput:this.props.setSpecimenData,value:this.props.specimen.unitId}),React.createElement(ButtonElement,{label:"Update",onUserInput:this.props.saveSpecimen,columnSize:"col-lg-12"}),React.createElement("a",{onClick:function(){_this2.props.toggle(),_this2.props.revertSpecimenData()}},"Cancel"))}}]),QuantityField}(React.Component);QuantityField.propTypes={setSpecimenData:React.PropTypes.func,revertSpecimenData:React.PropTypes.func,specimen:React.PropTypes.object,saveSpecimen:React.PropTypes.func,className:React.PropTypes.string},exports.default=QuantityField},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TemperatureField=function(_React$Component){function TemperatureField(){return _classCallCheck(this,TemperatureField),_possibleConstructorReturn(this,(TemperatureField.__proto__||Object.getPrototypeOf(TemperatureField)).apply(this,arguments))}return _inherits(TemperatureField,_React$Component),_createClass(TemperatureField,[{key:"render",value:function(){var _this2=this;return React.createElement("div",{className:this.props.className},React.createElement("div",{className:"col-xs-6"},React.createElement(TextboxElement,{name:"temperature",labelClass:"col-xl-0",inputClass:"col-lg-12",onUserInput:this.props.setContainerData,value:this.props.container.temperature})),React.createElement("div",{className:"col-xs-3"},React.createElement(ButtonElement,{label:"Update",onUserInput:this.props.saveContainer,columnSize:"col-lg-12"})),React.createElement("div",{className:"col-xs-3"},React.createElement("a",{onClick:function(){_this2.props.toggle(),_this2.props.revertContainerData()}},"Cancel")))}}]),TemperatureField}(React.Component);TemperatureField.propTypes={setContainerData:React.PropTypes.func.isRequired,revertContainerData:React.PropTypes.func.isRequired,container:React.PropTypes.object.isRequired,saveContainer:React.PropTypes.func.isRequired,className:React.PropTypes.string},exports.default=TemperatureField},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");
}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),StatusField=function(_React$Component){function StatusField(){return _classCallCheck(this,StatusField),_possibleConstructorReturn(this,(StatusField.__proto__||Object.getPrototypeOf(StatusField)).apply(this,arguments))}return _inherits(StatusField,_React$Component),_createClass(StatusField,[{key:"render",value:function(){var _this2=this;return React.createElement("div",{className:this.props.className},React.createElement("div",{className:"col-xs-6"},React.createElement(SelectElement,{name:"statusId",options:this.props.stati,labelClass:"col-xl-0",inputClass:"col-lg-12",onUserInput:this.props.setContainerData,value:this.props.container.statusId})),React.createElement("div",{className:"col-xs-3"},React.createElement(ButtonElement,{label:"Update",onUserInput:this.props.saveContainer,columnSize:"col-lg-12"})),React.createElement("div",{className:"col-xs-3"},React.createElement("a",{onClick:function(){_this2.props.revertContainerData(),_this2.props.toggle()}},"Cancel")))}}]),StatusField}(React.Component);StatusField.propTypes={setContainerData:React.PropTypes.func.isRequired,revertContainerData:React.PropTypes.func.isRequired,stati:React.PropTypes.object.isRequired,container:React.PropTypes.object.isRequired,saveContainer:React.PropTypes.func.isRequired,className:React.PropTypes.string},exports.default=StatusField},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),LocationField=function(_React$Component){function LocationField(){return _classCallCheck(this,LocationField),_possibleConstructorReturn(this,(LocationField.__proto__||Object.getPrototypeOf(LocationField)).apply(this,arguments))}return _inherits(LocationField,_React$Component),_createClass(LocationField,[{key:"render",value:function(){var _this2=this;return React.createElement("div",{className:this.props.className},React.createElement("div",{className:"col-xs-6"},React.createElement(SelectElement,{name:"locationId",options:this.props.centerIds,labelClass:"col-xl-0",inputClass:"col-lg-12",onUserInput:this.props.setContainerData,value:this.props.container.locationId})),React.createElement("div",{className:"col-xs-3"},React.createElement(ButtonElement,{label:"Update",onUserInput:this.props.saveContainer,columnSize:"col-lg-12"})),React.createElement("div",{className:"col-xs-3"},React.createElement("a",{onClick:function(){_this2.props.revertContainerData(),_this2.props.toggle()}},"Cancel")))}}]),LocationField}(React.Component);LocationField.propTypes={setContainerData:React.PropTypes.func.isRequired,revertContainerData:React.PropTypes.func.isRequired,centerIds:React.PropTypes.object.isRequired,container:React.PropTypes.object.isRequired,saveContainer:React.PropTypes.func.isRequired,className:React.PropTypes.string},exports.default=LocationField},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),LifeCycle=function(_React$Component){function LifeCycle(props){_classCallCheck(this,LifeCycle);var _this=_possibleConstructorReturn(this,(LifeCycle.__proto__||Object.getPrototypeOf(LifeCycle)).call(this,props));return _this.state={},_this}return _inherits(LifeCycle,_React$Component),_createClass(LifeCycle,[{key:"componentDidMount",value:function(){}},{key:"mouseOver",value:function(e){$(".collection").css({border:"2px solid #093782","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"})}},{key:"mouseLeave",value:function(e){$(".collection").css({border:"2px solid #A6D3F5","box-shadow":"none"})}},{key:"mouseOverPreparation",value:function(e){$(".preparation").css({border:"2px solid #093782","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"})}},{key:"mouseLeavePreparation",value:function(e){$(".preparation").css({border:"2px solid #A6D3F5","box-shadow":"none"})}},{key:"render",value:function(){var _this2=this,collectionNode=void 0,collectionTooltip=void 0;(this.props.collection||this.props.container)&&(collectionTooltip=React.createElement("div",null,React.createElement("h",null,"Collection"),React.createElement("p",null,"Date:")),collectionNode=React.createElement("div",{onMouseEnter:function(e){return _this2.mouseOver(e)},onMouseLeave:function(e){return _this2.mouseLeave(e)},className:"lifecycle-node collection"},React.createElement("div",{className:"letter"},"C")));var preparationNode=void 0;this.props.preparation&&(preparationNode=React.createElement("div",{onMouseEnter:this.mouseOverPreparation,onMouseLeave:this.mouseLeavePreparation,className:"lifecycle-node preparation"},React.createElement("div",{className:"letter"},"P")));var analysisNode=void 0;this.props.analysis&&(analysisNode=React.createElement("div",{className:"lifecycle-node-container"},React.createElement("div",{className:"lifecycle-node"}),React.createElement("div",{className:"lifecycle-text"},"Analysis")));var line=void 0;return line=React.createElement("div",{className:"lifecycle-line"}),React.createElement("div",{className:"lifecycle"},React.createElement("div",{className:"lifecycle-graphic"},collectionNode,preparationNode?line:null,preparationNode,analysisNode))}}]),LifeCycle}(React.Component);LifeCycle.propTypes={},exports.default=LifeCycle},,function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ContainerCheckout=function(_React$Component){function ContainerCheckout(){_classCallCheck(this,ContainerCheckout);var _this=_possibleConstructorReturn(this,(ContainerCheckout.__proto__||Object.getPrototypeOf(ContainerCheckout)).call(this));return _this.checkoutContainer=_this.checkoutContainer.bind(_this),_this}return _inherits(ContainerCheckout,_React$Component),_createClass(ContainerCheckout,[{key:"checkoutContainer",value:function(){this.props.setContainerData("parentContainerId",null),this.props.setContainerData("coordinate",null),this.props.saveContainer()}},{key:"render",value:function(){var checkoutButton=void 0;return this.props.container.parentContainerId&&(checkoutButton=React.createElement("div",{className:"action-button update",title:"Checkout Container",onClick:this.checkoutContainer},React.createElement("span",{className:"glyphicon glyphicon-share"}))),React.createElement("div",null,checkoutButton)}}]),ContainerCheckout}(React.Component);ContainerCheckout.propTypes={container:React.PropTypes.object.isRequired,setContainerData:React.PropTypes.func.isRequired,saveContainer:React.PropTypes.func.isRequired},exports.default=ContainerCheckout},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_FormModal=__webpack_require__(13),_FormModal2=_interopRequireDefault(_FormModal),_Loader=__webpack_require__(15),_Loader2=_interopRequireDefault(_Loader),_globals=__webpack_require__(19),_globals2=_interopRequireDefault(_globals),_collectionForm=__webpack_require__(5),_collectionForm2=_interopRequireDefault(_collectionForm),_preparationForm=__webpack_require__(9),_preparationForm2=_interopRequireDefault(_preparationForm),_analysisForm=__webpack_require__(28),_analysisForm2=_interopRequireDefault(_analysisForm),_specimenForm=__webpack_require__(3),_specimenForm2=_interopRequireDefault(_specimenForm),_lifeCycle=__webpack_require__(24),_lifeCycle2=_interopRequireDefault(_lifeCycle),_containerCheckout=__webpack_require__(26),_containerCheckout2=_interopRequireDefault(_containerCheckout),BiobankSpecimen=function(_React$Component){function BiobankSpecimen(){_classCallCheck(this,BiobankSpecimen);var _this=_possibleConstructorReturn(this,(BiobankSpecimen.__proto__||Object.getPrototypeOf(BiobankSpecimen)).call(this));return _this.state={data:{},isLoaded:!1,loadedData:0,edit:{temperature:!1,quantity:!1,collection:!1,preparation:!1,analysis:!1}},_this.fetchSpecimenData=_this.fetchSpecimenData.bind(_this),_this.fetchOptions=_this.fetchOptions.bind(_this),_this.toggle=_this.toggle.bind(_this),_this.toggleAll=_this.toggleAll.bind(_this),_this.mapFormOptions=_this.mapFormOptions.bind(_this),_this.setContainerData=_this.setContainerData.bind(_this),_this.revertContainerData=_this.revertContainerData.bind(_this),_this.setSpecimenData=_this.setSpecimenData.bind(_this),_this.addPreparation=_this.addPreparation.bind(_this),_this.revertSpecimenData=_this.revertSpecimenData.bind(_this),_this.saveContainer=_this.saveContainer.bind(_this),_this.saveSpecimen=_this.saveSpecimen.bind(_this),_this.submit=_this.submit.bind(_this),_this}return _inherits(BiobankSpecimen,_React$Component),_createClass(BiobankSpecimen,[{key:"componentDidMount",value:function(){this.fetchSpecimenData(),this.fetchOptions()}},{key:"fetchSpecimenData",value:function(){var self=this;$.ajax(this.props.specimenPageDataURL,{dataType:"json",success:function(data){var specimen=JSON.parse(JSON.stringify(data.specimen)),container=JSON.parse(JSON.stringify(data.container));self.setState({data:data,container:container,specimen:specimen,isLoaded:!0})},error:function(_error,errorCode,errorMsg){console.error(_error,errorCode,errorMsg),self.setState({error:"An error occurred when loading the form!"})}})}},{key:"fetchOptions",value:function(){var self=this;$.ajax(this.props.optionsURL,{dataType:"json",success:function(data){self.setState({options:data})},error:function(_error2,errorCode,errorMsg){console.error(_error2,errorCode,errorMsg),self.setState({error:"An error occurred when loading the form!"})}})}},{key:"saveContainer",value:function(){var _this2=this,container=JSON.parse(JSON.stringify(this.state.container));this.submit(container,this.props.saveContainer,"Container Save Successful!").then(function(){var data=_this2.state.data;data.container=JSON.parse(JSON.stringify(_this2.state.container)),_this2.setState({data:data})})}},{key:"saveSpecimen",value:function(){var _this3=this,specimen=JSON.parse(JSON.stringify(this.state.specimen));this.submit(specimen,this.props.saveSpecimen,"Specimen Save Successful!").then(function(){var data=_this3.state.data;data.specimen=JSON.parse(JSON.stringify(_this3.state.specimen)),_this3.setState({data:data})})}},{key:"submit",value:function(data,url,message){var _this4=this;return console.log(data),new Promise(function(resolve){$.ajax({type:"POST",url:url,data:{data:JSON.stringify(data)},cache:!1,success:function(){resolve(),_this4.toggleAll(),_this4.props.onSuccess instanceof Function&&_this4.props.onSuccess(),swal(message,"","success")},error:function(_error3){var message=_error3.responseJSON?_error3.responseJSON.message:"Submission error!";_this4.setState({errorMessage:message}),swal(message,"","error"),console.error(_error3)}})})}},{key:"toggle",value:function(stateKey){var edit=this.state.edit,stateValue=edit[stateKey];edit[stateKey]=!stateValue,this.setState({edit:edit})}},{key:"toggleAll",value:function(){var edit=this.state.edit;for(var key in edit)edit[key]=!1;this.setState({edit:edit})}},{key:"mapFormOptions",value:function(rawObject,targetAttribute){var data={};for(var id in rawObject)data[id]=rawObject[id][targetAttribute];return data}},{key:"setContainerData",value:function(name,value){var container=this.state.container;null!==value?container[name]=value:delete container[name],this.setState({container:container})}},{key:"revertContainerData",value:function(){var container=this.state.container;container=JSON.parse(JSON.stringify(this.state.data.container)),this.setState({container:container})}},{key:"setSpecimenData",value:function(name,value){var specimen=this.state.specimen;specimen[name]=value,this.setState({specimen:specimen})}},{key:"addPreparation",value:function(){var specimen=this.state.specimen;specimen.preparation={locationId:this.state.data.container.locationId},this.setState({specimen:specimen})}},{key:"addAnalysis",value:function(){var specimen=this.state.specimen;specimen.analysis={locationId:this.state.data.container.locationId},this.setState({specimen:specimen})}},{key:"revertSpecimenData",value:function(){var specimen=this.state.specimen;specimen=JSON.parse(JSON.stringify(this.state.data.specimen)),this.setState({specimen:specimen})}},{key:"render",value:function(){var _this5=this;if(void 0!==this.state.error)return React.createElement("div",{className:"alert alert-danger text-center"},React.createElement("strong",null,this.state.error));if(!this.state.isLoaded)return React.createElement(_Loader2.default,null);var addAliquotForm=void 0,addAliquotButtonContent=React.createElement("span",null,"+"),specimenUnits=this.mapFormOptions(this.state.options.specimenUnits,"unit"),containerTypesPrimary=this.mapFormOptions(this.state.options.containerTypesPrimary,"label"),containerStati=this.mapFormOptions(this.state.options.containerStati,"status"),candidates=this.mapFormOptions(this.state.options.candidates,"pscid"),sessions=this.mapFormOptions(this.state.options.sessions,"label");addAliquotForm=React.createElement("div",{title:"Make Aliquots"},React.createElement(_FormModal2.default,{title:"Add Aliquots",buttonClass:"action-button add",buttonContent:addAliquotButtonContent},React.createElement(_specimenForm2.default,{data:this.state.data,specimen:this.state.specimen,setSpecimenData:this.setSpecimenData,saveSpecimen:this.saveSpecimen,candidates:candidates,sessions:sessions,specimenTypes:this.state.options.specimenTypes,specimenUnits:specimenUnits,specimenTypeUnits:this.state.options.specimenTypeUnits,specimenTypeAttributes:this.state.options.specimenTypeAttributes,attributeOptions:this.state.options.attributeOptions,attributeDatatypes:this.state.options.attributeDatatypes,containerTypesPrimary:containerTypesPrimary,containersNonPrimary:this.state.options.containersNonPrimary,containerDimensions:this.state.options.containerDimensions,containerCoordinates:this.state.options.containerCoordinates,containerStati:containerStati,refreshParent:this.fetchSpecimenData,mapFormOptions:this.mapFormOptions,saveBarcodeList:loris.BaseURL+"/biobank/ajax/submitData.php?action=saveBarcodeList"})));var collectionPanel=void 0,collectionPanelForm=void 0,cancelEditCollectionButton=void 0;if(this.state.edit.collection){var _containerTypesPrimary=this.mapFormOptions(this.state.options.containerTypesPrimary,"label");collectionPanelForm=React.createElement(_collectionForm2.default,{specimen:this.state.specimen,data:this.state.data,specimenTypeAttributes:this.state.options.specimenTypeAttributes,attributeDatatypes:this.state.options.attributeDatatypes,attributeOptions:this.state.options.attributeOptions,containerTypesPrimary:_containerTypesPrimary,specimenTypeUnits:this.state.options.specimenTypeUnits,toggle:function(){return _this5.toggle("collection")},setSpecimenData:this.setSpecimenData,revertSpecimenData:this.revertSpecimenData,saveSpecimen:this.saveSpecimen}),cancelEditCollectionButton=React.createElement("a",{className:"pull-right",style:{cursor:"pointer"},onClick:function(){return _this5.toggle("collection")}},"Cancel")}else{var dataObject=void 0,specimenTypeAttributes=void 0;this.state.data.specimen.collection.data&&(dataObject=this.state.data.specimen.collection.data,specimenTypeAttributes=Object.keys(dataObject).map(function(key){return React.createElement(StaticElement,{label:_this5.state.options.specimenTypeAttributes[_this5.state.data.specimen.typeId][key].name,text:dataObject[key]})})),collectionPanelForm=React.createElement(FormElement,null,React.createElement(StaticElement,{label:"Quantity",text:this.state.data.specimen.collection.quantity+" "+this.state.options.specimenUnits[this.state.data.specimen.collection.unitId].unit}),React.createElement(StaticElement,{label:"Location",text:this.state.options.centers[this.state.data.specimen.collection.locationId]}),specimenTypeAttributes,React.createElement(StaticElement,{label:"Date",text:this.state.data.specimen.collection.date}),React.createElement(StaticElement,{label:"Time",text:this.state.data.specimen.collection.time}),React.createElement(StaticElement,{label:"Comments",text:this.state.data.specimen.collection.comments}))}collectionPanel=React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading"},React.createElement("div",{className:"lifecycle-node collection"},React.createElement("div",{className:"letter"},"C")),React.createElement("div",{className:"title"},"Collection"),React.createElement("span",{className:this.state.edit.collection?null:"glyphicon glyphicon-pencil",onClick:this.state.edit.collection?null:function(){return _this5.toggle("collection")}})),React.createElement("div",{className:"panel-body"},collectionPanelForm,cancelEditCollectionButton));var preparationPanel=void 0,preparationForm=void 0,cancelEditPreparationButton=void 0,specimenProtocols={},specimenProtocolAttributes={};for(var id in this.state.options.specimenProtocols)this.state.options.specimenProtocols[id].typeId===this.state.data.specimen.typeId&&(specimenProtocols[id]=this.state.options.specimenProtocols[id].protocol,specimenProtocolAttributes[id]=this.state.options.specimenProtocolAttributes[id]);if(this.state.edit.preparation&&(preparationForm=React.createElement(_preparationForm2.default,{specimen:this.state.specimen,data:this.state.data,specimenProtocols:specimenProtocols,specimenProtocolAttributes:specimenProtocolAttributes,attributeDatatypes:this.state.options.attributeDatatypes,attributeOptions:this.state.options.attributeOptions,setSpecimenData:this.setSpecimenData,revertSpecimenData:this.revertSpecimenData,saveSpecimen:this.saveSpecimen}),cancelEditPreparationButton=React.createElement("a",{className:"pull-right",style:{cursor:"pointer"},onClick:function(){_this5.toggle("preparation"),_this5.revertSpecimenData()}},"Cancel")),this.state.data.specimen.preparation&&!this.state.edit.preparation){var _dataObject=this.state.data.specimen.preparation.data;_dataObject&&(specimenProtocolAttributes=Object.keys(_dataObject).map(function(key){return React.createElement(StaticElement,{label:_this5.state.options.specimenProtocolAttributes[_this5.state.data.specimen.preparation.protocolId][key].name,text:_dataObject[key]})})),preparationForm=React.createElement(FormElement,null,React.createElement(StaticElement,{label:"Protocol",text:this.state.options.specimenProtocols[this.state.data.specimen.preparation.protocolId].protocol}),React.createElement(StaticElement,{label:"Location",text:this.state.options.centers[this.state.data.specimen.preparation.locationId]}),specimenProtocolAttributes,React.createElement(StaticElement,{label:"Date",text:this.state.data.specimen.preparation.date}),React.createElement(StaticElement,{label:"Time",text:this.state.data.specimen.preparation.time}),React.createElement(StaticElement,{label:"Comments",text:this.state.data.specimen.preparation.comments}))}0===Object.keys(specimenProtocols).length||this.state.data.specimen.preparation||this.state.edit.preparation?(this.state.data.specimen.preparation||this.state.edit.preparation)&&(preparationPanel=React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading"},React.createElement("div",{className:"lifecycle-node preparation"},React.createElement("div",{className:"letter"},"P")),React.createElement("div",{className:"title"},"Preparation"),React.createElement("span",{className:this.state.edit.preparation?null:"glyphicon glyphicon-pencil",onClick:this.state.edit.preparation?null:function(){return _this5.toggle("preparation")}})),React.createElement("div",{className:"panel-body"},preparationForm,cancelEditPreparationButton))):preparationPanel=React.createElement("div",{className:"panel inactive"},React.createElement("div",{className:"add-process",onClick:function(){_this5.toggle("preparation"),_this5.addPreparation()}},React.createElement("span",{className:"glyphicon glyphicon-plus"})),React.createElement("div",null,"ADD PREPARATION"));var analysisPanel=void 0,analysisForm=void 0,cancelEditAnalysisButton=void 0,specimenMethods={},specimenMethodAttributes={},specimenMethodAttributeFields=void 0;for(var _id in this.state.options.specimenMethods)this.state.options.specimenMethods[_id].typeId===this.state.data.specimen.typeId&&(specimenMethods[_id]=this.state.options.specimenMethods[_id].method,specimenMethodAttributes[_id]=this.state.options.specimenMethodAttributes[_id]);if(this.state.edit.analysis&&(analysisForm=React.createElement(_analysisForm2.default,{specimen:this.state.specimen,data:this.state.data,specimenMethods:specimenMethods,specimenMethodAttributes:specimenMethodAttributes,attributeDatatypes:this.state.options.attributeDatatypes,attributeOptions:this.state.options.attributeOptions,setSpecimenData:this.setSpecimenData,revertSpecimenData:this.revertSpecimenData,saveSpecimen:this.saveSpecimen}),cancelEditAnalysisButton=React.createElement("a",{className:"pull-right",style:{cursor:"pointer"},onClick:function(){_this5.toggle("analysis"),_this5.revertSpecimenData()}},"Cancel")),this.state.data.specimen.analysis&&!this.state.edit.analysis){if(this.state.data.specimen.analysis.data){var analysisData=this.state.data.specimen.analysis.data;specimenMethodAttributeFields=Object.key(analysisData).map(function(key){return React.createElement(StaticElement,{label:_this5.state.options.specimenMethodAttributes[_this5.state.data.specimen.analysis.methodId][key].name,text:analysisData[key]})})}analysisForm=React.createElement(FormElement,null,React.createElement(StaticElement,{label:"Method",text:this.state.options.specimenMethods[this.state.data.specimen.analysis.methodId].method}),React.createElement(StaticElement,{label:"Location",text:this.state.options.centers[this.state.data.specimen.analysis.locationId]}),specimenMethodAttributeFields,React.createElement(StaticElement,{label:"Date",text:this.state.data.specimen.analysis.date}),React.createElement(StaticElement,{label:"Time",text:this.state.data.specimen.analysis.time}),React.createElement(StaticElement,{label:"Comments",text:this.state.data.specimen.analysis.comments}))}0===Object.keys(specimenMethods).length||this.state.data.specimen.analysis||this.state.edit.analysis?(this.state.data.specimen.analysis||this.state.edit.analysis)&&(analysisPanel=React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading"},React.createElement("div",{className:"lifecycle-node preparation"},React.createElement("div",{className:"letter"},"A")),React.createElement("div",{className:"title"},"Analysis"),React.createElement("span",{className:this.state.edit.analysis?null:"glyphicon glyphicon-pencil",onClick:this.state.edit.analysis?null:function(){return _this5.toggle("analysis")}})),React.createElement("div",{className:"panel-body"},analysisForm,cancelEditAnalysisButton))):analysisPanel=React.createElement("div",{className:"panel inactive"},React.createElement("div",{className:"add-process",onClick:function(){_this5.toggle("analysis"),_this5.addAnalysis()}},React.createElement("span",{className:"glyphicon glyphicon-plus"})),React.createElement("div",null,"ADD ANALYSIS"));var globals=React.createElement(_globals2.default,{specimen:this.state.specimen,container:this.state.container,data:this.state.data,options:this.state.options,edit:this.state.edit,toggle:this.toggle,mapFormOptions:this.mapFormOptions,setSpecimenData:this.setSpecimenData,revertSpecimenData:this.revertSpecimenData,saveSpecimen:this.saveSpecimen,setContainerData:this.setContainerData,revertContainerData:this.revertContainerData,saveContainer:this.saveContainer});return React.createElement("div",{id:"specimen-page"},React.createElement("div",{className:"specimen-header"},React.createElement("div",{className:"specimen-title"},React.createElement("div",{className:"barcode"},"Barcode",React.createElement("div",{className:"value"},React.createElement("strong",null,this.state.data.container.barcode))),addAliquotForm,React.createElement(_containerCheckout2.default,{container:this.state.container,setContainerData:this.setContainerData,saveContainer:this.saveContainer})),React.createElement(_lifeCycle2.default,{collection:this.state.data.specimen.collection,preparation:this.state.data.specimen.preparation,analysis:this.state.data.specimen.analysis,centers:this.state.options.centers})),React.createElement("div",{className:"summary"},globals,React.createElement("div",{className:"processing"},collectionPanel,preparationPanel,analysisPanel)))}}]),BiobankSpecimen}(React.Component);BiobankSpecimen.propTypes={specimenPageDataURL:React.PropTypes.string.isRequired};var RBiobankSpecimen=React.createFactory(BiobankSpecimen);window.BiobankSpecimen=BiobankSpecimen,window.RBiobankSpecimen=RBiobankSpecimen,exports.default=BiobankSpecimen},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,
descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SpecimenAnalysisForm=function(_React$Component){function SpecimenAnalysisForm(){_classCallCheck(this,SpecimenAnalysisForm);var _this=_possibleConstructorReturn(this,(SpecimenAnalysisForm.__proto__||Object.getPrototypeOf(SpecimenAnalysisForm)).call(this));return _this.getSpecimenMethodFields=_this.getSpecimenMethodFields.bind(_this),_this.setAnalysis=_this.setAnalysis.bind(_this),_this.addData=_this.addData.bind(_this),_this.setData=_this.setData.bind(_this),_this}return _inherits(SpecimenAnalysisForm,_React$Component),_createClass(SpecimenAnalysisForm,[{key:"setAnalysis",value:function(name,value){var analysis=this.props.specimen.analysis;analysis[name]=value,this.props.setSpecimenData("analysis",analysis)}},{key:"addData",value:function(){var analysis=this.props.specimen.analysis;analysis.data={},this.props.setSpecimenData("analysis",analysis)}},{key:"setData",value:function(name,value){var data=this.props.specimen.analysis.data;data[name]=value,this.setAnalysis("data",data)}},{key:"getSpecimenMethodFields",value:function(fieldsObject){var _this2=this,specimenMethodFields=Object.keys(fieldsObject).map(function(attribute){var datatype=_this2.props.attributeDatatypes[fieldsObject[attribute].datatypeId].datatype;if("text"===datatype||"number"===datatype){if(null==fieldsObject[attribute].refTableId)return React.createElement(TextboxElement,{name:attribute,label:fieldsObject[attribute].name,onUserInput:_this2.setData,required:fieldsObject[attribute].required,value:_this2.props.specimen.analysis.data[attribute]});if(null!==fieldsObject[attribute].refTableId)return React.createElement(SelectElement,{name:attribute,label:fieldsObject[attribute].name,options:_this2.props.attributeOptions[fieldsObject[attribute].refTableId],onUserInput:_this2.setData,required:fieldsObject[attribute].required,value:_this2.props.specimen.analysis.data[attribute]})}if("datetime"===datatype)return React.createElement(DateElement,{name:attribute,label:fieldsObject[attribute].name,onUserInput:_this2.setData,ref:attribute,required:fieldsObject[attribute].required,value:_this2.props.specimen.analysis.data[attribute]})});return specimenMethodFields}},{key:"render",value:function(){var submitButton=void 0;submitButton=this.props.data.specimen.analysis?React.createElement(ButtonElement,{label:"Update"}):React.createElement(ButtonElement,{label:"Submit"});var specimenMethodFields=void 0;if(this.props.specimen.analysis.methodId){var specimenMethodFieldsObject=this.props.specimenMethodAttributes[this.props.specimen.analysis.methodId];specimenMethodFieldsObject&&(this.props.specimen.analysis.data?specimenMethodFields=this.getSpecimenMethodFields(specimenMethodFieldsObject):this.addData())}return React.createElement(FormElement,{name:"specimenAnalysis",onSubmit:this.props.saveSpecimen,ref:"form"},React.createElement(SelectElement,{name:"methodId",label:"Method",options:this.props.specimenMethods,onUserInput:this.setAnalysis,required:!0,value:this.props.specimen.analysis.methodId}),specimenMethodFields,React.createElement(DateElement,{name:"date",label:"Date",onUserInput:this.setAnalysis,required:!0,value:this.props.specimen.analysis.date}),React.createElement(TimeElement,{name:"time",label:"Time",onUserInput:this.setAnalysis,required:!0,value:this.props.specimen.analysis.time}),React.createElement(TextareaElement,{name:"comments",label:"Comments",onUserInput:this.setAnalysis,value:this.props.specimen.analysis.comments}),submitButton)}}]),SpecimenAnalysisForm}(React.Component);SpecimenAnalysisForm.propTypes={},exports.default=SpecimenAnalysisForm}]);
//# sourceMappingURL=specimenIndex.js.map